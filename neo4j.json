{
  "items": [
    {
      "tags": [
        "r",
        "neo4j",
        "cypher"
      ],
      "owner": {
        "reputation": 27,
        "user_id": 9625000,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3e6a923a43704aa4936aa0b634305577?s=128&d=identicon&r=PG",
        "display_name": "Eiraus",
        "link": "https://stackoverflow.com/users/9625000/eiraus"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 6,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575539653,
      "creation_date": 1575539653,
      "question_id": 59192407,
      "share_link": "https://stackoverflow.com/q/59192407",
      "body_markdown": "I am trying to generate a graph using the neo4r R driver. I have no problems preforming standard queries such as\r\n\r\n    &quot;MATCH (n:Node {nodeName: ‘A Name’}) RETURN COUNT(n)” %&gt;% call_neo4j(con)\r\n\r\nHowever when I try to create a parameter  with the following query\r\n\r\n    &quot;:params {Testnode: {testNodeName: &#39;Node Name&#39;}}&quot; %&gt;% call_neo4j(con)\r\n\r\nI get the following syntax error\r\n\r\n    $error_code\r\n    [1] &quot;Neo.ClientError.Statement.SyntaxError&quot;\r\n    \r\n    $error_message\r\n    [1] &quot;Invalid input &#39;:&#39;: expected &lt;init&gt; (line 1, column 1 (offset: 0))\\n\\&quot;:params {Testnode: {testNodeName: &#39;Node Name&#39;}}\\&quot;\\n ^&quot;\r\n\r\nThe parameter query works fine when I run it directly in the neo4j browser so I do not understand how there is a syntax error?\r\n\r\nAny ideas on how to fix this greatly accepted!",
      "link": "https://stackoverflow.com/questions/59192407/creating-a-parameter-in-neo4j-through-r-driver",
      "title": "Creating a parameter in neo4j through R driver"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "owner": {
        "reputation": 89,
        "user_id": 8792873,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/4b5e34bd26ffba538bd510de8a056421?s=128&d=identicon&r=PG&f=1",
        "display_name": "Angelixus",
        "link": "https://stackoverflow.com/users/8792873/angelixus"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 5,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575539139,
      "creation_date": 1575539139,
      "question_id": 59192254,
      "share_link": "https://stackoverflow.com/q/59192254",
      "body_markdown": "I was practicing with the Movie Database from Neo4j in order to practice and I have done the next query:\r\n\r\n```\r\nMATCH (a:Person)-[:ACTED_IN]-&gt;(m:Movie)&lt;-[:DIRECTED]-(a)\r\nRETURN a\r\n```\r\nThis query returns 3 rows but If I go to the graph view on the web editor and expand the &quot;Tom Hanks&quot; node I, of course, have one movie such that Tom Hanks directed and acted in that movie but the rest of the connected nodes only have the ACTED_IN relation. What I want to do is to, in this case, filter and remove Tom Hanks from the result since he has at least one connection such that it has only one relation  (either ACTED_IN or DIRECTED)\r\n\r\nPD: My expected result would be only the row representing node &quot;Clint Eastwood&quot;",
      "link": "https://stackoverflow.com/questions/59192254/neo4j-return-nodes-such-that-every-link-follows-an-specific-pattern",
      "title": "Neo4j Return nodes such that every link follows an specific pattern"
    },
    {
      "tags": [
        "scala",
        "apache-spark",
        "neo4j",
        "cypher"
      ],
      "owner": {
        "reputation": 587,
        "user_id": 6165496,
        "user_type": "registered",
        "accept_rate": 80,
        "profile_image": "https://www.gravatar.com/avatar/85ffff82a5eb23e1d14f538913c2a09e?s=128&d=identicon&r=PG&f=1",
        "display_name": "RudyVerboven",
        "link": "https://stackoverflow.com/users/6165496/rudyverboven"
      },
      "last_editor": {
        "reputation": 587,
        "user_id": 6165496,
        "user_type": "registered",
        "accept_rate": 80,
        "profile_image": "https://www.gravatar.com/avatar/85ffff82a5eb23e1d14f538913c2a09e?s=128&d=identicon&r=PG&f=1",
        "display_name": "RudyVerboven",
        "link": "https://stackoverflow.com/users/6165496/rudyverboven"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 25,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 2,
      "answer_count": 0,
      "score": 2,
      "last_activity_date": 1575536094,
      "creation_date": 1575535264,
      "last_edit_date": 1575536094,
      "question_id": 59191181,
      "share_link": "https://stackoverflow.com/q/59191181",
      "body_markdown": "I&#39;m currently using the [neo4j-spark-connector][1] for loading in data from the graph into a DataFrame. \r\nMy Spark job contains different queries on different parts of the graph. It can also run against different versions of the graph with less or more data, which we don&#39;t know upfront. The problem is that I don&#39;t know how to set a correct number of partitions and batch for each query before knowing how much results it will return.\r\n\r\n    val result = neo.cypher((&quot;MATCH (p:Person)-[:KNOWS]-&gt;(other:Person) RETURN person.Name, other.Name&quot;))\r\n      .partitions(**partitions**) // PROBLEM\r\n      .batch(**batch**) // PROBLEM\r\n\r\nI came up with a temporary solution where I count the number of most occuring relationship type and divide this by the number of partitions.\r\n\r\n    val batch: Long = {\r\n    // partitions default: 200\r\n    println(&quot;Calculating batch size...&quot;)\r\n    val batchSizeCount = if (relationShip == null) {\r\n      neo.cypher(&quot;MATCH (n)-[r:MOST_OCC_REL]-&gt;(m) RETURN COUNT(r)&quot;).loadRdd[Long].collect.head\r\n    }\r\n    \r\n    val newPartitions = if (partitions &gt; 5) {\r\n      partitions - 5\r\n    } else {\r\n      partitions\r\n    }\r\n\r\n    val batchSize = if (batchSizeCount &lt; newPartitions) {\r\n      1L\r\n    } else {\r\n      batchSizeCount / newPartitions\r\n    }\r\n\r\n    println(&quot;Batch size for Neo4j: &quot; + batchSize)\r\n    batchSize\r\n    }\r\n\r\nAlthough the overhead it works for most of the (simple) queries. But for more complex queries it does not seem to be correct al the time.\r\nI need to make sure that the reading of source data always uses the appropriate partitions/batch configuration for each run/query.\r\n\r\nIs there maybe a better way to define the correct partitions and batch size, without knowing the amount of the data it will return ?\r\n  [1]: https://github.com/neo4j-contrib/neo4j-spark-connector",
      "link": "https://stackoverflow.com/questions/59191181/variable-number-of-partitions-and-batch-for-loaddataframe",
      "title": "Variable number of partitions and batch for loadDataFrame"
    },
    {
      "tags": [
        "neo4j",
        "cypher",
        "graph-databases"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575519072,
          "creation_date": 1575519072,
          "answer_id": 59188142,
          "question_id": 59187514,
          "share_link": "https://stackoverflow.com/a/59188142",
          "body_markdown": "It sounds lik the goal is to organize the nodes by `p` and then create a relationship between them to establish the ordered list.\r\n\r\n\r\n    // find all of the nodes with a p value\r\n    MATCH (n:Node)\r\n    WHERE EXISTS (n.p)\r\n\r\n    // put them in a collection ordered by p\r\n    WITH n\r\n    ORDER BY n.p\r\n    WITH COLLECT(n) AS nodes\r\n\r\n    // iterate over the collection in pairs starting at the beginning and create the relationship\r\n    UNWIND RANGE(1,size(nodes)-1) AS idx\r\n    WITH nodes[idx-1] AS a, nodes[idx] AS b\r\n    MERGE (a)-[:NEXT]-&gt;(b)",
          "link": "https://stackoverflow.com/questions/59187514/neo4j-create-relationships-according-to-the-order-of-the-node-property-values/59188142#59188142",
          "title": "Neo4j, create relationships according to the order of the node property values"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 7161595,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/1fa8d1edc98a99408e2542b8347aab78?s=128&d=identicon&r=PG&f=1",
        "display_name": "Hainan Chen",
        "link": "https://stackoverflow.com/users/7161595/hainan-chen"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575519072,
      "creation_date": 1575514451,
      "question_id": 59187514,
      "share_link": "https://stackoverflow.com/q/59187514",
      "body_markdown": "I have a graph database. The nodes in the graph suppose to be connected based on the order of the given property values. For example, the graph nodes can be:\r\n\r\n**(a{p:1}) (b{p:3}) (c{p:6}) (d{p:8})**\r\n\r\nthen the connections suppose to be:\r\n\r\n**a--b--c--d**\r\n\r\naccording to the order of the p value.\r\n\r\nWhere the problem is that the p values are randomly given. \r\n\r\nSo, how can I create the relationships between the nodes by Cypher?\r\n\r\nCould you guys give me any suggestions? Thanks a lot!",
      "link": "https://stackoverflow.com/questions/59187514/neo4j-create-relationships-according-to-the-order-of-the-node-property-values",
      "title": "Neo4j, create relationships according to the order of the node property values"
    },
    {
      "tags": [
        "python",
        "csv",
        "neo4j",
        "cypher",
        "py2neo"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 3420,
            "user_id": 702846,
            "user_type": "registered",
            "accept_rate": 49,
            "profile_image": "https://www.gravatar.com/avatar/ad589b0712b73d8b534d9a7bf5e2f40d?s=128&d=identicon&r=PG",
            "display_name": "user702846",
            "link": "https://stackoverflow.com/users/702846/user702846"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575535066,
          "creation_date": 1575535066,
          "answer_id": 59191136,
          "question_id": 59185897,
          "share_link": "https://stackoverflow.com/a/59191136",
          "body_markdown": "One has to to the config file and edit the following line in the `neo4j.config`\r\n\r\n    # The name of the database to mount\r\n    dbms.active_database=graph.db\r\n\r\n\r\nthen can run `./bin/neo4j consol` \r\n\r\nthe output should end like\r\n\r\n    Starting Neo4j.\r\n    2019-12-01 23:42:14.731+0000 INFO  ======== Neo4j 3.5.3 ========\r\n    2019-12-01 23:42:14.743+0000 INFO  Starting...\r\n    2019-12-01 23:42:16.599+0000 INFO  Bolt enabled on 127.0.0.1:7687.\r\n    2019-12-01 23:42:18.122+0000 INFO  Started.\r\n    2019-12-01 23:42:19.065+0000 INFO  Remote interface available at http://localhost:7474/\r\n\r\nthen going back to the jupyter notebook ...",
          "link": "https://stackoverflow.com/questions/59185897/connecting-to-neo4j-database-after-importing-csv/59191136#59191136",
          "title": "Connecting to Neo4j database after importing CSV"
        }
      ],
      "owner": {
        "reputation": 3420,
        "user_id": 702846,
        "user_type": "registered",
        "accept_rate": 49,
        "profile_image": "https://www.gravatar.com/avatar/ad589b0712b73d8b534d9a7bf5e2f40d?s=128&d=identicon&r=PG",
        "display_name": "user702846",
        "link": "https://stackoverflow.com/users/702846/user702846"
      },
      "last_editor": {
        "reputation": 79850,
        "user_id": 355230,
        "user_type": "registered",
        "accept_rate": 88,
        "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1",
        "display_name": "martineau",
        "link": "https://stackoverflow.com/users/355230/martineau"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575535066,
      "creation_date": 1575500977,
      "last_edit_date": 1575505885,
      "question_id": 59185897,
      "share_link": "https://stackoverflow.com/q/59185897",
      "body_markdown": "I have imported my csv files using the neo4j-admin according to the [documentation][1] using the following command\r\n\r\n    /bin/neo4j-admin import --mode=csv --nodes all_nodes_ne_header.csv,all_nodes_ne.csv --relationships all_relations_ne_header.csv,all_relations_ne.csv\r\n\r\nthe result looks like\r\n```none\r\nIMPORT DONE in 15s 997ms.\r\nImported:\r\n  19354 nodes\r\n  11759454 relationships\r\n  58062 properties\r\nPeak memory usage: 1.03 GB\r\n```\r\nand I can see a file called `graph.db` in the `data/databases` folder.\r\n\r\nI go to python and do:\r\n\r\n    from py2neo import Graph, Node, Relationship, Database\r\n    %matplotlib inline\r\n    %load_ext cypher\r\n\r\n    default_db = Database(db = Database())\r\n    graph = Graph(&quot;bolt://localhost:3637&quot;)\r\n\r\nand after running my query I get the following:\r\n```none\r\nFormat: (http|https)://username:password@hostname:port/db/name\r\n...\r\nConnectionError: HTTPConnectionPool(host=&#39;localhost&#39;, port=7474): Max retries exceeded with url: /db/data/ (Caused by NewConnectionError(&#39;&lt;urllib3.connection.HTTPConnection object at 0x12e269790&gt;: Failed to establish a new connection: [Errno 61] Connection refused&#39;))\r\n```\r\nI guess I am not doing the connection correctly within Python and didn&#39;t find anywhere in the documentation how to do it. Basically, I have not set any password, username and even don&#39;t the port. I generated a report using `neo4j-admin report` and there was not anything relevant either. therefore, I appreciate your comments on how I can build the connection and start querying from python.\r\n\r\n  [1]: https://neo4j.com/docs/operations-manual/current/tools/import/\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59185897/connecting-to-neo4j-database-after-importing-csv",
      "title": "Connecting to Neo4j database after importing CSV"
    },
    {
      "tags": [
        "neo4j"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 56,
            "user_id": 7264966,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/Izpt4.jpg?s=128&g=1",
            "display_name": "terryf82",
            "link": "https://stackoverflow.com/users/7264966/terryf82"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575500757,
          "creation_date": 1575500757,
          "answer_id": 59185862,
          "question_id": 59184872,
          "share_link": "https://stackoverflow.com/a/59185862",
          "body_markdown": "Have you checked the headers in your CSV files? That&#39;s been a problem for me when importing previously.\r\n\r\nAny chance your delimiter character is also appearing in data values?",
          "link": "https://stackoverflow.com/questions/59184872/neo4j-import-tool-fails-and-doesnt-show-why/59185862#59185862",
          "title": "Neo4j import tool fails and doesn&#39;t show why"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 1,
            "user_id": 12482307,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/87611d02d78e8820365971c3226b2862?s=128&d=identicon&r=PG&f=1",
            "display_name": "Muzos",
            "link": "https://stackoverflow.com/users/12482307/muzos"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575542161,
          "creation_date": 1575542161,
          "answer_id": 59193237,
          "question_id": 59184872,
          "share_link": "https://stackoverflow.com/a/59193237",
          "body_markdown": "well, I tested neo4j importing with more compact dataset and it worked fine (when there was problem with delimiter for example, then the error message showed me what was the specific problem). I optimized my program for creating these csv files based on this low dataset and used it to make the mentioned bigger csv files, which doesn&#39;t work.",
          "link": "https://stackoverflow.com/questions/59184872/neo4j-import-tool-fails-and-doesnt-show-why/59193237#59193237",
          "title": "Neo4j import tool fails and doesn&#39;t show why"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12482307,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/87611d02d78e8820365971c3226b2862?s=128&d=identicon&r=PG&f=1",
        "display_name": "Muzos",
        "link": "https://stackoverflow.com/users/12482307/muzos"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 10,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1575542161,
      "creation_date": 1575494704,
      "question_id": 59184872,
      "share_link": "https://stackoverflow.com/q/59184872",
      "body_markdown": "I have created 15.4 GB of csv files that I would like to import into fresh new Neo4j graph.db.\r\nAfter executing ```neo4j-admin import --delimiter=&quot;|&quot; --array-delimiter=&quot;&amp;&quot; --nodes=&quot;processes.*&quot;``` command (I have 17229 csv files, that are named &quot;processes_someHash.csv&quot;) I get this particular output:\r\n```\r\n..../pathWithCsvFiles: neo4j-admin import --delimiter=&quot;|&quot; --array-delimiter=&quot;&amp;&quot; --nodes=&quot;processes.*&quot;\r\nWARNING: Max 1024 open files allowed, minimum of 40000 recommended. See the Neo4j manual.\r\nFor input string: &quot;10059167292802359779483&quot;\r\n\r\nusage: neo4j-admin import [--mode=csv] [--database=&lt;name&gt;]\r\n                          [--additional-config=&lt;config-file-path&gt;]\r\n                          [--report-file=&lt;filename&gt;]\r\n                          [--nodes[:Label1:Label2]=&lt;&quot;file1,file2,...&quot;&gt;]\r\n                          [--relationships[:RELATIONSHIP_TYPE]=&lt;&quot;file1,file2,...&quot;&gt;]\r\n                          [--id-type=&lt;STRING|INTEGER|ACTUAL&gt;]\r\n                          [--input-encoding=&lt;character-set&gt;]\r\n                          [--ignore-extra-columns[=&lt;true|false&gt;]]\r\n                          [--ignore-duplicate-nodes[=&lt;true|false&gt;]]\r\n                          [--ignore-missing-nodes[=&lt;true|false&gt;]]\r\n                          [--multiline-fields[=&lt;true|false&gt;]]\r\n                          [--delimiter=&lt;delimiter-character&gt;]\r\n                          [--array-delimiter=&lt;array-delimiter-character&gt;]\r\n                          [--quote=&lt;quotation-character&gt;]\r\n                          [--max-memory=&lt;max-memory-that-importer-can-use&gt;]\r\n                          [--f=&lt;File containing all arguments to this import&gt;]\r\n                          [--high-io=&lt;true/false&gt;]\r\nusage: neo4j-admin import --mode=database [--database=&lt;name&gt;]\r\n                          [--additional-config=&lt;config-file-path&gt;]\r\n                          [--from=&lt;source-directory&gt;]\r\n\r\nenvironment variables:\r\n    NEO4J_CONF    Path to directory which contains neo4j.conf.\r\n    NEO4J_DEBUG   Set to anything to enable debug output.\r\n    NEO4J_HOME    Neo4j home directory.\r\n    HEAP_SIZE     Set JVM maximum heap size during command execution.\r\n                  Takes a number and a unit, for example 512m.\r\n\r\nImport a collection of CSV files with --mode=csv (default), or a database from a\r\npre-3.0 installation with --mode=database.\r\n\r\noptions:\r\n  --database=&lt;name&gt;\r\n      Name of database. [default:graph.db]\r\n  --additional-config=&lt;config-file-path&gt;\r\n      Configuration file to supply additional configuration in. [default:]\r\n  --mode=&lt;database|csv&gt;\r\n      Import a collection of CSV files or a pre-3.0 installation. [default:csv]\r\n  --from=&lt;source-directory&gt;\r\n      The location of the pre-3.0 database (e.g. &lt;neo4j-root&gt;/data/graph.db).\r\n      [default:]\r\n  --report-file=&lt;filename&gt;\r\n      File in which to store the report of the csv-i\r\n... and more of a manual\r\n```\r\n\r\nWhat does the ```For input string: &quot;10059167292802359779483&quot;``` mean?",
      "link": "https://stackoverflow.com/questions/59184872/neo4j-import-tool-fails-and-doesnt-show-why",
      "title": "Neo4j import tool fails and doesn&#39;t show why"
    },
    {
      "tags": [
        "node.js",
        "database",
        "neo4j",
        "cypher"
      ],
      "owner": {
        "reputation": 85,
        "user_id": 3055526,
        "user_type": "registered",
        "accept_rate": 20,
        "profile_image": "https://www.gravatar.com/avatar/bd8e5550f63293097d862e5e495b9341?s=128&d=identicon&r=PG&f=1",
        "display_name": "Morty",
        "link": "https://stackoverflow.com/users/3055526/morty"
      },
      "last_editor": {
        "reputation": 85,
        "user_id": 3055526,
        "user_type": "registered",
        "accept_rate": 20,
        "profile_image": "https://www.gravatar.com/avatar/bd8e5550f63293097d862e5e495b9341?s=128&d=identicon&r=PG&f=1",
        "display_name": "Morty",
        "link": "https://stackoverflow.com/users/3055526/morty"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 13,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575538788,
      "creation_date": 1575486773,
      "last_edit_date": 1575538788,
      "question_id": 59183177,
      "share_link": "https://stackoverflow.com/q/59183177",
      "body_markdown": "I have following problem: \r\n\r\n I&#39;m trying to create neo4j relationship between nodes but after first insertion of second query  into neo4j db, **neo4j do not create** relationship  between node **TechnologyComponent -&gt; TechComponentToTechRel -&gt; Technology**. After second execution it works.\r\n\r\n\r\nI think that problem is that MATCH clause in second query failed. Maybe, because matched node was created later then the desired relationship. Anyway, I&#39;m not able to created it but TechComponentToTechRel and Technology nodes are created.  \r\n\r\n\r\nThis I want to achieve: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn first query **CREATE_TECHNOLOGY_COMPONENT_NODE**, I&#39;m creating first part of relationship and also node TechnologyComponent : **ProjectToTechComponentRel -&gt; TechnologyComponent**.\r\n\r\n    const CREATE_TECHNOLOGY_COMPONENT_NODE =\r\n        &#39;MATCH(ptc: ProjectToTechComponentRel {id:{id}, projectId:{projectId}}) &#39; +\r\n        &#39;MERGE (tc: TechnologyComponent {name:{name}}) &#39; +\r\n        &#39;MERGE(ptc)-[:HAS_TECHNOLOGY_COMPONENT]-&gt;(tc)&#39;;\r\n\r\n In second query **CREATE_TECHNOLOGY_NODE** I&#39;m creating relationship between these three nodes **TechnologyComponent -&gt; TechComponentToTechRel -&gt; Technology**  and also creating node TechComponentToTechRel  and Technology.  \r\n\r\n     const CREATE_TECHNOLOGY_NODE =\r\n        &#39;MERGE(tct:TechComponentToTechRel {projectId:{projectId}, prevTechComponentName:{name}, nextTechName:{techName}}) &#39; +\r\n          &#39;ON CREATE SET tct.active = {active} &#39; +\r\n          &#39;ON MATCH SET  tct.active = {active} &#39; +\r\n        &#39;MERGE(t:Technology {name:{techName}}) &#39;+\r\n          &#39;ON CREATE SET t.id={technologyId},&#39; + \r\n                        &#39;t.description = {description} &#39; +\r\n          &#39;ON MATCH SET t.id={technologyId},&#39; +\r\n                        &#39;t.description={description} &#39;+\r\n        &#39;WITH tct, t &#39;+               \r\n        &#39;MATCH(tc:TechnologyComponent {name:{name}}) &#39;+  \r\n        &#39;MERGE(tc)-[:HAS_TECHNOLOGY_REL]-&gt;(tct)-[:HAS_NEW_TECHNOLOGY]-&gt;(t)&#39;;\r\n\r\n\r\n\r\n\r\nHere is the implementation in node.js.\r\n\r\n I&#39;m creating two arrays of promises. Array **techComponentArray** contains promises for the first query. So after execution with `Promises.all`, there are multiple relationship in neo4j db e.g \r\n\r\n 1. ProjectToTechComponentRel -&gt; TechnologyComponent1\r\n  \r\n 2. ProjectToTechComponentRel -&gt; TechnologyComponent2 \r\n...\r\n\r\n\r\nThen after that I executed array **technologyNodeArray** that contains promises and should create following relationship, which not work as mentioned above.\r\n \r\n\r\n 1.  TechnologyComponent-&gt; TechComponentToTechRel_1-. Technology_1\r\n 2. TechnologyComponent-&gt; TechComponentToTechRel_2-. Technology_2\r\n ...\r\n \r\n\r\n           async function createBlueprintNode({ id, projectId, model }) {\r\n            \r\n                const technologyNodeArray = [];\r\n                const techComponentArray = model.map(({ name, technologies }) =&gt; {\r\n                    if (technologies.length &gt; 0) {\r\n                        // console.log(&#39;technologies&#39;, technologies);\r\n                        technologies.forEach(({ id: technologyId, name: techName, description }) =&gt; {\r\n                            technologyNodeArray.push(\r\n                                neo4jExecuteQuery(CREATE_TECHNOLOGY_NODE, {\r\n                                    id,\r\n                                    technologyId,\r\n                                    name,\r\n                                    projectId,\r\n                                    description,\r\n                                    techName,\r\n                                    active: &#39;active&#39;\r\n                                })\r\n                            );\r\n                        });\r\n                    }\r\n                    return neo4jExecuteQuery(CREATE_TECHNOLOGY_COMPONENT_NODE, { id, name, projectId });\r\n                });\r\n    \r\n              await Promise.all(techComponentArray);\r\n              await Promise.all(technologyNodeArray);\r\n    }\r\n\r\n    \r\nWhy neo4j do not create this relationship ? \r\n\r\nThanks for answer.     \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ABhGY.png",
      "link": "https://stackoverflow.com/questions/59183177/neo4j-do-not-create-relationship-between-nodes-in-node-js",
      "title": "neo4j do not create relationship between nodes in node.js"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "owner": {
        "reputation": 1289,
        "user_id": 1189332,
        "user_type": "registered",
        "accept_rate": 24,
        "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
        "display_name": "user1189332",
        "link": "https://stackoverflow.com/users/1189332/user1189332"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575480741,
      "creation_date": 1575480741,
      "question_id": 59181771,
      "share_link": "https://stackoverflow.com/q/59181771",
      "body_markdown": "Wondering what&#39;s the maximum number of elements that can be supplied within the IN operator. I&#39;ve got a use case where I need to supply 1500(ish) values. Not sure if it has some serious ramifications.",
      "link": "https://stackoverflow.com/questions/59181771/neo4j-cypher-max-elements-in-in-operator",
      "title": "Neo4J Cypher Max elements in IN operator"
    },
    {
      "tags": [
        "neo4j"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575477474,
          "creation_date": 1575477474,
          "answer_id": 59180763,
          "question_id": 59180599,
          "share_link": "https://stackoverflow.com/a/59180763",
          "body_markdown": "You could do something like this to set it on each node.\r\n\r\n    MATCH (n:Directed_Node)\r\n    SET n.Degree=size((n)--())\r\n\r\nIf you just want to get all the relationships for each node though this would likely be a better approach. As the number of relationships will likely be a dynamic value it would be expensive to always calculate it and store it every time. The database has this information readily available so this query will be very perfomant (with the caveat of course that you are going after every `Directed_Node`; if there are millions then it will never be _fast_) and always accurate.\r\n\r\n    MATCH (n:Directed_Node)\r\n    RETURN size((n)--())\r\n\r\n",
          "link": "https://stackoverflow.com/questions/59180599/set-a-property-for-each-node-in-neo4j/59180763#59180763",
          "title": "set a property for each node in neo4j"
        }
      ],
      "owner": {
        "reputation": 79,
        "user_id": 10717049,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/RwV5B.jpg?s=128&g=1",
        "display_name": "Lx2pwnd",
        "link": "https://stackoverflow.com/users/10717049/lx2pwnd"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 10,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575477474,
      "creation_date": 1575477009,
      "question_id": 59180599,
      "share_link": "https://stackoverflow.com/q/59180599",
      "body_markdown": "I want to set a property called degree for each node existing in my db that should count all the relationship for each node. \r\n\r\nI written this, but it doesn&#39;t work.\r\n```\r\nMATCH p=(n:Directed_Node)--()\r\nWITH count(p) AS counter\r\nSET n.Degree=counter\r\nreturn *\r\n```\r\n\r\nHow can I do this?",
      "link": "https://stackoverflow.com/questions/59180599/set-a-property-for-each-node-in-neo4j",
      "title": "set a property for each node in neo4j"
    },
    {
      "tags": [
        "graph",
        "neo4j",
        "cypher",
        "nodes"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1575479385,
          "creation_date": 1575479385,
          "answer_id": 59181370,
          "question_id": 59179018,
          "share_link": "https://stackoverflow.com/a/59181370",
          "body_markdown": "You will need to extract out each element in ProfileInfo.username. Does something like this help?\r\n\r\n    CALL apoc.load.json(&quot;file:/Neo4j/data/alpha_sample.json&quot;) YIELD value AS user\r\n    MERGE (u:USER {username:user.ProfileInfo.username})\r\n    SET u.created_time = user.ProfileInfo.created_time,\r\n        u += user.ProfileInfo.info",
          "link": "https://stackoverflow.com/questions/59179018/how-to-make-this-type-of-data-a-node-in-neo4j/59181370#59181370",
          "title": "How to make this type of data a node in neo4j?"
        }
      ],
      "owner": {
        "reputation": 3,
        "user_id": 7850590,
        "user_type": "registered",
        "profile_image": "https://lh4.googleusercontent.com/-3C3CRP2HM3U/AAAAAAAAAAI/AAAAAAAAAEU/MIgHx9C_cQs/photo.jpg?sz=128",
        "display_name": "Oussama Romdhane",
        "link": "https://stackoverflow.com/users/7850590/oussama-romdhane"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 15,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 59181370,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575479385,
      "creation_date": 1575472029,
      "question_id": 59179018,
      "share_link": "https://stackoverflow.com/q/59179018",
      "body_markdown": "i want to make a node in neo4j from json data, named with the username(unique), and having as proprieties the created_time(int) and info(a list)\r\n\r\n    {\r\n    &quot;ProfileInfo&quot;: {\r\n        &quot;created_time&quot;: 1286323200,\r\n        &quot;info&quot;: {\r\n            &quot;biography&quot;: &quot;&quot;,\r\n            &quot;followers_count&quot;: 5000,\r\n            &quot;following_count&quot;: 1000,\r\n            &quot;full_name&quot;: &quot;alpha beta&quot;,\r\n            &quot;id&quot;: 123456789,\r\n            &quot;is_business_account&quot;: true,\r\n            &quot;is_joined_recently&quot;: false,\r\n            &quot;is_private&quot;: false,\r\n            &quot;posts_count&quot;: 1,\r\n        },\r\n        &quot;username&quot;: &quot;alphabeta&quot;\r\n    }\r\n}\r\n\r\ni tried to run this command in cypher:\r\n\r\n    Call apoc.load.json(&quot;file:/Neo4j/data/alpha_sample.json&quot;) YIELD value AS user\r\n    MERGE (u:USER {username:user.ProfileInfo.username})\r\n    SET u.created_time = user.ProfileInfo.created_time,\r\n\t    u.info = user.ProfileInfo.info\r\n\r\nbut i get this error,\r\n\r\n    Property values can only be of primitive types or arrays thereof\r\n\r\nDoes anyone have any idea of how i can do this ?\r\nany help is welcome\r\n",
      "link": "https://stackoverflow.com/questions/59179018/how-to-make-this-type-of-data-a-node-in-neo4j",
      "title": "How to make this type of data a node in neo4j?"
    },
    {
      "tags": [
        "graph",
        "neo4j",
        "properties",
        "match"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 666,
                "user_id": 4838284,
                "user_type": "registered",
                "accept_rate": 47,
                "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chris",
                "link": "https://stackoverflow.com/users/4838284/chris"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575473449,
              "post_id": 59179361,
              "comment_id": 104579949,
              "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value/59179361#comment104579949_59179361"
            },
            {
              "owner": {
                "reputation": 8944,
                "user_id": 4187346,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
                "display_name": "Dave Bennett",
                "link": "https://stackoverflow.com/users/4187346/dave-bennett"
              },
              "reply_to_user": {
                "reputation": 666,
                "user_id": 4838284,
                "user_type": "registered",
                "accept_rate": 47,
                "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chris",
                "link": "https://stackoverflow.com/users/4838284/chris"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575474599,
              "post_id": 59179361,
              "comment_id": 104580687,
              "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value/59179361#comment104580687_59179361"
            },
            {
              "owner": {
                "reputation": 666,
                "user_id": 4838284,
                "user_type": "registered",
                "accept_rate": 47,
                "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chris",
                "link": "https://stackoverflow.com/users/4838284/chris"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575474858,
              "post_id": 59179361,
              "comment_id": 104580858,
              "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value/59179361#comment104580858_59179361"
            },
            {
              "owner": {
                "reputation": 8944,
                "user_id": 4187346,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
                "display_name": "Dave Bennett",
                "link": "https://stackoverflow.com/users/4187346/dave-bennett"
              },
              "reply_to_user": {
                "reputation": 666,
                "user_id": 4838284,
                "user_type": "registered",
                "accept_rate": 47,
                "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chris",
                "link": "https://stackoverflow.com/users/4838284/chris"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575477226,
              "post_id": 59179361,
              "comment_id": 104582277,
              "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value/59179361#comment104582277_59179361"
            },
            {
              "owner": {
                "reputation": 666,
                "user_id": 4838284,
                "user_type": "registered",
                "accept_rate": 47,
                "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chris",
                "link": "https://stackoverflow.com/users/4838284/chris"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575481960,
              "post_id": 59179361,
              "comment_id": 104584886,
              "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value/59179361#comment104584886_59179361"
            },
            {
              "owner": {
                "reputation": 8944,
                "user_id": 4187346,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
                "display_name": "Dave Bennett",
                "link": "https://stackoverflow.com/users/4187346/dave-bennett"
              },
              "reply_to_user": {
                "reputation": 666,
                "user_id": 4838284,
                "user_type": "registered",
                "accept_rate": 47,
                "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chris",
                "link": "https://stackoverflow.com/users/4838284/chris"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575486514,
              "post_id": 59179361,
              "comment_id": 104586895,
              "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value/59179361#comment104586895_59179361"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "last_editor": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 6,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1575477154,
          "last_edit_date": 1575477154,
          "creation_date": 1575473158,
          "answer_id": 59179361,
          "question_id": 59178934,
          "share_link": "https://stackoverflow.com/a/59179361",
          "body_markdown": "Updated answer...\r\n\r\n    OPTIONAL MATCH (n0:nodeA {id: 1})-[r]-(n2)\r\n    WITH collect(n2) AS first_match\r\n    OPTIONAL MATCH (n1:nodeA {id: 2})--(n2)\r\n    RETURN first_match + collect(n2) AS matches\r\n\r\n\r\n\r\nYou could just do two optional matches and return the union of the two result sets.\r\n\r\n    OPTIONAL MATCH (n:nodeA {id: 1})-[r]-(n2)\r\n    RETURN n2\r\n    UNION\r\n    OPTIONAL MATCH (n:nodeA {id: 2})--(n2)\r\n    RETURN n2",
          "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value/59179361#59179361",
          "title": "Neo4J - take results from one of two MATCH queries depending on property value"
        }
      ],
      "owner": {
        "reputation": 666,
        "user_id": 4838284,
        "user_type": "registered",
        "accept_rate": 47,
        "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
        "display_name": "Chris",
        "link": "https://stackoverflow.com/users/4838284/chris"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59179361,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575477154,
      "creation_date": 1575471690,
      "question_id": 59178934,
      "share_link": "https://stackoverflow.com/q/59178934",
      "body_markdown": "I want to be able to be able to execute a specific `MATCH` statement based on the result of an ID that is passed in, and ignore the other `MATCH` statement. \r\n\r\nSay the ID passed is `2`. I assume that because it has run the first query and not matched on anything, it is returning n2 as NULL and not going to the second MATCH statement. I might be wrong. How can I solve my problem? Any help would be great. \r\n\r\n    MATCH (n: nodeA)\r\n    OPTIONAL MATCH (n {id = 1})-[r]-(n2)\r\n    OPTIONAL MATCH (n {id = 2})--(n2)\r\n    WITH n2\r\n    RETURN n2",
      "link": "https://stackoverflow.com/questions/59178934/neo4j-take-results-from-one-of-two-match-queries-depending-on-property-value",
      "title": "Neo4J - take results from one of two MATCH queries depending on property value"
    },
    {
      "tags": [
        "graph",
        "neo4j",
        "properties",
        "match"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 666,
                "user_id": 4838284,
                "user_type": "registered",
                "accept_rate": 47,
                "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
                "display_name": "Chris",
                "link": "https://stackoverflow.com/users/4838284/chris"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575473137,
              "post_id": 59179297,
              "comment_id": 104579782,
              "link": "https://stackoverflow.com/questions/59177237/neo4j-choose-match-statement-based-on-node-property-value/59179297#comment104579782_59179297"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575472924,
          "creation_date": 1575472924,
          "answer_id": 59179297,
          "question_id": 59177237,
          "share_link": "https://stackoverflow.com/a/59179297",
          "body_markdown": "Does something like this fit your needs?\r\n\r\nBTW... in your example with `n.nodeType == &quot;B&quot;` you are returning `r` but you are not matching it in your query. I used different relationship types in the example below instead.\r\n\r\n    MATCH (n:testNode)\r\n    RETURN \r\n      CASE \r\n        WHEN n.nodeType = &quot;A&quot; THEN [(n)-[r:REL1]-(n2:testNode)| {n:n, r: type(r), n2: n2}] \r\n        WHEN n.nodeType = &quot;B&quot; THEN [(n)-[r:REL2]-(n2:testNode)| {n:n, r: type(r), n2: n2}] \r\n      END AS nodes\r\n",
          "link": "https://stackoverflow.com/questions/59177237/neo4j-choose-match-statement-based-on-node-property-value/59179297#59179297",
          "title": "Neo4J - Choose MATCH statement based on node property value"
        }
      ],
      "owner": {
        "reputation": 666,
        "user_id": 4838284,
        "user_type": "registered",
        "accept_rate": 47,
        "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
        "display_name": "Chris",
        "link": "https://stackoverflow.com/users/4838284/chris"
      },
      "last_editor": {
        "reputation": 666,
        "user_id": 4838284,
        "user_type": "registered",
        "accept_rate": 47,
        "profile_image": "https://www.gravatar.com/avatar/31f9133efa4665383038a34262e8b3cc?s=128&d=identicon&r=PG&f=1",
        "display_name": "Chris",
        "link": "https://stackoverflow.com/users/4838284/chris"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 14,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575473713,
      "creation_date": 1575466342,
      "last_edit_date": 1575473713,
      "question_id": 59177237,
      "share_link": "https://stackoverflow.com/q/59177237",
      "body_markdown": "I&#39;m attempting to MATCH on a specific path depending on the property of an initial node. \r\n\r\nE.g. I have a node, `n`, that has a property called `nodeType`. If node type is `A` then use the first MATCH, if node type is `B` then use the second MATCH. \r\n\r\nI&#39;ve attempted this using `FOREACH`. So when the case that nodeType is A, then return the node and it&#39;s relationships to other nodes. If the return type is B, then return its relationship to other nodes. In this case, it can only be one or the other, so only one will return a result. However, and this may be syntactic errors on my part, but where I&#39;m asking it  to execute a MATCH query, I cannot define the variables within the `FOREACH`. \r\n\r\nAny help would be great. \r\n\r\n    MATCH (n: testNode) \r\n    WITH n\r\n    FOREACH(_ IN CASE WHEN n.nodeType == &quot;A&quot; THEN [MATCH (n)-[r]-(n2: testNode)] ELSE [] END | WITH n, r, n2)\r\n    FOREACH(_ IN CASE WHEN n.nodeType == &quot;B&quot; THEN [MATCH (n)--(n0)-[r]-(n2: testNode)] ELSE [] END | WITH n, r, n2)\r\n    WITH n, r, n2\r\n    RETURN n, COLLECT(r), COLLECT(n2)\r\n\r\nNote: This is not the actual semantics of my MATCH queries. I have made them different just to show that they will do different things, but return the same types of nodes and relationships.",
      "link": "https://stackoverflow.com/questions/59177237/neo4j-choose-match-statement-based-on-node-property-value",
      "title": "Neo4J - Choose MATCH statement based on node property value"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 535,
                "user_id": 1745729,
                "user_type": "registered",
                "accept_rate": 80,
                "profile_image": "https://www.gravatar.com/avatar/cec3cc3e84d3be5c3e8785fbbac61e07?s=128&d=identicon&r=PG",
                "display_name": "Andrea Mucci",
                "link": "https://stackoverflow.com/users/1745729/andrea-mucci"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575477527,
              "post_id": 59178490,
              "comment_id": 104582453,
              "link": "https://stackoverflow.com/questions/59176690/neo4j-query-with-huge-database-very-slow/59178490#comment104582453_59178490"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1575470270,
          "creation_date": 1575470270,
          "answer_id": 59178490,
          "question_id": 59176690,
          "share_link": "https://stackoverflow.com/a/59178490",
          "body_markdown": "The problem is that although you have an index because you are doing `toLower` on the `name` property before the comparison then the index is not being used. The first step of the profile shows `NodeByLabelScan`. It is doing a full table scan on the `name` property.\r\n\r\nCreate a new property on your `:Artist` nodes called `name_lower`, set it to be `toLower(name)`, index that property and use it in your searches. This will vastly improve the performance of your query.",
          "link": "https://stackoverflow.com/questions/59176690/neo4j-query-with-huge-database-very-slow/59178490#59178490",
          "title": "Neo4J query with Huge database very slow"
        }
      ],
      "owner": {
        "reputation": 535,
        "user_id": 1745729,
        "user_type": "registered",
        "accept_rate": 80,
        "profile_image": "https://www.gravatar.com/avatar/cec3cc3e84d3be5c3e8785fbbac61e07?s=128&d=identicon&r=PG",
        "display_name": "Andrea Mucci",
        "link": "https://stackoverflow.com/users/1745729/andrea-mucci"
      },
      "last_editor": {
        "reputation": 8944,
        "user_id": 4187346,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
        "display_name": "Dave Bennett",
        "link": "https://stackoverflow.com/users/4187346/dave-bennett"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59178490,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575470424,
      "creation_date": 1575464560,
      "last_edit_date": 1575470424,
      "question_id": 59176690,
      "share_link": "https://stackoverflow.com/q/59176690",
      "body_markdown": "i have a database with 29M nodes and 43M relationships\r\n\r\ni need to do a query to find a name of an Artist\r\n\r\n    MATCH (a:Artist) WHERE toLower(a.name) CONTAINS toLower(&quot;John&quot;) AND a.group=false\r\n    WITH a\r\n    OPTIONAL MATCH (a)-[b:IS_SUBSCRIBED]-&gt;(c:Company)\r\n    WITH a, c\r\n    OPTIONAL MATCH (a)&lt;-[f:HAS_MEMBER]-(g:Artist)\r\n    WITH a, c, collect([g.name, g.aid]) as groups\r\n    RETURN a.name AS name, a.aid as id, c.number as aie_number, c.email as email, groups\r\n    ORDER BY a.name\r\n    LIMIT 200\r\n\r\n\r\nSo i have some artists that maybe are subscribed with a company and maybe are members of some groups.\r\nI need to catch that information and when i do the query this take long time, more that 6 seconds that for my point of view is a bit slow, i have attached the profile\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BF9qR.png\r\n\r\n\r\nAre there some tricks to improve the performance?\r\n\r\nI have INDEX for the Artist name and an index of :Artist(name, group)\r\n\r\n\r\nthanks in advance for your help",
      "link": "https://stackoverflow.com/questions/59176690/neo4j-query-with-huge-database-very-slow",
      "title": "Neo4J query with Huge database very slow"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "owner": {
        "reputation": 175,
        "user_id": 1500698,
        "user_type": "registered",
        "accept_rate": 100,
        "profile_image": "https://www.gravatar.com/avatar/79efeab7b448b8acf28411a68d7774e7?s=128&d=identicon&r=PG",
        "display_name": "Yuval",
        "link": "https://stackoverflow.com/users/1500698/yuval"
      },
      "last_editor": {
        "reputation": 175,
        "user_id": 1500698,
        "user_type": "registered",
        "accept_rate": 100,
        "profile_image": "https://www.gravatar.com/avatar/79efeab7b448b8acf28411a68d7774e7?s=128&d=identicon&r=PG",
        "display_name": "Yuval",
        "link": "https://stackoverflow.com/users/1500698/yuval"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 13,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575465652,
      "creation_date": 1575459073,
      "last_edit_date": 1575465652,
      "question_id": 59175041,
      "share_link": "https://stackoverflow.com/q/59175041",
      "body_markdown": "I have the following graph:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI would look to get all contractors and subcontractors and clients, starting from David.\r\nSo I thought of a query likes this:\r\n\r\n```MATCH (a:contractor)-[*0..1]-&gt;(b)-[w:works_for]-&gt;(c:client) return a,b,c```\r\n\r\nThis would return:\r\n         \r\n    (0:contractor {name:&quot;David&quot;})\t(0:contractor {name:&quot;David&quot;})\t(56:client {name:&quot;Sarah&quot;})\r\n    (0:contractor {name:&quot;David&quot;})\t(1:subcontractor {name:&quot;John&quot;})\t(56:client {name:&quot;Sarah&quot;})\r\n\r\nWhich returns the desired result. The issue here is performance. \r\nIf the DB contains millions of records and I leave (b) without a label, the query will take forever. If I add a label to ```(b)``` such as ```(b:subcontractor)``` I won&#39;t hit millions of rows but I will only get results with subcontractors:\r\n\r\n```(0:contractor {name:&quot;David&quot;})\t(1:subcontractor {name:&quot;John&quot;})\t(56:client {name:&quot;Sarah&quot;})```\r\n\r\nIs there a more efficient way to do this?\r\n\r\nlink to graph example: https://console.neo4j.org/r/pry01l\r\n  [1]: https://i.stack.imgur.com/zW0CC.png",
      "link": "https://stackoverflow.com/questions/59175041/neo4j-matching-a-path-where-middle-node-might-exist-or-not",
      "title": "NEO4J - Matching a path where middle node might exist or not"
    },
    {
      "tags": [
        "neo4j",
        "azure-web-sites",
        "azure-app-service-plans"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 5500,
            "user_id": 2266,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
            "display_name": "Chris Skardon",
            "link": "https://stackoverflow.com/users/2266/chris-skardon"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575474856,
          "post_id": 59171894,
          "comment_id": 104580856,
          "link": "https://stackoverflow.com/questions/59171894/connection-reset-by-peer-on-azure#comment104580856_59171894"
        },
        {
          "owner": {
            "reputation": 155,
            "user_id": 3815480,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/478d225a7a6c6a3898e49fea6a2d3fa5?s=128&d=identicon&r=PG&f=1",
            "display_name": "OaicStef",
            "link": "https://stackoverflow.com/users/3815480/oaicstef"
          },
          "reply_to_user": {
            "reputation": 5500,
            "user_id": 2266,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
            "display_name": "Chris Skardon",
            "link": "https://stackoverflow.com/users/2266/chris-skardon"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575479063,
          "post_id": 59171894,
          "comment_id": 104583353,
          "link": "https://stackoverflow.com/questions/59171894/connection-reset-by-peer-on-azure#comment104583353_59171894"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 1630,
            "user_id": 490170,
            "user_type": "registered",
            "accept_rate": 56,
            "profile_image": "https://i.stack.imgur.com/LCCd3.png?s=128&g=1",
            "display_name": "Jamie",
            "link": "https://stackoverflow.com/users/490170/jamie"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575515726,
          "creation_date": 1575515726,
          "answer_id": 59187691,
          "question_id": 59171894,
          "share_link": "https://stackoverflow.com/a/59187691",
          "body_markdown": "From everything I can find that is not an adjustable setting. Here is the forum link that says it will not be changing and that is a couple years old at this point. https://social.msdn.microsoft.com/Forums/en-US/32b76114-67a4-4e6b-ac45-61b0f0a0829f/changing-the-4-minute-request-time-out-for-app-services?forum=windowsazurewebsitespreview\r\n\r\nI think you are going to have to add logic to your app that tests the connection, if it has been closed then either reopen it or create a new one. I don&#39;t know what language you are using to make any suggestions there. \r\n\r\n## Edit\r\n\r\nI will add that the total number of TCP connections that can be open on a single App Service is about 6k, at least on the S1. Keep that in mind because if you don&#39;t have pooling on the server side or you are not disposing of those then you will exhaust that the TCP pool and you will start getting errors. I recommend you configure an alert for that.",
          "link": "https://stackoverflow.com/questions/59171894/connection-reset-by-peer-on-azure/59187691#59187691",
          "title": "Connection reset by peer on Azure"
        }
      ],
      "owner": {
        "reputation": 155,
        "user_id": 3815480,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/478d225a7a6c6a3898e49fea6a2d3fa5?s=128&d=identicon&r=PG&f=1",
        "display_name": "OaicStef",
        "link": "https://stackoverflow.com/users/3815480/oaicstef"
      },
      "last_editor": {
        "reputation": 5500,
        "user_id": 2266,
        "user_type": "registered",
        "accept_rate": 90,
        "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
        "display_name": "Chris Skardon",
        "link": "https://stackoverflow.com/users/2266/chris-skardon"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 21,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575515726,
      "creation_date": 1575448496,
      "last_edit_date": 1575474863,
      "question_id": 59171894,
      "share_link": "https://stackoverflow.com/q/59171894",
      "body_markdown": "I have a web application running on an App Service on Azure cloud. \r\nOn the back-end I&#39;m using a tcp connection to our database (Neo4j graph db), the best practice is to open the tcp connection and keep it alive in order to be more reactive when we perform queries.\r\n\r\nThe issue I encountered is that the database is logging the exception &quot;Connection reset by peer&quot;;\r\nreading on the web I found out that maybe Azure has a TCP timeout configured by default, I read it to be set up to 4 minutes, which could be my issue root cause.\r\n\r\nSomeone knows how to configure the tcp KEEP ALIVE to always for App Services on Azure?\r\nI found on the web how to do it in Google cloud but nothing about Azure cloud.\r\n\r\nThank you in advance.\r\nOaicStef",
      "link": "https://stackoverflow.com/questions/59171894/connection-reset-by-peer-on-azure",
      "title": "Connection reset by peer on Azure"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1,
                "user_id": 12456665,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/a9aea9c51d2278961cec8b8d1fda5713?s=128&d=identicon&r=PG&f=1",
                "display_name": "LdL",
                "link": "https://stackoverflow.com/users/12456665/ldl"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575418315,
              "post_id": 59166914,
              "comment_id": 104557881,
              "link": "https://stackoverflow.com/questions/59165480/loading-sparse-adjacency-matrix-on-neo4j/59166914#comment104557881_59166914"
            },
            {
              "owner": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575427722,
              "post_id": 59166914,
              "comment_id": 104559888,
              "link": "https://stackoverflow.com/questions/59165480/loading-sparse-adjacency-matrix-on-neo4j/59166914#comment104559888_59166914"
            },
            {
              "owner": {
                "reputation": 22983,
                "user_id": 92359,
                "user_type": "registered",
                "accept_rate": 94,
                "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
                "display_name": "InverseFalcon",
                "link": "https://stackoverflow.com/users/92359/inversefalcon"
              },
              "reply_to_user": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575507597,
              "post_id": 59166914,
              "comment_id": 104593589,
              "link": "https://stackoverflow.com/questions/59165480/loading-sparse-adjacency-matrix-on-neo4j/59166914#comment104593589_59166914"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 22983,
            "user_id": 92359,
            "user_type": "registered",
            "accept_rate": 94,
            "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
            "display_name": "InverseFalcon",
            "link": "https://stackoverflow.com/users/92359/inversefalcon"
          },
          "last_editor": {
            "reputation": 22983,
            "user_id": 92359,
            "user_type": "registered",
            "accept_rate": 94,
            "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
            "display_name": "InverseFalcon",
            "link": "https://stackoverflow.com/users/92359/inversefalcon"
          },
          "comment_count": 3,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1575426312,
          "last_edit_date": 1575426312,
          "creation_date": 1575415848,
          "answer_id": 59166914,
          "question_id": 59165480,
          "share_link": "https://stackoverflow.com/a/59166914",
          "body_markdown": "If you just need to add a property on a relationship, where the property value is in your CSV, then it&#39;s just a matter of adding a variable for the relationship that you MERGE in, and then using SET (or ON CREATE SET, if you only want to set the property if the relationship didn&#39;t exist and needed to be created). So something like:\r\n\r\n    LOAD CSV WITH HEADERS FROM &#39;file:///matpharma.csv&#39; AS row\r\n    MERGE (a: node{name: row.id})\r\n    MERGE (b: node{name: row.key})\r\n    MERGE (a)-[r:w]-(b)\r\n    SET r.weight = row.weight\r\n\r\nEDIT\r\n\r\nAh, took a look at the CSV clip. This is a very strange way to format your data. You have data in your header (that is, your headers are trying to define the other node to lookup) which is the wrong way to go about this. You should instead have, per row, one column that defines one of the two nodes to connect (like the &quot;id&quot; column) and then another column for the other node (something like an &quot;id2&quot;). That way you can just do two MATCHes to get your nodes, then a MERGE between them, and then setting the relationship property, similar to the sample query I provided above.\r\n\r\nBut if you&#39;re set on this format, then it&#39;s going to be a more complicated query, since we have to deal with dynamic access of the row keys and values.\r\n\r\nSomething like:\r\n\r\n    LOAD CSV WITH HEADERS FROM &#39;file:///matpharma.csv&#39; AS row\r\n    MERGE (start:Node {name:row.id})\r\n    WITH start, row, [key in keys(row) WHERE key &lt;&gt; &#39;id&#39;] as keys\r\n    FOREACH (key in keys | \r\n     MERGE (end:Node {name:key})\r\n     MERGE (start)-[r:w]-(end)\r\n     ON CREATE SET r.weight = row[key] )\r\n\r\n",
          "link": "https://stackoverflow.com/questions/59165480/loading-sparse-adjacency-matrix-on-neo4j/59166914#59166914",
          "title": "Loading sparse adjacency matrix on Neo4j"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575454673,
          "creation_date": 1575454673,
          "answer_id": 59173673,
          "question_id": 59165480,
          "share_link": "https://stackoverflow.com/a/59173673",
          "body_markdown": "This is a nice Cypher challenge :) Let&#39;s say that LOAD CSV is not really meant to do this and probably you would be happier by flattening your data \r\n\r\nHere is what I came up with : \r\n\r\n```\r\nLOAD CSV FROM &quot;https://gist.githubusercontent.com/ikwattro/a5260d131f25bcce97c945cb97bc0bee/raw/4ce2b3421ad80ca946329a0be8a6e79ca025f253/data.csv&quot; AS row\r\nWITH collect(row) AS rows\r\nWITH rows, rows[0] AS firstRow\r\nUNWIND rows AS row\r\nWITH firstRow, row SKIP 1\r\nUNWIND range(0, size(row)-2) AS i\r\nRETURN firstRow[i+1], row[0], row[i+1]\r\n```\r\n\r\nYou can take a look at the gist",
          "link": "https://stackoverflow.com/questions/59165480/loading-sparse-adjacency-matrix-on-neo4j/59173673#59173673",
          "title": "Loading sparse adjacency matrix on Neo4j"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12456665,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/a9aea9c51d2278961cec8b8d1fda5713?s=128&d=identicon&r=PG&f=1",
        "display_name": "LdL",
        "link": "https://stackoverflow.com/users/12456665/ldl"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 37,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1575454673,
      "creation_date": 1575407866,
      "question_id": 59165480,
      "share_link": "https://stackoverflow.com/q/59165480",
      "body_markdown": "I&#39;m trying to load a sparse (co-occurrence) matrix in Neo4j but after many failed queries, it&#39;s getting frustrating.\r\n\r\n[Raw data][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v775k.jpg\r\n\r\nBasically, I want to create the nodes from the ids, and the relationship weight against each other node **(including itself)** should be the value on the matrix.\r\n\r\nSo, for example, &#39;nhs&#39; should have a self-relationship with weight 41 and 16 with &#39;england&#39;, and so on.\r\n\r\nI was trying things like:\r\n\r\n    LOAD CSV WITH HEADERS FROM &#39;file:///matpharma.csv&#39; AS row\r\n    MERGE (a: node{name: row.id})\r\n    MERGE (b: node{name: row.key})\r\n    MERGE (a)-[:w]-(b);\r\n\r\nI&#39;m not sure how to attach the edge values though (and not yet sure if the merges are producing the expected result).\r\n\r\nThanks in advance for the assistance",
      "link": "https://stackoverflow.com/questions/59165480/loading-sparse-adjacency-matrix-on-neo4j",
      "title": "Loading sparse adjacency matrix on Neo4j"
    },
    {
      "tags": [
        "neo4j",
        "cypher",
        "py2neo",
        "neo4j-apoc"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1575456177,
          "post_id": 59164654,
          "comment_id": 104570197,
          "link": "https://stackoverflow.com/questions/59164654/how-should-i-convert-this-neo4j-cypher-apoc-load-to-neo4j-admin-import#comment104570197_59164654"
        },
        {
          "owner": {
            "reputation": 1152,
            "user_id": 9530105,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/FLoW1.jpg?s=128&g=1",
            "display_name": "sectechguy",
            "link": "https://stackoverflow.com/users/9530105/sectechguy"
          },
          "reply_to_user": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575461657,
          "post_id": 59164654,
          "comment_id": 104573070,
          "link": "https://stackoverflow.com/questions/59164654/how-should-i-convert-this-neo4j-cypher-apoc-load-to-neo4j-admin-import#comment104573070_59164654"
        },
        {
          "owner": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1575474821,
          "post_id": 59164654,
          "comment_id": 104580833,
          "link": "https://stackoverflow.com/questions/59164654/how-should-i-convert-this-neo4j-cypher-apoc-load-to-neo4j-admin-import#comment104580833_59164654"
        }
      ],
      "owner": {
        "reputation": 1152,
        "user_id": 9530105,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/FLoW1.jpg?s=128&g=1",
        "display_name": "sectechguy",
        "link": "https://stackoverflow.com/users/9530105/sectechguy"
      },
      "last_editor": {
        "reputation": 1152,
        "user_id": 9530105,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/FLoW1.jpg?s=128&g=1",
        "display_name": "sectechguy",
        "link": "https://stackoverflow.com/users/9530105/sectechguy"
      },
      "comment_count": 3,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 21,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575465743,
      "creation_date": 1575404002,
      "last_edit_date": 1575465743,
      "question_id": 59164654,
      "share_link": "https://stackoverflow.com/q/59164654",
      "body_markdown": "I am working with email data and parsing it with python which produces a csv every hour.  With that csv I have 5 separate `load csv commands` to create/update nodes and relationships. They are `NO ATTACHMENT OR LINK`, `URL ONLY`, `ATTACHMENT ONLY`, `URL AND ATTACHMENT`, and `Attachment to Attachment Name, FileName Node`.\r\n\r\nI would like to automatically import these via batch job.  Because of my familiarity I wanted to just do it in python, but I have been looking around stack and other places and people are recommending `neo4j-admin import`.  From the documentation it looks very different than what I have been doing with `--nodes` and `--relationships`.  Can anyone help with showing me how to convert a `CYPHER/APOC LOAD CSV` example that I have created below into a `noe4j-admin import`?\r\n\r\n    // URL AND ATTACHMENT\r\n    USING PERIODIC COMMIT 1000\r\n    LOAD CSV WITH HEADERS FROM (&quot;file:///sessions/4_hour_parsed_and_ready.csv&quot;) AS row\r\n    MERGE (a:Sender { name: row.From, domain: row.Sender_Sub_Fld})\r\n    MERGE (b:Link { name: row.Url_Sub_Fld, topLevelDomain: row.Url_Tld, htmlEncodedMessage: row.HTML_Encoded})\r\n    MERGE (c:Attachment { name: row.FileHash, fileExtension: row.FileName_Ext, containsMultipleExtensions: row.MultipleExtensions})\r\n    MERGE (d:Recipient { name: row.To})\r\n    WITH a,b,c,d,row\r\n    WHERE NOT row.Url_Tld = &quot;false&quot; AND NOT row.FileHash = &quot;false&quot;\r\n    CALL apoc.merge.relationship(a, row.Outcome, {}, {}, b) YIELD rel as rel1\r\n    CALL apoc.merge.relationship(b, row.Outcome2, {}, {}, d) YIELD rel as rel2\r\n    CALL apoc.merge.relationship(a, row.Outcome, {}, {}, c) YIELD rel as rel3\r\n    CALL apoc.merge.relationship(c, row.Outcome2, {}, {}, d) YIELD rel as rel4\r\n    RETURN a,b,c,d\r\n\r\nOr how I can wrap this code in py2neo.",
      "link": "https://stackoverflow.com/questions/59164654/how-should-i-convert-this-neo4j-cypher-apoc-load-to-neo4j-admin-import",
      "title": "How should I convert this neo4j Cypher/Apoc load to neo4j-admin import?"
    },
    {
      "tags": [
        "neo4j",
        "cypher",
        "tableau"
      ],
      "owner": {
        "reputation": 15,
        "user_id": 2475571,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/9wiE7.jpg?s=128&g=1",
        "display_name": "momsgoldteeth",
        "link": "https://stackoverflow.com/users/2475571/momsgoldteeth"
      },
      "last_editor": {
        "reputation": 15,
        "user_id": 2475571,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/9wiE7.jpg?s=128&g=1",
        "display_name": "momsgoldteeth",
        "link": "https://stackoverflow.com/users/2475571/momsgoldteeth"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575392750,
      "creation_date": 1575391778,
      "last_edit_date": 1575392750,
      "question_id": 59161788,
      "share_link": "https://stackoverflow.com/q/59161788",
      "body_markdown": "I am trying to connect to a Neo4j database in Tableau using the Web Data Connector. I was able to connect but when I enter my cypher query, I get the following error:\r\n\r\n&gt; Could not perform discovery. No routing servers available. Known\r\n&gt; routing table: RoutingTable[expirationTime=0, routers=[], readers=[],\r\n&gt; writers=[]]\r\n\r\nI have searched the web looking for any help on this error but nothing is coming up.\r\n\r\nUnfortunately, I cannot share my connection info or query with you fine people. Has anyone seen this error before? I recently updated my Tableau software to the current version (2019.2.6) and am not sure if that has something to do with it.\r\n\r\nI will note that the Neo4j URL has bolt+routing in the beginning of the URL. Removing one or the other does not work either.",
      "link": "https://stackoverflow.com/questions/59161788/tableau-web-data-connector-error-when-running-a-cypher-query",
      "title": "Tableau Web Data Connector Error when Running a Cypher Query"
    },
    {
      "tags": [
        "java",
        "spring",
        "neo4j"
      ],
      "owner": {
        "reputation": 1,
        "user_id": 6195985,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/d8d25b45530d7ee16a22b3d94bffb696?s=128&d=identicon&r=PG&f=1",
        "display_name": "B&#228;hr",
        "link": "https://stackoverflow.com/users/6195985/b%c3%a4hr"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 18,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575346898,
      "creation_date": 1575346898,
      "question_id": 59150151,
      "share_link": "https://stackoverflow.com/q/59150151",
      "body_markdown": "I was trying to execute the following query in Neo4j. In the Desktop Client it works fine, but when I use Spring Data Neo4j it returns nothing.\r\n\r\n``` \r\nMATCH (u1:Users)-[:WATCHED]-&gt;(m3:Movies)\r\nWHERE u1.userId =4\r\nWITH [i in m3.movieId | i] as movies\r\nMATCH path = (u:Users)-[:WATCHED]-&gt;(m1:Movies)-[s:SIMILAR]-&gt;(m2:Movies),\r\n(m2)-[:GENRES]-&gt;(g:Genres),\r\n(u)-[:FAVORITE]-&gt;(g)\r\nWHERE u.userId =4 and not m2.movieId in movies\r\nRETURN distinct u.userId as userId, g.genres as genres, \r\nm2.title as title, m2.rating_mean as rating\r\nORDER BY m2.rating_mean descending\r\nLIMIT 5\r\n``` \r\n\r\nHere is my method in the repository interface:\r\n```\r\n@Query(&quot;MATCH (u1:Users)-[:WATCHED]-&gt;(m3:Movies) &quot; + \r\n\t\t&quot;WHERE u1.userId ={userId} &quot; + \r\n\t\t&quot;WITH [i in m3.movieId | i] as movies &quot; + \r\n\t\t&quot;MATCH path = (u:Users)-[:WATCHED]-&gt;(m1:Movies)-[s:SIMILAR]-&gt;(m2:Movies), &quot; + \r\n\t\t&quot;(m2)-[:GENRES]-&gt;(g:Genres), &quot; + \r\n\t\t&quot;(u)-[:FAVORITE]-&gt;(g) &quot; + \r\n\t\t&quot;WHERE u.userId ={userId} and not m2.movieId in movies &quot; + \r\n\t\t&quot;RETURN distinct u.userId as userId, g.genres as genres,  &quot; + \r\n\t\t&quot;m2.title as title, m2.rating_mean as rating &quot; + \r\n\t\t&quot;ORDER BY m2.rating_mean descending &quot; + \r\n\t\t&quot;LIMIT 5&quot;)\r\nCollection&lt;Movie&gt; recommendForUser(@Param(&quot;userId&quot;) Long userId);\r\n```\r\nEven if I switch the userId parameter to 4, it returns nothing.\r\n\r\nEntities:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor(access = PRIVATE)\r\n@NodeEntity(&quot;Users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n\tprivate Long userId;\r\n\r\n    @Relationship(type = &quot;WATCHED&quot;)\r\n    private Set&lt;UsersMovies&gt; usersMovies;\r\n    \r\n    @Relationship(type = &quot;FAVORITE&quot;)\r\n    private Set&lt;UsersGenres&gt; usersGenres;\r\n    \r\n\tpublic User(Long userId) {\r\n\t\tsuper();\r\n\t\tthis.userId = userId;\r\n\t}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor(access = PRIVATE)\r\n@NodeEntity(&quot;Movies&quot;)\r\npublic class Movie {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long movieId;\r\n\t\r\n\tprivate String title;\r\n\r\n\t@Property(name = &quot;rating_mean&quot;)\r\n\tprivate Float ratingMean;\r\n\t\r\n\t@JsonIgnore\r\n\t@Relationship(type = &quot;GENRES&quot;)\r\n\tprivate Set&lt;MoviesGenres&gt; moviesGenres;\r\n\t\r\n\t@JsonIgnore\r\n\t@Relationship(type = &quot;SIMILAR&quot;)\r\n\tprivate Set&lt;MoviesSimilarity&gt; moviesSimilarity;\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor(access = PRIVATE)\r\n@NodeEntity(&quot;Genres&quot;)\r\npublic class Genre {\r\n\t\r\n\t@Id\r\n\tprivate String genres;\r\n}\r\n```\r\n\r\n\r\nI&#39;m using Neo4j 3.5.12 and Spring version 2.2.1.RELEASE.\r\n",
      "link": "https://stackoverflow.com/questions/59150151/neo4j-query-works-fine-in-browser-but-not-in-spring-data-neo4j",
      "title": "Neo4j query works fine in browser but not in Spring Data Neo4j"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 2931,
            "user_id": 6077914,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LXTjN.jpg?s=128&g=1",
            "display_name": "Raj",
            "link": "https://stackoverflow.com/users/6077914/raj"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575350872,
          "post_id": 59149499,
          "comment_id": 104526521,
          "link": "https://stackoverflow.com/questions/59149499/neo4j-query-to-find-2-node-with-the-most#comment104526521_59149499"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1,
                "user_id": 12441434,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/5c461a3b89378f4fe9e4cb51ba11d523?s=128&d=identicon&r=PG&f=1",
                "display_name": "ashyyy",
                "link": "https://stackoverflow.com/users/12441434/ashyyy"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575386547,
              "post_id": 59150788,
              "comment_id": 104544940,
              "link": "https://stackoverflow.com/questions/59149499/neo4j-query-to-find-2-node-with-the-most/59150788#comment104544940_59150788"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 2931,
            "user_id": 6077914,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LXTjN.jpg?s=128&g=1",
            "display_name": "Raj",
            "link": "https://stackoverflow.com/users/6077914/raj"
          },
          "last_editor": {
            "reputation": 2931,
            "user_id": 6077914,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/LXTjN.jpg?s=128&g=1",
            "display_name": "Raj",
            "link": "https://stackoverflow.com/users/6077914/raj"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575353781,
          "last_edit_date": 1575353781,
          "creation_date": 1575351573,
          "answer_id": 59150788,
          "question_id": 59149499,
          "share_link": "https://stackoverflow.com/a/59150788",
          "body_markdown": "Looks like you have written relationship arrows in reverse direction.\r\n\r\nIt might be from Actor to Movie:\r\n\r\n    MATCH (actor1:Actor)-[st1:ACTED_IN]-&gt;(mv1:Movie)&lt;-[st2:ACTED_IN]-(actor2:Actor) \r\n    RETURN distinct actor1, actor2, count(mv1)\r\n\r\nThough you are using distinct your query will return duplicates because the following two are different records:\r\n\r\n    actor1, actor2, movie_count  \r\n    actor2, actor1, movie_count\r\n\r\nTo get rid of this duplicate entries you can use simple trick of comparing ids  of nodes like:\r\n\r\n    MATCH (actor1:Actor)-[:ACTED_IN]-&gt;(mv1:Movie)&lt;-[:ACTED_IN]-(actor2:Actor) \r\n    WHERE id(actor1)&gt;id(actor2)\r\n    RETURN actor1,actor2,count(mv1)\r\n\r\n**To find actors acted in most movies:**\r\n\r\n    MATCH (actor1:Actor)-[:ACTED_IN]-&gt;(mv1:Movie)&lt;-[:ACTED_IN]-(actor2:Actor) \r\n    WHERE id(actor1)&gt;id(actor2)\r\n    RETURN actor1,actor2,count(mv1) AS movie_count \r\n    ORDER BY movie_count DESC \r\n    LIMIT 1\r\n\r\n",
          "link": "https://stackoverflow.com/questions/59149499/neo4j-query-to-find-2-node-with-the-most/59150788#59150788",
          "title": "Neo4j: query to find 2 node with the most"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12441434,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/5c461a3b89378f4fe9e4cb51ba11d523?s=128&d=identicon&r=PG&f=1",
        "display_name": "ashyyy",
        "link": "https://stackoverflow.com/users/12441434/ashyyy"
      },
      "last_editor": {
        "reputation": 46884,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575402955,
      "creation_date": 1575341153,
      "last_edit_date": 1575402955,
      "question_id": 59149499,
      "share_link": "https://stackoverflow.com/q/59149499",
      "body_markdown": "I&#39;m trying to find which pair of actors have acted together in most number of movies in my data base and my query kept returning blank, any suggestions?\r\n\r\n    MATCH (actor1:Actor)&lt;-[st1:ACTED_IN]-(mv1:Movie)-[st2:ACTED_IN]-&gt;(actor2:Actor) \r\n    RETURN distinct actor1,actor2,count(mv1)\r\n",
      "link": "https://stackoverflow.com/questions/59149499/neo4j-query-to-find-2-node-with-the-most",
      "title": "Neo4j: query to find 2 node with the most"
    },
    {
      "tags": [
        "datetime",
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 75,
                "user_id": 8963648,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
                "display_name": "Devildude4427",
                "link": "https://stackoverflow.com/users/8963648/devildude4427"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575328878,
              "post_id": 59148035,
              "comment_id": 104521850,
              "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#comment104521850_59148035"
            },
            {
              "owner": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user": {
                "reputation": 75,
                "user_id": 8963648,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
                "display_name": "Devildude4427",
                "link": "https://stackoverflow.com/users/8963648/devildude4427"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575330032,
              "post_id": 59148035,
              "comment_id": 104522128,
              "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#comment104522128_59148035"
            },
            {
              "owner": {
                "reputation": 75,
                "user_id": 8963648,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
                "display_name": "Devildude4427",
                "link": "https://stackoverflow.com/users/8963648/devildude4427"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575330469,
              "post_id": 59148035,
              "comment_id": 104522245,
              "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#comment104522245_59148035"
            },
            {
              "owner": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user": {
                "reputation": 75,
                "user_id": 8963648,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
                "display_name": "Devildude4427",
                "link": "https://stackoverflow.com/users/8963648/devildude4427"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575331205,
              "post_id": 59148035,
              "comment_id": 104522407,
              "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#comment104522407_59148035"
            },
            {
              "owner": {
                "reputation": 75,
                "user_id": 8963648,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
                "display_name": "Devildude4427",
                "link": "https://stackoverflow.com/users/8963648/devildude4427"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575331866,
              "post_id": 59148035,
              "comment_id": 104522534,
              "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#comment104522534_59148035"
            },
            {
              "owner": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user": {
                "reputation": 75,
                "user_id": 8963648,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
                "display_name": "Devildude4427",
                "link": "https://stackoverflow.com/users/8963648/devildude4427"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575336398,
              "post_id": 59148035,
              "comment_id": 104523471,
              "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#comment104523471_59148035"
            },
            {
              "owner": {
                "reputation": 75,
                "user_id": 8963648,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
                "display_name": "Devildude4427",
                "link": "https://stackoverflow.com/users/8963648/devildude4427"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575344007,
              "post_id": 59148035,
              "comment_id": 104525024,
              "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#comment104525024_59148035"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 7,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575328560,
          "creation_date": 1575328560,
          "answer_id": 59148035,
          "question_id": 59147812,
          "share_link": "https://stackoverflow.com/a/59148035",
          "body_markdown": "If you want to get the corresponding epoch seconds or milliseconds, neo4j temporal instants (like `datetime`) provide such [values](https://neo4j.com/docs/cypher-manual/3.5/syntax/temporal/#cypher-temporal-accessing-components-temporal-instants).\r\n\r\nFor example:\r\n\r\n    WITH datetime() AS timestamp\r\n    RETURN timestamp.epochSeconds, timestamp.epochMillis\r\n",
          "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string/59148035#59148035",
          "title": "How do I nicely map Neo4J date into a dateTime String?"
        }
      ],
      "owner": {
        "reputation": 75,
        "user_id": 8963648,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
        "display_name": "Devildude4427",
        "link": "https://stackoverflow.com/users/8963648/devildude4427"
      },
      "last_editor": {
        "reputation": 75,
        "user_id": 8963648,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
        "display_name": "Devildude4427",
        "link": "https://stackoverflow.com/users/8963648/devildude4427"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 1,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": -1,
      "last_activity_date": 1575330346,
      "creation_date": 1575327185,
      "last_edit_date": 1575330346,
      "question_id": 59147812,
      "share_link": "https://stackoverflow.com/q/59147812",
      "body_markdown": "A datetime is stored in our Neo4j database by using this `timestamp: datetime()` in our data creation command. However, now that we want to get the data back out, we&#39;re finding it&#39;s a rather disgusting array of separate date/time objects, i.e.,\r\n\r\n```\r\n&quot;year&quot;: {\r\n  &quot;low&quot;: 2019,\r\n  &quot;high&quot;: 0\r\n},\r\n&quot;month&quot;: {\r\n  &quot;low&quot;: 11,\r\n  &quot;high: 0\r\n},\r\n...\r\n```\r\n\r\nI can&#39;t seriously believe this is just something I&#39;d have to deal with and parse myself, so there should be a way to do this automatically, but I can&#39;t find it. \r\n\r\nI&#39;ve tried\r\n\r\n`Match (n: .....) WITH properties(n) as data RETURN datetime(data.timestamp) AS ...`\r\n\r\nAnd I copied this from the documentation, to see if it was just extremely verbose:\r\n\r\n`MATCH (n: .....) WITH properties(n) as data WITH data.timestamp as timestamp RETURN datetime({year: timestamp.year, month: timestamp.month, ...) AS ...`\r\n\r\nAlong with a few dozen slight variations, and yet still it returns the same gross array of date/time objects with `low` and `high` values. This would be annoying because it means I&#39;d have to loop over the entire data set once just to clean it, and back again to actually sort it in the ways I need it to be sorted. This would be highly inefficient.\r\n\r\nWhat am I missing here?\r\n\r\nEdit: I&#39;d like to have the ISO 8601 timestamp returned, i.e., &quot;1997-07-16T19:20:30+01:00&quot;. ",
      "link": "https://stackoverflow.com/questions/59147812/how-do-i-nicely-map-neo4j-date-into-a-datetime-string",
      "title": "How do I nicely map Neo4J date into a dateTime String?"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1,
                "user_id": 12441434,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/5c461a3b89378f4fe9e4cb51ba11d523?s=128&d=identicon&r=PG&f=1",
                "display_name": "ashyyy",
                "link": "https://stackoverflow.com/users/12441434/ashyyy"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575323013,
              "post_id": 59146885,
              "comment_id": 104520041,
              "link": "https://stackoverflow.com/questions/59146348/neo4j-query-to-find-nodes-with-most-relationship/59146885#comment104520041_59146885"
            },
            {
              "owner": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user": {
                "reputation": 1,
                "user_id": 12441434,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/5c461a3b89378f4fe9e4cb51ba11d523?s=128&d=identicon&r=PG&f=1",
                "display_name": "ashyyy",
                "link": "https://stackoverflow.com/users/12441434/ashyyy"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575324584,
              "post_id": 59146885,
              "comment_id": 104520563,
              "link": "https://stackoverflow.com/questions/59146348/neo4j-query-to-find-nodes-with-most-relationship/59146885#comment104520563_59146885"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575321877,
          "creation_date": 1575321877,
          "answer_id": 59146885,
          "question_id": 59146348,
          "share_link": "https://stackoverflow.com/a/59146885",
          "body_markdown": "Maybe you did not wait long enough, because your query is trying to return all the actors for every movie.\r\n\r\nThis query should return a list of the actors for the (single) movie with the most actors:\r\n\r\n    MATCH (m:Movie)\r\n    WITH m\r\n    ORDER BY SIZE(()-[:ACTED_IN]-&gt;(m)) DESC\r\n    LIMIT 1\r\n    RETURN m, [(a)-[:ACTED_IN]-&gt;(m)|a] AS actors\r\n\r\nIt orders the movies by descending number of actors, takes just the first one, and returns it and a list of all its actors.",
          "link": "https://stackoverflow.com/questions/59146348/neo4j-query-to-find-nodes-with-most-relationship/59146885#59146885",
          "title": "Neo4j: query to find nodes with most relationship"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12441434,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/5c461a3b89378f4fe9e4cb51ba11d523?s=128&d=identicon&r=PG&f=1",
        "display_name": "ashyyy",
        "link": "https://stackoverflow.com/users/12441434/ashyyy"
      },
      "last_editor": {
        "reputation": 46884,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575321877,
      "creation_date": 1575319162,
      "last_edit_date": 1575321603,
      "question_id": 59146348,
      "share_link": "https://stackoverflow.com/q/59146348",
      "body_markdown": "I&#39;m trying to find which movie has the most number of actors in it in my database.Here&#39;s what i came up with but it kept giving me blank.\r\n\r\n    MATCH (m:Movie)\r\n    WITH m, SIZE(()-[:ACTED_IN]-&gt;(m)) as actorCnt\r\n    MATCH (a)-[:ACTED_IN]-&gt;(m)\r\n    RETURN m, a\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59146348/neo4j-query-to-find-nodes-with-most-relationship",
      "title": "Neo4j: query to find nodes with most relationship"
    },
    {
      "tags": [
        "java",
        "neo4j",
        "driver"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 1577,
            "user_id": 856672,
            "user_type": "registered",
            "accept_rate": 72,
            "profile_image": "https://www.gravatar.com/avatar/083682b9d7c012e8f90f7daf5b9fef25?s=128&d=identicon&r=PG",
            "display_name": "rico",
            "link": "https://stackoverflow.com/users/856672/rico"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575363803,
          "creation_date": 1575363803,
          "answer_id": 59153471,
          "question_id": 59141405,
          "share_link": "https://stackoverflow.com/a/59153471",
          "body_markdown": "According to Neo4j java driver maintainers, the max number of 2 * CPUs Neo4jDriverIO threads is the default behavior. It will be possible to control the number of threads starting with incoming 4.0.0 java driver version. See this [discussion][1].\r\n\r\n\r\n  [1]: https://github.com/neo4j/neo4j-java-driver/pull/652#issuecomment-560468506",
          "link": "https://stackoverflow.com/questions/59141405/neo4j-java-driver-number-of-threads-management/59153471#59153471",
          "title": "Neo4j java driver number of threads management"
        }
      ],
      "owner": {
        "reputation": 1577,
        "user_id": 856672,
        "user_type": "registered",
        "accept_rate": 72,
        "profile_image": "https://www.gravatar.com/avatar/083682b9d7c012e8f90f7daf5b9fef25?s=128&d=identicon&r=PG",
        "display_name": "rico",
        "link": "https://stackoverflow.com/users/856672/rico"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575363803,
      "creation_date": 1575298401,
      "question_id": 59141405,
      "share_link": "https://stackoverflow.com/q/59141405",
      "body_markdown": "I am using Neo4j java driver 1.7.5. I noticed that after successive calls, the number of Neo4jDriverIO threads is increasing until it achieves the max number of 2 * CPUs.\r\n\r\nIs there a way to control the number of Neo4jDriverIO threads ? Is this max number 2 * CPUs a normal default configuration ?\r\n\r\nThanks.",
      "link": "https://stackoverflow.com/questions/59141405/neo4j-java-driver-number-of-threads-management",
      "title": "Neo4j java driver number of threads management"
    },
    {
      "tags": [
        "python",
        "neo4j",
        "py2neo",
        "urllib3"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 4141,
            "user_id": 481584,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/c42fc6c4a1f02f91834f21038aaa9a51?s=128&d=identicon&r=PG",
            "display_name": "Quentin Pradet",
            "link": "https://stackoverflow.com/users/481584/quentin-pradet"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575487555,
          "creation_date": 1575487555,
          "answer_id": 59183367,
          "question_id": 59138809,
          "share_link": "https://stackoverflow.com/a/59183367",
          "body_markdown": "&gt; Because there is no close() method for py2neo.Graph instance and there is no statement about the life cycle of py2neo.Graph instance in official documentation so I used to think that the instance would dead and automatically release its resources (like http connections in the pool) when it is no longer referenced by programmer&#39;s code (for python will execute deletion when the reference count of one object reaches zero).\r\n\r\nYou&#39;re right that Python executes deletion when the variable is no longer referenced, but that&#39;s not something you should rely on, as there&#39;s no guarantee that it will be actually called.\r\n\r\nFor network connections, you want to explicitly close them, usually using a context manager or calling a `close()` method. urllib3 provides ways to do this, but they have to be used at the `py2neo` level.\r\n\r\nSo `Database` objects contain a `Connector` of type `HTTPConnector` if you specified an HTTP URL, and you can access it through the `connector` property and then `close()` it. And if you have a `Graph`, you can access the `database` from it. So properly closing `py2neo` graphs looks like this:\r\n\r\n```python3\r\ngraph = Graph(...)\r\n\r\n# use the graph...\r\n\r\ngraph.database.connector.close()  # close the connection pool\r\n```\r\n\r\nBut I don&#39;t`py2neo` is intended to be used like that: they actually have a class-level [Database cache](https://github.com/technige/py2neo/blob/py2neo-4.3.0/py2neo/database.py#L88-L107), so that when you open multiple `Graph()` instances (which is what you&#39;re doing), then the same database will get reused, and ultimately the same connection pool. \r\n\r\nThis is why you can simply call the `Database.forget_all()` class method to empty the cache and close all your connections.\r\n\r\nI&#39;m not sure if this would work in your case and anyway it&#39;s generally faster to reuse existing connections and urllib3 is well-equipped to do that, at one condition: you need to make sure the connections are released into the pool. If you don&#39;t do that, then you quickly hit the connection limit, which means that to create a new connection requires discarding old ones, and that produces your `&quot;Connection pool is full, discarding connection&quot;` warning.\r\n\r\nBut to be honest here it looks like `py2neo` does not use streaming, so all connections should immediately put back into the pool, and you should not get the warning unless you have more than [40 concurrent requests, the current default](https://github.com/technige/py2neo/issues/728). Maybe if you share your actual code in the form of a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) it will be easier to help.",
          "link": "https://stackoverflow.com/questions/59138809/connection-pool-life-cycle-of-py2neo-graph-would-the-connections-be-released-wh/59183367#59183367",
          "title": "connection pool life cycle of py2neo.Graph: would the connections be released when the instance is no longer referenced by programmer?"
        }
      ],
      "owner": {
        "reputation": 113,
        "user_id": 7785023,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3df1beffad732cc45094736c12e71e96?s=128&d=identicon&r=PG&f=1",
        "display_name": "Jay",
        "link": "https://stackoverflow.com/users/7785023/jay"
      },
      "last_editor": {
        "reputation": 113,
        "user_id": 7785023,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3df1beffad732cc45094736c12e71e96?s=128&d=identicon&r=PG&f=1",
        "display_name": "Jay",
        "link": "https://stackoverflow.com/users/7785023/jay"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575487555,
      "creation_date": 1575289174,
      "last_edit_date": 1575356166,
      "question_id": 59138809,
      "share_link": "https://stackoverflow.com/q/59138809",
      "body_markdown": "Recently I found a possible http connection leak issue in my code. I received &quot;Connection pool is full, discarding connection&quot; message in my log but there is few concurrent request in my code. \r\n\r\nActually I&#39;m creating a ```py2neo.Graph``` instance every time it enters a API function, and I didn&#39;t make a close behavior when it leave the function.\r\n\r\nBecause there is no ```close()``` method for ```py2neo.Graph``` instance and there is no statement about the life cycle of ```py2neo.Graph``` instance in official documentation so I used to think that the instance would dead and automatically release its resources (like http connections in the pool) when it is no longer referenced by programmer&#39;s code (for python will execute deletion when the reference count of one object reaches zero). \r\n\r\nSo what is the actual behavior of the instance when its reference is released and what&#39;s the correct style of managing py2neo.Graph instance?\r\n",
      "link": "https://stackoverflow.com/questions/59138809/connection-pool-life-cycle-of-py2neo-graph-would-the-connections-be-released-wh",
      "title": "connection pool life cycle of py2neo.Graph: would the connections be released when the instance is no longer referenced by programmer?"
    },
    {
      "tags": [
        "python",
        "neo4j"
      ],
      "owner": {
        "reputation": 21,
        "user_id": 12468202,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC1m5pbSvtQQ_ptZOE701VGkEUv2jMuibmdGgbHg3w=k-s128",
        "display_name": "Vittorio Carmignani",
        "link": "https://stackoverflow.com/users/12468202/vittorio-carmignani"
      },
      "last_editor": {
        "reputation": 541,
        "user_id": 10042272,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/1e1eac383e42338039552bb690c82bf3?s=128&d=identicon&r=PG&f=1",
        "display_name": "Dhruv",
        "link": "https://stackoverflow.com/users/10042272/dhruv"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 27,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 2,
      "answer_count": 0,
      "score": 2,
      "last_activity_date": 1575294292,
      "creation_date": 1575289144,
      "last_edit_date": 1575294292,
      "question_id": 59138801,
      "share_link": "https://stackoverflow.com/q/59138801",
      "body_markdown": "I have a server in which the connection is opened (python):\r\n\r\n        self._driver: Driver = GraphDatabase.driver(credentials[&quot;uri&quot;], auth=(credentials[&quot;user&quot;], credentials[&quot;password&quot;]), max_connection_lifetime=3600*24*30, keep_alive=True)\r\n\r\nI run some requests and it works all perfectly. The requests are run by using the function:\r\n\r\n    def __exe_query(self, query: str):\r\n        with self._driver.session() as session:\r\n            session.run(query).consume()\r\n\r\nDespite these queries do not return anything relevant I added .consume() based on this post https://community.neo4j.com/t/error-while-loading-data-in-neo4j-python-driver/7413/7.\r\n\r\nI wait 4-5 minutes (while the server is running waiting for other requests), I run the exact same requests, and **I get the error:** \r\n\r\n&gt;  Failed to read from defunct connection Address(host=&#39;****&#39;, port=**)\r\n\r\nI also tried with max_connection_lifetime=-1. \r\n\r\nI am working with python 3.7.0 with these libraries versions: neo4j==1.7.2 neobolt==1.7.9 neotime==1.7.4 as suggested by https://github.com/neo4j/neo4j-python-driver/issues/293. \r\nIt does not work in Win10 and Linux Ubuntu 18.04.3 LTS.\r\n\r\nThanks for your help and attention,\r\nVittorio\r\n",
      "link": "https://stackoverflow.com/questions/59138801/neo4j-connection-closed-after-few-minutes-defunct-connection-address",
      "title": "neo4j: Connection closed after few minutes: defunct connection Address"
    },
    {
      "tags": [
        "c#",
        ".net-core",
        "neo4j",
        "neo4jclient"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 2257,
                "user_id": 2279252,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/99b45336d1e6b50e153aa1c14dee772e?s=128&d=identicon&r=PG",
                "display_name": "Daxxy",
                "link": "https://stackoverflow.com/users/2279252/daxxy"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575289652,
              "post_id": 59135533,
              "comment_id": 104504684,
              "link": "https://stackoverflow.com/questions/59133773/connect-to-neo4j-causal-cluster-using-neo4jclient/59135533#comment104504684_59135533"
            },
            {
              "owner": {
                "reputation": 5500,
                "user_id": 2266,
                "user_type": "registered",
                "accept_rate": 90,
                "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
                "display_name": "Chris Skardon",
                "link": "https://stackoverflow.com/users/2266/chris-skardon"
              },
              "reply_to_user": {
                "reputation": 2257,
                "user_id": 2279252,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/99b45336d1e6b50e153aa1c14dee772e?s=128&d=identicon&r=PG",
                "display_name": "Daxxy",
                "link": "https://stackoverflow.com/users/2279252/daxxy"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575290663,
              "post_id": 59135533,
              "comment_id": 104505219,
              "link": "https://stackoverflow.com/questions/59133773/connect-to-neo4j-causal-cluster-using-neo4jclient/59135533#comment104505219_59135533"
            },
            {
              "owner": {
                "reputation": 2257,
                "user_id": 2279252,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/99b45336d1e6b50e153aa1c14dee772e?s=128&d=identicon&r=PG",
                "display_name": "Daxxy",
                "link": "https://stackoverflow.com/users/2279252/daxxy"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575291262,
              "post_id": 59135533,
              "comment_id": 104505517,
              "link": "https://stackoverflow.com/questions/59133773/connect-to-neo4j-causal-cluster-using-neo4jclient/59135533#comment104505517_59135533"
            },
            {
              "owner": {
                "reputation": 5500,
                "user_id": 2266,
                "user_type": "registered",
                "accept_rate": 90,
                "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
                "display_name": "Chris Skardon",
                "link": "https://stackoverflow.com/users/2266/chris-skardon"
              },
              "reply_to_user": {
                "reputation": 2257,
                "user_id": 2279252,
                "user_type": "registered",
                "accept_rate": 60,
                "profile_image": "https://www.gravatar.com/avatar/99b45336d1e6b50e153aa1c14dee772e?s=128&d=identicon&r=PG",
                "display_name": "Daxxy",
                "link": "https://stackoverflow.com/users/2279252/daxxy"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575296721,
              "post_id": 59135533,
              "comment_id": 104508427,
              "link": "https://stackoverflow.com/questions/59133773/connect-to-neo4j-causal-cluster-using-neo4jclient/59135533#comment104508427_59135533"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 5500,
            "user_id": 2266,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
            "display_name": "Chris Skardon",
            "link": "https://stackoverflow.com/users/2266/chris-skardon"
          },
          "comment_count": 4,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1575277487,
          "creation_date": 1575277487,
          "answer_id": 59135533,
          "question_id": 59133773,
          "share_link": "https://stackoverflow.com/a/59135533",
          "body_markdown": "For `Neo4jClient` - you need to be using the `BoltGraphClient` and then the URI you connect to is: \r\n\r\n`bolt+routing://100.100.100.1:7687`\r\n\r\nThough it could be any of your IPs.\r\n\r\nIt won&#39;t work with the standard `http` endpoint - so you need to use `bolt`.\r\n\r\nIf you&#39;re using the `Neo4j-Driver` and you&#39;re trying version `4.x` - then instead of `bolt+routing` you would use `neo4j` (i.e. `neo4j://ip`)\r\n\r\n",
          "link": "https://stackoverflow.com/questions/59133773/connect-to-neo4j-causal-cluster-using-neo4jclient/59135533#59135533",
          "title": "Connect to Neo4j Causal Cluster using neo4jclient"
        }
      ],
      "owner": {
        "reputation": 2257,
        "user_id": 2279252,
        "user_type": "registered",
        "accept_rate": 60,
        "profile_image": "https://www.gravatar.com/avatar/99b45336d1e6b50e153aa1c14dee772e?s=128&d=identicon&r=PG",
        "display_name": "Daxxy",
        "link": "https://stackoverflow.com/users/2279252/daxxy"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 23,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59135533,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575277487,
      "creation_date": 1575268648,
      "question_id": 59133773,
      "share_link": "https://stackoverflow.com/q/59133773",
      "body_markdown": "I am using neo4jClient with a causal cluster hosted on aws via the AMI.\r\n\r\nI just recently moved across to this setup before i was using a single server now its multiple (3 in my case).\r\n\r\nHow do i correctly configure the connection string to connect to a cluster so that the neo4j client is aware of the whole cluster and can distribute reads writes etc correctly?\r\n\r\nRunning this command gives me all the servers in my cluster.\r\n\r\n    CALL dbms.cluster.routing.getServers()\r\n\r\n    [\r\n        {\r\n            &quot;addresses&quot;: [\r\n                &quot;100.100.100.1:7687&quot;\r\n            ],\r\n            &quot;role&quot;: &quot;WRITE&quot;\r\n        },\r\n        {\r\n            &quot;addresses&quot;: [\r\n                &quot;100.100.100.2:7687&quot;,\r\n                &quot;100.100.100.3:7687&quot;\r\n            ],\r\n            &quot;role&quot;: &quot;READ&quot;\r\n        },\r\n        {\r\n            &quot;addresses&quot;: [\r\n                &quot;100.100.100.1:7687&quot;,\r\n                &quot;100.100.100.2:7687&quot;,\r\n                &quot;100.100.100.3:7687&quot;\r\n            ],\r\n            &quot;role&quot;: &quot;ROUTE&quot;\r\n        }\r\n    ]\r\n\r\nCurrently i have my neo4jclient setup connecting to the instance labeled &#39;Write&#39;, will it automatically discover the other servers?\r\n\r\n\r\n    services.AddSingleton(s =&gt; NeoServerConfiguration.GetConfiguration(new Uri(Configuration.GetConnectionString(&quot;Neo4jConnection&quot;)), appSettings.Neo4jUser, appSettings.Neo4jPassword));\r\n\r\nThe NeoServerConfiguration only seems to allow you to connect to a single instance not specify multiple. ",
      "link": "https://stackoverflow.com/questions/59133773/connect-to-neo4j-causal-cluster-using-neo4jclient",
      "title": "Connect to Neo4j Causal Cluster using neo4jclient"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575276082,
          "creation_date": 1575276082,
          "answer_id": 59135219,
          "question_id": 59130503,
          "share_link": "https://stackoverflow.com/a/59135219",
          "body_markdown": "Yes, you can add some logic for this, for example : \r\n\r\n```\r\nMATCH (person1)-[:ACTED_IN]-&gt;(Movie)&lt;-[:ACTED_IN]-(person2) \r\nWHERE id(person1) &lt; id(person2)\r\nRETURN DISTINCT Movie.title, \r\n                person1.name, \r\n                person2.name, \r\n                count(Movie) AS pairs \r\nORDER BY pairs DESC\r\n\r\n```",
          "link": "https://stackoverflow.com/questions/59130503/need-help-figuring-out-the-number-of-times-2-actors-acted-together-in-the-most-n/59135219#59135219",
          "title": "Need help figuring out the number of times 2 actors acted together in the most number of movies (cypher)"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575322619,
          "creation_date": 1575322619,
          "answer_id": 59147019,
          "question_id": 59130503,
          "share_link": "https://stackoverflow.com/a/59147019",
          "body_markdown": "To properly see the movies that every pair of actors appeared in (in descending order of shared movies), this should work:\r\n\r\n    MATCH (p1:Person)-[:ACTED_IN]-&gt;(m)&lt;-[:ACTED_IN]-(p2:Person)\r\n    RETURN p1.name, p2.name, COLLECT(m) AS movies, COUNT(m) AS pairs\r\n    ORDER BY pairs DESC\r\n\r\nThis query takes into account the fact that [aggregating functions](https://neo4j.com/docs/developer-manual/current/cypher/functions/aggregating/) (like `COUNT` and `COLLECT`) use the non-aggregating elements in the same `WITH` or `RETURN` clause as &quot;grouping keys&quot;. Also, `DISTINCT` is not needed, since aggregating functions implicitly return distinct rows (if there are any grouping keys).\r\n",
          "link": "https://stackoverflow.com/questions/59130503/need-help-figuring-out-the-number-of-times-2-actors-acted-together-in-the-most-n/59147019#59147019",
          "title": "Need help figuring out the number of times 2 actors acted together in the most number of movies (cypher)"
        }
      ],
      "owner": {
        "reputation": 11,
        "user_id": 9311016,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/10159926414410383/picture?type=large",
        "display_name": "user9311016",
        "link": "https://stackoverflow.com/users/9311016/user9311016"
      },
      "last_editor": {
        "reputation": 46884,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 2,
      "score": 1,
      "last_activity_date": 1575322619,
      "creation_date": 1575238734,
      "last_edit_date": 1575322045,
      "question_id": 59130503,
      "share_link": "https://stackoverflow.com/q/59130503",
      "body_markdown": " \r\nI wrote the command below to list out pairs of actors that have acted together in different movies and lists the number of times the pairs acted together. \r\n\r\n    match (person1)-[:ACTED_IN]-&gt;(Movie)&lt;-[:ACTED_IN]-(person2)\r\n    return DISTINCT Movie.title, person1.name, person2.name, count(Movie) AS pairs\r\n    ORDER BY pairs DESC\r\n\r\nI feel it&#39;s inaccurate though as its counting duplicate instances, ie- `x` and `y` are being counted as one instance and `y` and `x` are being counted as a separate instance. Does anyone know how to fix this? \r\n\r\nAny help would be appreciated. \r\n\r\n",
      "link": "https://stackoverflow.com/questions/59130503/need-help-figuring-out-the-number-of-times-2-actors-acted-together-in-the-most-n",
      "title": "Need help figuring out the number of times 2 actors acted together in the most number of movies (cypher)"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1107,
                "user_id": 5249708,
                "user_type": "registered",
                "accept_rate": 93,
                "profile_image": "https://i.stack.imgur.com/HU6sl.jpg?s=128&g=1",
                "display_name": "tim",
                "link": "https://stackoverflow.com/users/5249708/tim"
              },
              "edited": false,
              "score": 1,
              "creation_date": 1575237128,
              "post_id": 59130281,
              "comment_id": 104488581,
              "link": "https://stackoverflow.com/questions/59130262/how-to-get-a-unique-list-in-neo4j-cypher/59130281#comment104488581_59130281"
            },
            {
              "owner": {
                "reputation": 24334,
                "user_id": 404201,
                "user_type": "registered",
                "accept_rate": 90,
                "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG",
                "display_name": "Jasper Blues",
                "link": "https://stackoverflow.com/users/404201/jasper-blues"
              },
              "reply_to_user": {
                "reputation": 1107,
                "user_id": 5249708,
                "user_type": "registered",
                "accept_rate": 93,
                "profile_image": "https://i.stack.imgur.com/HU6sl.jpg?s=128&g=1",
                "display_name": "tim",
                "link": "https://stackoverflow.com/users/5249708/tim"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575237881,
              "post_id": 59130281,
              "comment_id": 104488812,
              "link": "https://stackoverflow.com/questions/59130262/how-to-get-a-unique-list-in-neo4j-cypher/59130281#comment104488812_59130281"
            },
            {
              "owner": {
                "reputation": 1107,
                "user_id": 5249708,
                "user_type": "registered",
                "accept_rate": 93,
                "profile_image": "https://i.stack.imgur.com/HU6sl.jpg?s=128&g=1",
                "display_name": "tim",
                "link": "https://stackoverflow.com/users/5249708/tim"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575241777,
              "post_id": 59130281,
              "comment_id": 104489710,
              "link": "https://stackoverflow.com/questions/59130262/how-to-get-a-unique-list-in-neo4j-cypher/59130281#comment104489710_59130281"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 24334,
            "user_id": 404201,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG",
            "display_name": "Jasper Blues",
            "link": "https://stackoverflow.com/users/404201/jasper-blues"
          },
          "last_editor": {
            "reputation": 24334,
            "user_id": 404201,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG",
            "display_name": "Jasper Blues",
            "link": "https://stackoverflow.com/users/404201/jasper-blues"
          },
          "comment_count": 3,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1575260483,
          "last_edit_date": 1575260483,
          "creation_date": 1575236771,
          "answer_id": 59130281,
          "question_id": 59130262,
          "share_link": "https://stackoverflow.com/a/59130281",
          "body_markdown": "You could use the APOC library&#39;s ```apoc.coll.toSet([list])``` function. \r\n\r\nThese functions are documented [here][1]. The same manual includes details on how to install the APOC plugin. \r\n\r\n**EDIT: Without APOC**\r\n\r\nHere&#39;s one way to return a `set` from a `list` in CYPHER - unwind the list and then collect only the distinct values from it: \r\n\r\n    unwind [1, 1, 2, 3, 3, 4, 5] as nums\r\n    with distinct nums return collect(nums);\r\n\r\nor \r\n\r\n    unwind [1, 1, 2, 3, 3, 4, 5] as nums\r\n    return collect(distinct nums);\r\n\r\n\r\n  [1]: https://neo4j-contrib.github.io/neo4j-apoc-procedures/3.5/utilities/collection-list-functions/",
          "link": "https://stackoverflow.com/questions/59130262/how-to-get-a-unique-list-in-neo4j-cypher/59130281#59130281",
          "title": "How to get a unique list in neo4j cypher?"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 2,
          "is_accepted": false,
          "score": 2,
          "last_activity_date": 1575247383,
          "creation_date": 1575247383,
          "answer_id": 59131341,
          "question_id": 59130262,
          "share_link": "https://stackoverflow.com/a/59131341",
          "body_markdown": "The `COLLECT` aggregating function supports the `DISTINCT` option:\r\n\r\n    UNWIND [1,1,2] AS list\r\n    RETURN COLLECT(DISTINCT list);",
          "link": "https://stackoverflow.com/questions/59130262/how-to-get-a-unique-list-in-neo4j-cypher/59131341#59131341",
          "title": "How to get a unique list in neo4j cypher?"
        }
      ],
      "owner": {
        "reputation": 1107,
        "user_id": 5249708,
        "user_type": "registered",
        "accept_rate": 93,
        "profile_image": "https://i.stack.imgur.com/HU6sl.jpg?s=128&g=1",
        "display_name": "tim",
        "link": "https://stackoverflow.com/users/5249708/tim"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 33,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 2,
      "accepted_answer_id": 59130281,
      "answer_count": 2,
      "score": 2,
      "last_activity_date": 1575260483,
      "creation_date": 1575236620,
      "question_id": 59130262,
      "share_link": "https://stackoverflow.com/q/59130262",
      "body_markdown": "For example, I have a list `[1,1,2]`,\r\n\r\nWhat I expect result is `[1,2]`.\r\n\r\n## what I tried\r\n\r\n```\r\nreturn [distinct x in [1,1,2]]\r\n```\r\n`Distinct` does not work , this will throw an error.\r\n\r\n## something might help\r\nis there any [list function][1] I can use in neo4j to achieve this?\r\n\r\n\r\n  [1]: https://neo4j.com/docs/cypher-manual/current/functions/list/",
      "link": "https://stackoverflow.com/questions/59130262/how-to-get-a-unique-list-in-neo4j-cypher",
      "title": "How to get a unique list in neo4j cypher?"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575249997,
          "post_id": 59120737,
          "comment_id": 104491166,
          "link": "https://stackoverflow.com/questions/59120737/returning-the-intersection-of-two-graph-nodes-based-on-their-properties-comparis#comment104491166_59120737"
        }
      ],
      "owner": {
        "reputation": 161,
        "user_id": 1573594,
        "user_type": "registered",
        "accept_rate": 43,
        "profile_image": "https://www.gravatar.com/avatar/f809ab171962d176d3feb276e136a645?s=128&d=identicon&r=PG",
        "display_name": "Galileo",
        "link": "https://stackoverflow.com/users/1573594/galileo"
      },
      "last_editor": {
        "reputation": 46884,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 29,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575249874,
      "creation_date": 1575151870,
      "last_edit_date": 1575249874,
      "question_id": 59120737,
      "share_link": "https://stackoverflow.com/q/59120737",
      "body_markdown": "I would like to compare two graphs in Neo4j by calculating the Jaccard index of their nodes, these nodes have multiple properties and 2 nodes are equal if and only if all their properties are equal. I tried the following code, but it returns a void list when I try to compare more than one properties: \r\n\r\n    MATCH (p1:PolicyID {ID_POLICY: &#39;aaa&#39;})-[:HAS_OBJECTS]-&gt;(:PolicyObjects)-[:HAS_ATTRIBUTES]-&gt;(a1:ObjectAttributes)\r\n    MATCH (p2:PolicyID {ID_POLICY: &#39;ccc&#39;})-[:HAS_OBJECTS]-&gt;(:PolicyObjects)-[:HAS_ATTRIBUTES]-&gt;(attrObj2:ObjectAttributes)\r\n    WHERE (a1.ID_OBJ_ATT = attrObj2.ID_OBJ_ATT and a1.OAT_VAL = attrObj2.OAT_VAL)\r\n    RETURN  attrObj2.ID_OBJ_ATT\r\n\r\nAny clues about the right syntax in Cypher? ",
      "link": "https://stackoverflow.com/questions/59120737/returning-the-intersection-of-two-graph-nodes-based-on-their-properties-comparis",
      "title": "Returning the intersection of two graph nodes based on their properties comparison neo4j"
    },
    {
      "tags": [
        "neo4j",
        "modeling"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 17034,
            "user_id": 232671,
            "user_type": "registered",
            "accept_rate": 67,
            "profile_image": "https://www.gravatar.com/avatar/9fafab68e922fdf068c5c36f823687fe?s=128&d=identicon&r=PG",
            "display_name": "Luanne",
            "link": "https://stackoverflow.com/users/232671/luanne"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 2,
          "is_accepted": false,
          "score": 2,
          "last_activity_date": 1575138223,
          "creation_date": 1575138223,
          "answer_id": 59119018,
          "question_id": 59115496,
          "share_link": "https://stackoverflow.com/a/59119018",
          "body_markdown": "The answer is in your phrasing of the question.\r\n\r\n - Skills and hobbies are shared amongst users\r\n - Find all users who like Badminton\r\n\r\nThis clearly indicates that skills/hobbies are entities, or nodes. There&#39;s no need to prematurely optimise, and the number of nodes will increase but steady at some level (the number of skills and hobbies is not infinite). Also, the performance of queries is unrelated to the total size of the graph, so it may not really matter that the size of the graph has grown- the performance will depend on the size of the subgraph touched. Unless you&#39;re looking at 10s or 100s of billions of nodes, it is pretty safe to add skills and hobbies as nodes, and not worry about performance at this stage.",
          "link": "https://stackoverflow.com/questions/59115496/neo4j-user-profile-data-modeling/59119018#59119018",
          "title": "Neo4J user profile data modeling"
        }
      ],
      "owner": {
        "reputation": 95,
        "user_id": 7676660,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/10154276704145969/picture?type=large",
        "display_name": "Sajeeva Lakmal",
        "link": "https://stackoverflow.com/users/7676660/sajeeva-lakmal"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575138223,
      "creation_date": 1575111659,
      "question_id": 59115496,
      "share_link": "https://stackoverflow.com/q/59115496",
      "body_markdown": "I need to design a data model, which stores user profile information. User node may contain name, address, telephone as attributes. Amount of users is expected to be increased dramatically. \r\nAt the same time, I want to store each users&#39; skills and hobbies which are entered by the users themselves during the profile creation.  \r\nOne user can enter multiple skills and hobbies. Of course multiple users may share a certain hobby or a skill. \r\n\r\nWe also have a requirement to filter users by skill or hobby. That is, if the hobby (Badminton) is given, we need to find all the users who like Badminton. \r\n\r\n1. Would it make sense to create hobbies, skills as nodes? My understanding is, this will increase the query performance but, amount of distinct hobbies, skills users happen to enter may increase the number of nodes in the database.\r\n2. Would it be good to store skills and hobbies as attributes of user nodes? My understanding is, search by an attribute over all the user base would decrease the query performance.\r\n\r\nPlease advise.\r\nThank you.\r\n",
      "link": "https://stackoverflow.com/questions/59115496/neo4j-user-profile-data-modeling",
      "title": "Neo4J user profile data modeling"
    },
    {
      "tags": [
        "node.js",
        "neo4j",
        "acid",
        "neo4j-node"
      ],
      "owner": {
        "reputation": 3588,
        "user_id": 10064334,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/CTqAD.jpg?s=128&g=1",
        "display_name": "MichaelB",
        "link": "https://stackoverflow.com/users/10064334/michaelb"
      },
      "last_editor": {
        "reputation": 3588,
        "user_id": 10064334,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/CTqAD.jpg?s=128&g=1",
        "display_name": "MichaelB",
        "link": "https://stackoverflow.com/users/10064334/michaelb"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 30,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 4,
      "answer_count": 0,
      "score": 4,
      "last_activity_date": 1575068983,
      "creation_date": 1575054706,
      "last_edit_date": 1575068983,
      "question_id": 59109956,
      "share_link": "https://stackoverflow.com/q/59109956",
      "body_markdown": "I&#39;m trying to sync two databases and for each type of operation I want it to be a whole transaction, I&#39;ve setup something rather basic but I&#39;m unsure if this will actually run and rollback as a single transaction. I&#39;ve been looking through the documentation but the one for NodeJS is rather scarce. \r\n\r\nMy example code: \r\n\r\n```\r\n const tx = session.beginTransaction();\r\n\r\n  SyncElements(doc.lists.elements, existingElements, tx);\r\n\r\n  tx.commit()\r\n    .then(res =&gt; {\r\n      console.log(&#39;SYNC ELEMENTS SUCCESSFUL, RESULT:&#39;, res);\r\n    })\r\n    .catch(err =&gt; {\r\n      console.error(&#39;COULD NOT SYNC ELEMENTS TRANSACTION FAILURE: &#39;, err);\r\n    });\r\n```\r\n\r\nNow within that `SyncElements()` function which gets the tx object, it will call `tx.run(` dozens of times.\r\n\r\nMy question is, those dozens of `tx.run` calls, will they all be considered part of the main transaction that I&#39;m commiting above? and if any of those calls fails, will all the changes made using that tx. object be reversed?\r\n\r\nEDIT: my second attempt:\r\n\r\nEach of my runs returns the promise as such: \r\n\r\n```\r\n  deleteElements.forEach(el =&gt; {\r\n    allOperations.push(deleteElement(el, tx));\r\n  });\r\n```\r\nand then\r\n```\r\n\r\nconst deleteElement = (\r\n  el: Element,\r\n  tx: neo4j.default.Transaction,\r\n): Promise&lt;neo4j.default.StatementResult&gt; =&gt; {\r\n  return tx.run(`MATCH... STATEMENT`);\r\n};\r\n```\r\n\r\nI&#39;m storing them in an array and then running: \r\n\r\n```\r\ntry {\r\n    await Promise.all(allOperations);\r\n    await tx.commit();\r\n    return;\r\n  } catch (err) {\r\n    await tx.rollback();\r\n    console.error(&#39;COULD NOT SYNC ELEMENTS TRANSACTION FAILURE: &#39;, err);\r\n  }\r\n```\r\n\r\nI think this is more on par with the documentation? I guess in my first attempt I didn&#39;t really have any way to rollback the transaction so just assumbed it will not commit if there&#39;s an error?",
      "link": "https://stackoverflow.com/questions/59109956/what-is-how-to-write-multiple-tx-run-as-a-single-transaction-with-the-neo4j-driv",
      "title": "What is/how to write multiple tx.run as a single transaction with the neo4j-driver in NODEjs?"
    },
    {
      "tags": [
        "neo4j",
        "cypher",
        "graph-databases"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "last_editor": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575057533,
          "last_edit_date": 1575057533,
          "creation_date": 1575056504,
          "answer_id": 59110214,
          "question_id": 59109894,
          "share_link": "https://stackoverflow.com/a/59110214",
          "body_markdown": "I think this is what you are looking for.\r\n\r\nIn your query tou are creating a relationship between `p` and `p` thus the self referencing relationships.\r\n\r\nI added a coalesce statement to deal with people that do not have a `manager_id` value. THis way Sam can  report to himself.\r\n\r\n    LOAD CSV WITH HEADERS FROM &quot;file:///employees.csv&quot; AS csvLine\r\n    // create or match the person in the left column\r\n    MERGE (p:Person {id: csvLine.id })\r\n\r\n    // if they are created then assign their name\r\n    ON CREATE SET p.name = csvLine.name\r\n\r\n    // create or match the person/manager in the right column\r\n    MERGE (p1:Person {id: coalesce(csvLine.manager_id, csvLine.id) })\r\n\r\n    // create the reporting relationship\r\n    CREATE (p)-[:MANAGED_BY]-&gt;(p1)",
          "link": "https://stackoverflow.com/questions/59109894/load-csv-in-neo4j-with-nodes-and-relationships-in-one-csv-file/59110214#59110214",
          "title": "Load csv in neo4j with nodes and relationships in one csv file"
        }
      ],
      "owner": {
        "reputation": 314,
        "user_id": 1505463,
        "user_type": "registered",
        "accept_rate": 91,
        "profile_image": "https://www.gravatar.com/avatar/cfb8c41548cfa9ad1d0848049b3c23fe?s=128&d=identicon&r=PG",
        "display_name": "matt hoover",
        "link": "https://stackoverflow.com/users/1505463/matt-hoover"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 25,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575057533,
      "creation_date": 1575054299,
      "question_id": 59109894,
      "share_link": "https://stackoverflow.com/q/59109894",
      "body_markdown": "Apologies as I am new to neo4j and struggling with what I imagine is a very simple example.\r\n\r\nI would like to model an org chart which I have stored as a csv like so\r\n```\r\nid,name,manager_id\r\n1,allan,2\r\n2,bob,4\r\n3,john,2\r\n4,sam,\r\n5,Jim,2\r\n```\r\nNote that Bob has 3 direct reports and Bob reports into Sam who doesn&#39;t report into anyone.\r\n\r\nI would like to produce a graph which shows the management chain. I have tried the following, but it produces relationships which are disjoint from the people:\r\n\r\n```\r\nLOAD CSV WITH HEADERS FROM &quot;file///employees.csv&quot; AS csvLine\r\nCREATE (p:Person {id: csvLine.id, name: csvLine.name})\r\nCREATE (p)-[:MANAGED_BY {manager: csvLine.manager_id}]-&gt;(p)\r\n```\r\nThis query creates a bunch of self-referencing relationships. Is there anyway to populate the graph with one command over the single csv? I must be missing something and any help is appreciated. Thanks",
      "link": "https://stackoverflow.com/questions/59109894/load-csv-in-neo4j-with-nodes-and-relationships-in-one-csv-file",
      "title": "Load csv in neo4j with nodes and relationships in one csv file"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575276403,
          "creation_date": 1575276403,
          "answer_id": 59135282,
          "question_id": 59108726,
          "share_link": "https://stackoverflow.com/a/59135282",
          "body_markdown": "That&#39;s an easy one for Cypher, let&#39;s assume your nodes have a label `Node` and the property storing `Node A` is named `name` :\r\n\r\n```\r\nMATCH p=(n:Node)-[:DEPENDS_ON]-&gt;(dependency) \r\nWHERE n.name IN [&#39;Node A&#39;, &#39;Node E&#39;]\r\nRETURN [x IN nodes(p) | x.name] AS groups\r\n```",
          "link": "https://stackoverflow.com/questions/59108726/how-to-get-list-of-direct-dependencies-in-group-of-nodes-in-neo4j/59135282#59135282",
          "title": "How to get list of direct dependencies in group of nodes in neo4j?"
        }
      ],
      "owner": {
        "reputation": 7,
        "user_id": 12328322,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC2jM2ljdu0lSJQnkEm3QvMKt-WV4AKJ3vH7z7hVQ=k-s128",
        "display_name": "Senthil",
        "link": "https://stackoverflow.com/users/12328322/senthil"
      },
      "last_editor": {
        "reputation": 46884,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575276403,
      "creation_date": 1575046985,
      "last_edit_date": 1575250289,
      "question_id": 59108726,
      "share_link": "https://stackoverflow.com/q/59108726",
      "body_markdown": "![neo4j graph sample][1]\r\nI am new to graph DBs and need help in writing Cypher query for a specific scenario.\r\n\r\nI have a group of relationship, likeL\r\n\r\n    Node A -&gt; Depends on -&gt; Node B\r\n    Node B -&gt; Depends on -&gt; Node C\r\n    Node B -&gt; Depends on -&gt; Node D\r\n    Node C -&gt; Depends on -&gt; Node E\r\n    Node C -&gt; Depends on -&gt; Node F\r\n    Node D -&gt; Depends on -&gt; Node G\r\n    Node E -&gt; Depends on -&gt; Node H\r\n    Node E -&gt; Depends on -&gt; Node J\r\n    Node H -&gt; Depends on -&gt; Node I\r\n\r\nI need direct dependencies from a list of nodes. Like, if I pass a list [Node A, Node B, Node D, Node E, Node H, Node I], it should return:\r\n    \r\n    [[Node A, Node B, Node D], [Node E, Node H, Node I]]\r\n\r\n\r\nAny help would be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/gHefu.jpg",
      "link": "https://stackoverflow.com/questions/59108726/how-to-get-list-of-direct-dependencies-in-group-of-nodes-in-neo4j",
      "title": "How to get list of direct dependencies in group of nodes in neo4j?"
    },
    {
      "tags": [
        "json",
        "reactjs",
        "d3.js",
        "flask",
        "neo4j"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 314,
            "user_id": 10408963,
            "user_type": "registered",
            "profile_image": "https://lh5.googleusercontent.com/-Kg2rH6F9KNk/AAAAAAAAAAI/AAAAAAAAAA8/HYz7LSjQxPg/photo.jpg?sz=128",
            "display_name": "Alex Krantz",
            "link": "https://stackoverflow.com/users/10408963/alex-krantz"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575165059,
          "creation_date": 1575165059,
          "answer_id": 59121894,
          "question_id": 59104813,
          "share_link": "https://stackoverflow.com/a/59121894",
          "body_markdown": "Your problem occurs in your main file when you return `No place information is given`. Since this is not in JSON format, JavaScript fails to parse it causing the error to be thrown. To fix this, you can change it to:\r\n```\r\nimport json\r\n\r\n@app.route(&quot;/company&quot;)\r\ndef result():\r\n    if request.method == &#39;GET&#39;:\r\n        company_name = request.args.get(&#39;company_name&#39;, None)\r\n        if company_name:\r\n            return subsidiaries(company_name)\r\n        return json.dumps(&quot;No place information is given&quot;)\r\n```\r\nIf you do the same for `No company with this name exists` and `Please enter a valid company name`, you won&#39;t get anymore JSON deserialization errors. However, D3 may still throw errors because it does not know what to do with a string.\r\n\r\nYou may want to return HTTP status codes along with your error messages so you can control the error. To do this in Flask, you can return the text along with the status code. For example: `return json.dumps(&quot;Error message&quot;), 400` will return the JSON string `Error message` with the status code `400`. Since `d3.json` makes an underlying call to the JavaScript `fetch` function, you should be able to access the status code  by using `data.status`.",
          "link": "https://stackoverflow.com/questions/59104813/how-to-load-data-from-a-flask-url-and-console-log-the-data-n-react/59121894#59121894",
          "title": "how to load data from a flask url and console log the data n react?"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12438816,
        "user_type": "registered",
        "profile_image": "https://lh6.googleusercontent.com/-mPO7jQeOkUw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4VejHBOKFkdHJcEmxN6MmQesA3Q/photo.jpg?sz=128",
        "display_name": "Lars",
        "link": "https://stackoverflow.com/users/12438816/lars"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575165059,
      "creation_date": 1575030438,
      "question_id": 59104813,
      "share_link": "https://stackoverflow.com/q/59104813",
      "body_markdown": "I want to load a json file that I get from a url generated in flask. \r\n     After `d3.json(url, function)` I&#39;m trying to `console log` the json, but nothing happens and I dont know what&#39;s wrong. So maybe someone can help\r\n\r\nThis is basically my code:\r\n\r\nComponent where I want to display a graph (`Display.js`):\r\n\r\n    import React, { Component } from &#39;react&#39;;\r\n    import &quot;./Display.css&quot;;\r\n    import * as d3 from &quot;d3&quot;;\r\n    \r\n    export default class Display extends Component {\r\n    \r\n     componentWillReceiveProps() {\r\n    \r\n        const url = &quot;http://localhost:5000/company?company_name=&quot; + this.props.inputDataFromParent        //the url depends on the input the user made. InputDataFromParent is the passed value (from the parent) that the user typed in\r\n    \r\n        d3.json(url, function (data) {\r\n    \r\n          console.log(data)\r\n        })\r\n      }\r\n\r\nwhen I type in an input (company name) that doesnt exist in the database I get an error: `&quot;Uncaught (in promise) SyntaxError: Unexpected token N in JSON at position 0&quot; `at (index):1\r\n\r\nwhen I type in an input that does exist nothing happens in the console.\r\n\r\n\r\nHere&#39;s my m`ain.py`:\r\n\r\n    import flask\r\n    from pandas import DataFrame\r\n    from models import company_search\r\n    from flask import request\r\n    from models import subsidiaries\r\n    \r\n    app=flask.Flask(&quot;__main__&quot;)\r\n    \r\n    @app.route(&quot;/company&quot;)\r\n    def result():\r\n        if request.method == &#39;GET&#39;:\r\n            company_name = request.args.get(&#39;company_name&#39;, None)\r\n            if company_name:\r\n                return subsidiaries(company_name)\r\n            return &quot;No place information is given&quot;\r\n    \r\n    \r\n    app.run(debug=True)\r\n\r\nand this is `models.py` (neo4j is used as the database):\r\n\r\n    def subsidiaries(eingabe):\r\n         if regex_eingabe_kontrolle(eingabe):\r\n            namelistdf = graph.run(&quot;MATCH (c:Company)-[rel:Relation]-&gt;(d:Company) WHERE rel.relation_group=&#39;OWNERSHIP&#39; AND rel.percent_share &gt;= 50 AND c.company_name= $eingabe RETURN c, rel, d&quot;,eingabe=eingabe).to_data_frame()\r\n            if namelistdf.empty:\r\n                return &quot;No company with this name exists&quot;\r\n            namelistjson = namelistdf.to_json(orient=&quot;records&quot;,date_unit=&quot;s&quot;,default_handler=str)\r\n            return namelistjson\r\n         else:\r\n             return &quot;Please enter a valid company name&quot;\r\n\r\nI get the data from a neo4j database.\r\nIt&#39;s not about to console log the data because I want to generate a graph from the data. The `console log` is only for testing if the data is right. But now it seems that the data isn&#39;t passed to `d3.json(url, function (data)` correctly",
      "link": "https://stackoverflow.com/questions/59104813/how-to-load-data-from-a-flask-url-and-console-log-the-data-n-react",
      "title": "how to load data from a flask url and console log the data n react?"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 1748,
            "user_id": 677173,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name": "Pablissimo",
            "link": "https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1575034600,
          "creation_date": 1575034600,
          "answer_id": 59105865,
          "question_id": 59102296,
          "share_link": "https://stackoverflow.com/a/59105865",
          "body_markdown": "With some sample data:\r\n\r\n```\r\nMERGE (u1: User { id: 1 })\r\nMERGE (u2: User { id: 2 })\r\nMERGE (castle: Location { name: &#39;Castle&#39; })\r\nMERGE (pub: Location { name: &#39;Pub&#39; })\r\nMERGE (lake: Location { name: &#39;Lake&#39; })\r\nMERGE (u1)-[:VISITED]-&gt;(castle)\r\nMERGE (u1)-[:VISITED]-&gt;(pub)\r\nMERGE (u2)-[:VISITED]-&gt;(pub)\r\nMERGE (u2)-[:VISITED]-&gt;(lake)\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe then amend the query to return users connected to locations where the location has at least 2 incoming `:VISITED` edges from User nodes\r\n\r\n```\r\nMATCH (u: User)-[r:VISITED]-&gt;(l: Location)\r\n WHERE size((:User)-[:VISITED]-&gt;(l)) &gt;= 2\r\n RETURN u, l;\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oU1qV.png\r\n  [2]: https://i.stack.imgur.com/OQslH.png",
          "link": "https://stackoverflow.com/questions/59102296/identify-nodes-with-2-or-more-relationships-with-cypher-neo47/59105865#59105865",
          "title": "Identify nodes with 2 or more relationships with Cypher Neo47"
        }
      ],
      "owner": {
        "reputation": 25,
        "user_id": 10536412,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/494a89c8273b81056e67854342c9ed17?s=128&d=identicon&r=PG&f=1",
        "display_name": "Neil",
        "link": "https://stackoverflow.com/users/10536412/neil"
      },
      "last_editor": {
        "reputation": 25,
        "user_id": 10536412,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/494a89c8273b81056e67854342c9ed17?s=128&d=identicon&r=PG&f=1",
        "display_name": "Neil",
        "link": "https://stackoverflow.com/users/10536412/neil"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 28,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59105865,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1575034600,
      "creation_date": 1575020512,
      "last_edit_date": 1575022566,
      "question_id": 59102296,
      "share_link": "https://stackoverflow.com/q/59102296",
      "body_markdown": "I have 200 User Nodes and 475 Location Nodes which I have created a relationship (VISITED) for each user who has visited any location. What I&#39;m wanting to Graph all nodes where any location has 2 or more users who have visited that place.\r\n\r\nThis is what i have so far.\r\n```\r\nLOAD CSV WITH HEADERS FROM &quot;http://x.x.x.x/users.csv&quot; AS csvLine\r\nMERGE (u:User {id: toInt(csvLine.user_id), name: toLower(csvLine.name), user_id: csvLine.user_id, user_type:&#39;visitor&#39;})\r\n\r\nLOAD CSV WITH HEADERS FROM &quot;http://x.x.x.x/locations.csv&quot; AS csvLine\r\nMERGE (l:Location {id: toInt(csvLine.location_id), name: csvLine.location_name, location_id: csvLine.location_id})\r\n\r\nLOAD CSV WITH HEADERS FROM &quot;http://x.x.x.x/visits.csv&quot; AS csvLine\r\nMATCH (l:Location {location_id: csvLine.location_id})\r\nMATCH (u:User {user_id: csvLine.user_id})\r\nMERGE (u)-[:VISITED]-&gt;(l)\r\n```\r\n\r\nEDIT:\r\nUsing the following i am now able to display all the Location nodes which have 2 or more visitors, however its not showing the user nodes. I have to click on the other nodes manually  \r\n\r\n```\r\nMATCH ()-[r]-&gt;(n)\r\n WITH n, count(r) as rel_cnt\r\n WHERE rel_cnt &gt; 1\r\n RETURN n;\r\n```",
      "link": "https://stackoverflow.com/questions/59102296/identify-nodes-with-2-or-more-relationships-with-cypher-neo47",
      "title": "Identify nodes with 2 or more relationships with Cypher Neo47"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575250423,
          "post_id": 59100132,
          "comment_id": 104491240,
          "link": "https://stackoverflow.com/questions/59100132/difference-between-comma-separated-match-and-multi-match#comment104491240_59100132"
        },
        {
          "owner": {
            "reputation": 11,
            "user_id": 5779935,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6cff6d82a95b1603000be091a3db86b9?s=128&d=identicon&r=PG&f=1",
            "display_name": "PY de Daran",
            "link": "https://stackoverflow.com/users/5779935/py-de-daran"
          },
          "reply_to_user": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575258475,
          "post_id": 59100132,
          "comment_id": 104492715,
          "link": "https://stackoverflow.com/questions/59100132/difference-between-comma-separated-match-and-multi-match#comment104492715_59100132"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 11,
                "user_id": 5779935,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/6cff6d82a95b1603000be091a3db86b9?s=128&d=identicon&r=PG&f=1",
                "display_name": "PY de Daran",
                "link": "https://stackoverflow.com/users/5779935/py-de-daran"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575337458,
              "post_id": 59138281,
              "comment_id": 104523661,
              "link": "https://stackoverflow.com/questions/59100132/difference-between-comma-separated-match-and-multi-match/59138281#comment104523661_59138281"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 1748,
            "user_id": 677173,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name": "Pablissimo",
            "link": "https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575287102,
          "creation_date": 1575287102,
          "answer_id": 59138281,
          "question_id": 59100132,
          "share_link": "https://stackoverflow.com/a/59138281",
          "body_markdown": "The two queries aren&#39;t doing the same thing, though with your specific data you may be getting the same result (so long as *everything* you&#39;re matching on in your `OPTIONAL MATCH`es always returns something).\r\n\r\n`OPTIONAL MATCH` is basically saying &#39;If the pattern I&#39;m `OPTIONAL MATCH`ing doesn&#39;t exist, just put `nulls` in place of anything derived from the nodes and relationships in the `OPTIONAL MATCH`.\r\n\r\nComma-separated chunks after a `MATCH` or `OPTIONAL MATCH` are all just one pattern to be found - we&#39;re not implicitly doing another `MATCH` for each comma we find, we instead find something that obeys the whole pattern (and return it), or don&#39;t (and return nulls for anything mentioned).\r\n\r\nIn your case:\r\n\r\n* The first query will find a `MarketData` node that matches the CSV row, then optionally match each other node type in turn and if it&#39;s found create a relationship between that node and the `MarketData` node.\r\n  * Because you&#39;re `OPTIONAL MATCH`ing each node label at a time, if any label is missing you&#39;ll simply get a `null` for that node variable and you&#39;ll skip creating the relationship because of your `FOREACH` trick\r\n* The second query will find a `MarketData` node that matches the CSV row same as the first, but then it&#39;ll either fulfil the whole pattern (find a `CurveIndex` that matches the row, *and* a `Maturity` that matches, *and* a `Tray` that matches) returning those values, or it&#39;ll fail to find all of them and return nulls for everything\r\n\r\nIf you&#39;re familiar with SQL, it&#39;s as though you&#39;re `OUTER JOIN`ing your CSV row to a subselect of inner-joined data when you&#39;re using commas, rather than query 1 which just `OUTER JOIN`s each &#39;table&#39; in sequence. In your second example, if anything doesn&#39;t match, your `INNER JOIN` will return no rows so you&#39;ll be left only with the CSV row and nothing else.\r\n\r\nMy feeling is that you&#39;re probably creating fewer nodes and relationships in the second query, because if anything from `entity` down to `volatilityModel` doesn&#39;t match the `OPTIONAL MATCH` won&#39;t return anything.\r\n\r\nLet&#39;s do a simplified example with some dummy data, just containing MarketData, CurveIndex and Entity nodes:\r\n\r\n```\r\nMERGE (m: MarketData { quoteName: &#39;MSFT&#39; })\r\nMERGE (curveIndex: CurveIndex { name: &#39;SomeCurveIndex&#39; })\r\nMERGE (entity: Entity { name: &#39;MSFT Entity&#39; })\r\n```\r\n\r\nAnd we&#39;ll fake up a CSV in memory, and avoid all the batching bits and bobs for now. First let&#39;s just return the matching MarketData, CurveIndex and Entity nodes when everything in the CSV matches, using your first query to prove it works:\r\n\r\n```\r\nWITH { Quote: &#39;MSFT&#39;, CurveIndex: &#39;SomeCurveIndex&#39;, Entity: &#39;MSFT Entity&#39; } as row\r\nWITH\r\n    row.Quote AS quoteName,\r\n    row.CurveIndex AS curveIndexName,\r\n    row.Entity AS entityName\r\nMATCH (marketData: MarketData { quoteName: quoteName })\r\nOPTIONAL MATCH (curveIndex: CurveIndex { name: curveIndexName })\r\nOPTIONAL MATCH (entity: Entity { name: entityName })\r\nRETURN marketData, curveIndex, entity\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBecause all the data exists in both the CSV and the reference data already in the database, we&#39;ll get back three nodes. Now let&#39;s try changing the Entity name and seeing what happens:\r\n\r\n```\r\nWITH { Quote: &#39;MSFT&#39;, CurveIndex: &#39;SomeCurveIndex&#39;, Entity: &#39;Some Other Entity&#39; } as row\r\nWITH\r\n    row.Quote AS quoteName,\r\n    row.CurveIndex AS curveIndexName,\r\n    row.Entity AS entityName\r\nMATCH (marketData: MarketData { quoteName: quoteName })\r\nOPTIONAL MATCH (curveIndex: CurveIndex { name: curveIndexName })\r\nOPTIONAL MATCH (entity: Entity { name: entityName })\r\nRETURN marketData, curveIndex, entity\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPerfect - we get back the bits we could match, and get nulls for the bits we couldn&#39;t.\r\n\r\nNow let&#39;s try concatenating those two `OPTIONAL MATCH` clauses and see the effect:\r\n\r\n```\r\nWITH { Quote: &#39;MSFT&#39;, CurveIndex: &#39;SomeCurveIndex&#39;, Entity: &#39;Some Other Entity&#39; } as row\r\nWITH\r\n    row.Quote AS quoteName,\r\n    row.CurveIndex AS curveIndexName,\r\n    row.Entity AS entityName\r\nMATCH (marketData: MarketData { quoteName: quoteName })\r\nOPTIONAL MATCH (curveIndex: CurveIndex { name: curveIndexName }), (entity: Entity { name: entityName })\r\nRETURN marketData, curveIndex, entity\r\n```\r\n\r\n[![enter image description here][3]][3]\r\n\r\nRuh roh - even though we found a matching `CurveIndex`, we didn&#39;t return it because we couldn&#39;t at the same time also find a matching `Entity`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SXTXc.png\r\n  [2]: https://i.stack.imgur.com/byKfD.png\r\n  [3]: https://i.stack.imgur.com/o5daC.png",
          "link": "https://stackoverflow.com/questions/59100132/difference-between-comma-separated-match-and-multi-match/59138281#59138281",
          "title": "Difference between comma separated MATCH and multi MATCH"
        },
        {
          "comments": [
            {
              "owner": {
                "reputation": 11,
                "user_id": 5779935,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/6cff6d82a95b1603000be091a3db86b9?s=128&d=identicon&r=PG&f=1",
                "display_name": "PY de Daran",
                "link": "https://stackoverflow.com/users/5779935/py-de-daran"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575337410,
              "post_id": 59147321,
              "comment_id": 104523655,
              "link": "https://stackoverflow.com/questions/59100132/difference-between-comma-separated-match-and-multi-match/59147321#comment104523655_59147321"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575324789,
          "last_edit_date": 1575324789,
          "creation_date": 1575324287,
          "answer_id": 59147321,
          "question_id": 59100132,
          "share_link": "https://stackoverflow.com/a/59147321",
          "body_markdown": "@Pablissimo is correct about why the 2 queries act differently.\r\n\r\n1. One main reason for the slowness is that all the `MATCH` clauses are creating a [cartesian product](https://stackoverflow.com/a/33354771/974731). One way to avoid a cartesian product is to minimize the number of `MATCH` clauses, but as you saw, combining them into a single clause does not work in your use case. But I have a fairly clever way to avoid using `MATCH` clauses entirely.\r\n\r\n2. Also, you probably have not created the appropriate [indexes](https://neo4j.com/docs/developer-manual/current/cypher/schema/index/).\r\n\r\nFor simplicity, I will limit my discussion to just this snippet from your first query (you can expand this to the other optional variables):\r\n\r\n    OPTIONAL MATCH (curveIndex:CurveIndex {name:curveIndexName})\r\n    FOREACH (f1 IN CASE WHEN curveIndex IS NULL THEN [] ELSE [curveIndex] END |\r\n      MERGE (marketData)-[:CURVE_INDEX]-&gt;(curveIndex))\r\n\r\n\r\n1. The above snippet can be replaced by the following, which uses [pattern comprehension](https://neo4j.com/docs/cypher-manual/current/syntax/lists/#cypher-pattern-comprehension) and a [variable-length relationship](https://neo4j.com/docs/developer-manual/3.4/cypher/clauses/match/#varlength-rels) to avoid using multiple `OPTIONAL MATCH` clauses (and the cartesian products they produce), and which also creates a single list of all the `CurveIndex` nodes so that they can be processed by a single `FOREACH` operation. *By the way, a pattern comprehension requires a pattern with a relationship, which is why we use a 0-length relationship rather than just a bare node.*\r\n\r\n        FOREACH (ci IN [(c:CurveIndex {name:curveIndexName})-[*0..0]-()|c] |\r\n          MERGE (marketData)-[:CURVE_INDEX]-&gt;(ci))\r\n\r\n2. You should also create indexes on:\r\n\r\n        :MarketData(sourceName, quoteName, type)\r\n    \r\n and\r\n\r\n        :CurveIndex(name)",
          "link": "https://stackoverflow.com/questions/59100132/difference-between-comma-separated-match-and-multi-match/59147321#59147321",
          "title": "Difference between comma separated MATCH and multi MATCH"
        }
      ],
      "owner": {
        "reputation": 11,
        "user_id": 5779935,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/6cff6d82a95b1603000be091a3db86b9?s=128&d=identicon&r=PG&f=1",
        "display_name": "PY de Daran",
        "link": "https://stackoverflow.com/users/5779935/py-de-daran"
      },
      "last_editor": {
        "reputation": 11,
        "user_id": 5779935,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/6cff6d82a95b1603000be091a3db86b9?s=128&d=identicon&r=PG&f=1",
        "display_name": "PY de Daran",
        "link": "https://stackoverflow.com/users/5779935/py-de-daran"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 48,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 2,
      "score": 1,
      "last_activity_date": 1575324789,
      "creation_date": 1575010793,
      "last_edit_date": 1575020240,
      "question_id": 59100132,
      "share_link": "https://stackoverflow.com/q/59100132",
      "body_markdown": "Context: We are importing csv files in Neo4J database.  \r\nWe have encountered performance issue with the batch\r\n```\r\nCALL apoc.periodic.iterate(&#39;\r\nCALL apoc.load.csv(\\&#39;file:///myfile.csv\\&#39;) yield map as row return row\r\n&#39;,&#39;\r\nWITH\r\n    row.Source AS sourceName,\r\n    row.Quote AS quoteName,\r\n    row.Type AS type,\r\n    row.CurveIndex AS curveIndexName,\r\n    row.Entity AS entityName,\r\n    row.FreeParam AS freeParamName,\r\n    row.Location AS locationName,\r\n    row.Maturity AS maturityName,\r\n    row.DepMaturity AS depMaturityName,\r\n    row.Seniority AS seniorityName,\r\n    row.Tray AS trayName,\r\n    row.VolatilityModel AS volatilityModelName\r\nMATCH (marketData:MarketData {source:sourceName, quoteName:quoteName, type:type})\r\nOPTIONAL MATCH  (curveIndex:CurveIndex {name:curveIndexName})\r\nOPTIONAL MATCH  (entity:Entity {name:entityName})\r\nOPTIONAL MATCH  (maturity:Maturity {name:maturityName})\r\nOPTIONAL MATCH  (depMaturity:Maturity {name:depMaturityName})\r\nOPTIONAL MATCH  (seniority:Seniority {name:seniorityName})\r\nOPTIONAL MATCH  (tray:Tray {name:trayName})\r\nOPTIONAL MATCH  (volatilityModel:VolatilityModel {name:volatilityModelName})\r\n\r\nFOREACH (f1 IN CASE WHEN curveIndex IS NULL THEN [] ELSE [curveIndex] END |\r\n\tMERGE (marketData)-[:CURVE_INDEX]-&gt;(curveIndex))\r\nFOREACH (f1 IN CASE WHEN entity IS NULL THEN [] ELSE [entity] END |\r\n\tMERGE (marketData)-[:ENTITY]-&gt;(entity))\r\nFOREACH (f1 IN CASE WHEN maturity IS NULL THEN [] ELSE [maturity] END |\r\n\tMERGE (marketData)-[:MATURITY]-&gt;(maturity))\r\nFOREACH (f1 IN CASE WHEN depMaturity IS NULL THEN [] ELSE [depMaturity] END |\r\n\tMERGE (marketData)-[:DEP_MATURITY]-&gt;(depMaturity))\r\nFOREACH (f1 IN CASE WHEN seniority IS NULL THEN [] ELSE [seniority] END |\r\n\tMERGE (marketData)-[:SENIORITY]-&gt;(seniority))\r\nFOREACH (f1 IN CASE WHEN tray IS NULL THEN [] ELSE [tray] END |\r\n\tMERGE (marketData)-[:TRAY]-&gt;(tray))\r\nFOREACH (f1 IN CASE WHEN volatilityModel IS NULL THEN [] ELSE [volatilityModel] END |\r\n\tMERGE (marketData)-[:VOLATILITY_MODEL]-&gt;(volatilityModel))\r\n&#39;, {batchSize:1000, iterateList:true, parallel:true, concurrency:4});\r\n```\r\nThis command uses a lot of memory (many stop-the-world gc, some &gt;10s) and take hours to be executed on a 900k lines file.  \r\n\r\nAfter several tries we found this command is much more efficient:  \r\n```\r\nCALL apoc.periodic.iterate(&#39;\r\nCALL apoc.load.csv(\\&#39;file:///myfile.csv\\&#39;) yield map as row return row\r\n&#39;,&#39;\r\nWITH\r\n    row.Source AS sourceName,\r\n    row.Quote AS quoteName,\r\n    row.Type AS type,\r\n    row.CurveIndex AS curveIndexName,\r\n    row.Entity AS entityName,\r\n    row.FreeParam AS freeParamName,\r\n    row.Location AS locationName,\r\n    row.Maturity AS maturityName,\r\n    row.DepMaturity AS depMaturityName,\r\n    row.Seniority AS seniorityName,\r\n    row.Tray AS trayName,\r\n    row.VolatilityModel AS volatilityModelName\r\nMATCH (marketData:MarketData {source:sourceName, quoteName:quoteName, type:type})\r\nOPTIONAL MATCH  (curveIndex:CurveIndex {name:curveIndexName}),\r\n                (entity:Entity {name:entityName}),\r\n                (maturity:Maturity {name:maturityName}),\r\n                (depMaturity:Maturity {name:depMaturityName}),\r\n                (seniority:Seniority {name:seniorityName}),\r\n                (tray:Tray {name:trayName}),\r\n                (volatilityModel:VolatilityModel {name:volatilityModelName})\r\n\r\nFOREACH (f1 IN CASE WHEN curveIndex IS NULL THEN [] ELSE [curveIndex] END |\r\n\tMERGE (marketData)-[:CURVE_INDEX]-&gt;(curveIndex))\r\nFOREACH (f1 IN CASE WHEN entity IS NULL THEN [] ELSE [entity] END |\r\n\tMERGE (marketData)-[:ENTITY]-&gt;(entity))\r\nFOREACH (f1 IN CASE WHEN maturity IS NULL THEN [] ELSE [maturity] END |\r\n\tMERGE (marketData)-[:MATURITY]-&gt;(maturity))\r\nFOREACH (f1 IN CASE WHEN depMaturity IS NULL THEN [] ELSE [depMaturity] END |\r\n\tMERGE (marketData)-[:DEP_MATURITY]-&gt;(depMaturity))\r\nFOREACH (f1 IN CASE WHEN seniority IS NULL THEN [] ELSE [seniority] END |\r\n\tMERGE (marketData)-[:SENIORITY]-&gt;(seniority))\r\nFOREACH (f1 IN CASE WHEN tray IS NULL THEN [] ELSE [tray] END |\r\n\tMERGE (marketData)-[:TRAY]-&gt;(tray))\r\nFOREACH (f1 IN CASE WHEN volatilityModel IS NULL THEN [] ELSE [volatilityModel] END |\r\n\tMERGE (marketData)-[:VOLATILITY_MODEL]-&gt;(volatilityModel))\r\n&#39;, {batchSize:1000, iterateList:true, parallel:true, concurrency:4});\r\n```\r\nIt use less memory and is executed in around 50s.  \r\n\r\nI am not sure to really understand the difference between the 2 commands. \r\nDoes anybody can explain it ?",
      "link": "https://stackoverflow.com/questions/59100132/difference-between-comma-separated-match-and-multi-match",
      "title": "Difference between comma separated MATCH and multi MATCH"
    },
    {
      "tags": [
        "neo4j",
        "spring-data-neo4j",
        "neo4j-ogm"
      ],
      "owner": {
        "reputation": 1289,
        "user_id": 1189332,
        "user_type": "registered",
        "accept_rate": 24,
        "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
        "display_name": "user1189332",
        "link": "https://stackoverflow.com/users/1189332/user1189332"
      },
      "last_editor": {
        "reputation": 1289,
        "user_id": 1189332,
        "user_type": "registered",
        "accept_rate": 24,
        "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
        "display_name": "user1189332",
        "link": "https://stackoverflow.com/users/1189332/user1189332"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574971495,
      "creation_date": 1574969784,
      "last_edit_date": 1574971495,
      "question_id": 59095280,
      "share_link": "https://stackoverflow.com/q/59095280",
      "body_markdown": "Here is my Cypher:\r\n\r\n        MATCH (i1:Identity)-[ie1:IS_LINKED_TO]-&gt;(e1:Event)-[ee1:HAS_FLIGHT]-&gt;(f:Flight)&lt;-[ee2:HAS_FLIGHT]-\r\n    (e2:Event)&lt;-[ie2:IS_LINKED_TO]-(i2:Identity) \r\n        WHERE i1.identityId &gt;= i2.identityId\r\n        WITH i1, i2, collect({ e1:e1, e2:e2, ee1:ee1,f:f,ee2:ee2}) AS x\r\n        WHERE size (x) &gt; 2\r\n        WITH i1, i2, x\r\n        RETURN i1,i2,x\r\n\r\nI&#39;m using the session.query(...) API and I&#39;m getting i1 and i2 as first class domain objects (Identity). What&#39;s the best way to extract x? It&#39;s being presented as a Map with the aliases.\r\n\r\nFinally I want the entire Identity object with everything filled in. I see that the values of node aliases (eg: e1) in the map is of type InternalNode. What&#39;s the best way to convert these nodes to actual domain objects?\r\n\r\n**EDIT**\r\n\r\nI&#39;ve tried using the @QueryResult feature and here is how my result object looks like.\r\n\r\n    @QueryResult\r\n    public class FlightRelationshipAnalysis {\r\n        private Identity i1;\r\n        private Identity i2;\r\n        private List&lt;Map&lt;String, Object&gt;&gt; x;\r\n    }\r\n\r\nThe value of the map is an InternalNode (for nodes). Not sure is this is the right way to model a @QueryResult.\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59095280/neo4j-ogm-mapping-custom-objects",
      "title": "Neo4J OGM Mapping custom objects"
    },
    {
      "tags": [
        "neo4j",
        "data-modeling",
        "graph-databases",
        "spring-data-neo4j",
        "neo4j-ogm"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 95,
                "user_id": 4527149,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/oYw1z.jpg?s=128&g=1",
                "display_name": "venkat",
                "link": "https://stackoverflow.com/users/4527149/venkat"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575457043,
              "post_id": 59172711,
              "comment_id": 104570670,
              "link": "https://stackoverflow.com/questions/59094595/neo4j-data-modelling-multiple-labels-for-a-node-with-hierarchy/59172711#comment104570670_59172711"
            },
            {
              "owner": {
                "reputation": 4912,
                "user_id": 2650436,
                "user_type": "registered",
                "accept_rate": 80,
                "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG",
                "display_name": "meistermeier",
                "link": "https://stackoverflow.com/users/2650436/meistermeier"
              },
              "reply_to_user": {
                "reputation": 95,
                "user_id": 4527149,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/oYw1z.jpg?s=128&g=1",
                "display_name": "venkat",
                "link": "https://stackoverflow.com/users/4527149/venkat"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575459152,
              "post_id": 59172711,
              "comment_id": 104571706,
              "link": "https://stackoverflow.com/questions/59094595/neo4j-data-modelling-multiple-labels-for-a-node-with-hierarchy/59172711#comment104571706_59172711"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 4912,
            "user_id": 2650436,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG",
            "display_name": "meistermeier",
            "link": "https://stackoverflow.com/users/2650436/meistermeier"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1575451727,
          "creation_date": 1575451727,
          "answer_id": 59172711,
          "question_id": 59094595,
          "share_link": "https://stackoverflow.com/a/59172711",
          "body_markdown": "It is possible to have multiple labels on a node created (or loaded) by Spring Data Neo4j/Neo4j-OGM.\r\n\r\nLet my draw the interfaces/classes first.\r\n\r\n    @NodeEntity\r\n    public interface CommunicationDevice {}\r\n\r\n    @NodeEntity\r\n    public class Electronics {}\r\n\r\n    @NodeEntity\r\n    public class Mobiles extends Electronics implements CommunicationDevice {}\r\n\r\n    @NodeEntity\r\n    public class Tablets extends Electronics implements CommunicationDevice {}\r\n\r\n    @NodeEntity // here we do not want the label CommunicationDevice\r\n    public class Laptops extends Electronics {}\r\n\r\nYou can see that the Java class model reflects directly the hierarchy you want to express through the labels.\r\n\r\nThe second approach could be achieved through `@Relationship` mappings like\r\n\r\n    @NodeEntity\r\n    public class CommunicationDevice {\r\n    \r\n        @Relationship(&quot;SubType&quot;)\r\n        Set&lt;Electronics&gt; electronics;\r\n    }\r\n\r\nSo there won&#39;t be any inheritance but every class represents one node &quot;type&quot;.\r\n\r\nMy suggestion is that it really depends on the data you want to store. In your examples there are only leaf-nodes and no data for e.g. `CommunicationDevice`.\r\nWhile the first option stores the products directly with their labels, the second option reflects more the hierarchy for navigation to the products.\r\n\r\nPersonally I think that the best approach is to really store the path / navigation to the product (second option) instead of using just the labels. Otherwise you won&#39;t have a real hierarchy in your graph with just the labels but only in the application.",
          "link": "https://stackoverflow.com/questions/59094595/neo4j-data-modelling-multiple-labels-for-a-node-with-hierarchy/59172711#59172711",
          "title": "neo4j data modelling multiple labels for a node with hierarchy"
        }
      ],
      "owner": {
        "reputation": 95,
        "user_id": 4527149,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/oYw1z.jpg?s=128&g=1",
        "display_name": "venkat",
        "link": "https://stackoverflow.com/users/4527149/venkat"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 29,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575451727,
      "creation_date": 1574965696,
      "question_id": 59094595,
      "share_link": "https://stackoverflow.com/q/59094595",
      "body_markdown": "Assume i&#39;m creating products of Mobiles and Tablets labeling as\r\n\r\n**`create (n:Mobiles:Electronics:Communication Devices {name:&#39;XXXX&#39;});\r\n create (n:Tablets:Electronics:Communication Devices {name:&#39;YYYY&#39;});`**\r\n\r\n and after with Laptops. So, the following\r\n\r\n**`create (n:Laptops:Electronics {name:&#39;AAAA&#39;});`**\r\n\r\n - Can i maintain ontology / retrieve hierarchy based on Labels positioned?\r\n - If so, how to set model class based on the above hierarchy (Multiple labels for Node) in Spring-data-starter-neo4j\r\n\r\n Or\r\n -  Do i need to model graph itself in a hierarchy \r\n\r\n`CREATE (:CommunicationDevices)-[:SubType]-&gt;(:Electronics)-[:SubType]-&gt;(:Mobiles)`\r\n\r\nWhich one is the preferred way to model **Product Catalogue**? Please show some insights on graph modelling for this use case.",
      "link": "https://stackoverflow.com/questions/59094595/neo4j-data-modelling-multiple-labels-for-a-node-with-hierarchy",
      "title": "neo4j data modelling multiple labels for a node with hierarchy"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1289,
                "user_id": 1189332,
                "user_type": "registered",
                "accept_rate": 24,
                "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
                "display_name": "user1189332",
                "link": "https://stackoverflow.com/users/1189332/user1189332"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574969087,
              "post_id": 59094602,
              "comment_id": 104423990,
              "link": "https://stackoverflow.com/questions/59094444/neo4j-aggregation-count-globally-and-not-per-subgraph/59094602#comment104423990_59094602"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1574965732,
          "creation_date": 1574965732,
          "answer_id": 59094602,
          "question_id": 59094444,
          "share_link": "https://stackoverflow.com/a/59094602",
          "body_markdown": "You can count the events per each pair of people at an event where one id is greater than the other so you do not double count. And instead of just getting the count, collect the event and each relationship in a separate object. Use the size of the collection to get only the joint events greater than two.\r\n\r\n    MATCH (p:Person)-[rel1:SEEN_AT]-&gt;(e:Event)&lt;-[rel2:SEEN_AT]-(p1:Person) \r\n    WHERE id(p) &gt; id(p1)\r\n    WITH p, p1, collect( {event: e, rel1: rel1, rel2: rel2}) AS total_events_together\r\n    WHERE size (total_events_together) &gt; 2\r\n    RETURN p, p1, total_events_together",
          "link": "https://stackoverflow.com/questions/59094444/neo4j-aggregation-count-globally-and-not-per-subgraph/59094602#59094602",
          "title": "Neo4J Aggregation count Globally and not per subgraph"
        }
      ],
      "owner": {
        "reputation": 1289,
        "user_id": 1189332,
        "user_type": "registered",
        "accept_rate": 24,
        "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
        "display_name": "user1189332",
        "link": "https://stackoverflow.com/users/1189332/user1189332"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 21,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59094602,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574965732,
      "creation_date": 1574964913,
      "question_id": 59094444,
      "share_link": "https://stackoverflow.com/q/59094444",
      "body_markdown": "Here is my data model (conceptually):\r\n\r\n    (Person)-[:SEEN_AT_EVENT]-&gt;(Event)\r\n\r\nData:\r\n\r\n    CREATE (john:Person {name: &#39;John Smith&#39;})\r\n    CREATE (jane:Person {name: &#39;Jane Smith&#39;})\r\n    CREATE (a:Event {name: &quot;Event A&quot;})\r\n    CREATE (b:Event {name: &quot;Event B&quot;})\r\n    CREATE (c:Event {name: &quot;Event C&quot;})\r\n    CREATE (john)-[:SEEN_AT]-&gt;(a)\r\n    CREATE (john)-[:SEEN_AT]-&gt;(b)\r\n    CREATE (john)-[:SEEN_AT]-&gt;(c)\r\n    CREATE (jane)-[:SEEN_AT]-&gt;(a)\r\n    CREATE (jane)-[:SEEN_AT]-&gt;(b)\r\n    CREATE (jane)-[:SEEN_AT]-&gt;(c)\r\n\r\nAnd a few examples:\r\n\r\n    &quot;John Smith&quot; seen at event &quot;Event A&quot;\r\n    &quot;John Smith&quot; seen at event &quot;Event B&quot;\r\n    &quot;John Smith&quot; seen at event &quot;Event C&quot;\r\n    &quot;Jane Smith&quot; seen at event &quot;Event A&quot;\r\n    &quot;Jane Smith&quot; seen at event &quot;Event B&quot;\r\n    &quot;Jane Smith&quot; seen at event &quot;Event C&quot;\r\n\r\nI&#39;d like to find out Persons who are seen together more than 2 times and retrieve the Person and Event nodes along with the relationship.\r\n\r\n    MATCH (p:Person)-[rel1:SEEN_AT]-&gt;(e:Event)&lt;-[rel2:SEEN_AT]-(p1:Person) \r\n    WITH p, rel1, e, rel2, p1, count(e) AS total_events_together \r\n    RETURN  p, rel1, e, rel2, p1, total_events_together\r\n\r\n\r\n\r\nThis (as expected) shows me the individual paths (subgraphs) between John and Jane. The count is per subgraph (which is 1).\r\n\r\nI want to use this count as a predicate to filter the paths (which I believe means that this count should be applied globally (at the graph level and not at the subgraph level)?\r\n\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59094444/neo4j-aggregation-count-globally-and-not-per-subgraph",
      "title": "Neo4J Aggregation count Globally and not per subgraph"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "last_editor": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1574960205,
          "last_edit_date": 1574960205,
          "creation_date": 1574959351,
          "answer_id": 59093281,
          "question_id": 59093158,
          "share_link": "https://stackoverflow.com/a/59093281",
          "body_markdown": "You are pretty close. You need to aggregate the jobs per person. ANd since you have a collection of jobs and not a count of jobs you need to use `size()` to compare it to 1.\r\n\r\n\r\n    MATCH (person:Person)&lt;-[*]-(job:Job) \r\n    WITH person, collect(job) AS jobs \r\n    WHERE size(jobs) &gt; 1 \r\n    RETURN person\r\n\r\nALternatively, you could also do this...\r\n\r\n    MATCH (person:Person)&lt;-[*]-(job:Job) \r\n    WITH person, count(job) AS num_jobs \r\n    WHERE num_jobs &gt; 1 \r\n    RETURN person\r\n\r\nIt would be better to scope down your original so it is a little tighter and does not result in any runaway queries.\r\n\r\n    MATCH (person:Person)&lt;-[:relations1|realtiosn2*2]-(job:Job) \r\n    WITH person, count(job) AS num_jobs \r\n    WHERE num_jobs &gt; 1 \r\n    RETURN person\r\n",
          "link": "https://stackoverflow.com/questions/59093158/neo4j-select-related-nodes-with-specific-label-if-they-are-at-least-2/59093281#59093281",
          "title": "Neo4j: Select related nodes with specific label if they are at least 2"
        }
      ],
      "owner": {
        "reputation": 440,
        "user_id": 6782043,
        "user_type": "registered",
        "accept_rate": 100,
        "profile_image": "https://i.stack.imgur.com/mlI8G.png?s=128&g=1",
        "display_name": "Neamesis",
        "link": "https://stackoverflow.com/users/6782043/neamesis"
      },
      "last_editor": {
        "reputation": 8944,
        "user_id": 4187346,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
        "display_name": "Dave Bennett",
        "link": "https://stackoverflow.com/users/4187346/dave-bennett"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 12,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59093281,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574972354,
      "creation_date": 1574958838,
      "last_edit_date": 1574972354,
      "question_id": 59093158,
      "share_link": "https://stackoverflow.com/q/59093158",
      "body_markdown": "I&#39;m a beginner with Neo4J. I need help, I have this type of graph (very simplified here): \r\n\r\n(person:Person)&lt;-[:relation1]-(i:Item)&lt;-[:relation2]-(job:Job)\r\n\r\nI don&#39;t know how to return a person who has 2 jobs. I don&#39;t have only 2 relations between my beginning node and my ending node, and when I try to count it&#39;s too long for Neo4J, and I don&#39;t know how to write the WHERE clause...\r\n\r\nI would like to write something like this \r\n\r\n    MATCH (person:Person)&lt;-[*]-(job:Job) \r\n    WITH collect(job) AS jobs \r\n    WHERE jobs &gt; 1\r\n    RETURN person\r\n\r\nIs it possible ? Can somebody help me ? \r\n\r\n",
      "link": "https://stackoverflow.com/questions/59093158/neo4j-select-related-nodes-with-specific-label-if-they-are-at-least-2",
      "title": "Neo4j: Select related nodes with specific label if they are at least 2"
    },
    {
      "tags": [
        "python",
        "neo4j"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 1748,
            "user_id": 677173,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name": "Pablissimo",
            "link": "https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1575277951,
          "creation_date": 1575277951,
          "answer_id": 59135677,
          "question_id": 59092895,
          "share_link": "https://stackoverflow.com/a/59135677",
          "body_markdown": "[The docs suggest you can query using Cypher](https://neo4j-rest-client.readthedocs.io/en/latest/queries.html) just like you can in the Desktop.\r\n\r\nAs alternatives if that&#39;s a bit clunky, there&#39;s also the [official client](https://neo4j.com/developer/python/), and the unofficial [Neomodel](https://neo4j.com/developer/python/#neomodel-lib) project which is an ORM on top of Neo4j that makes things slightly easier to consume if you&#39;re familiar with Django (or any other ORM). The official client page also has an example project based on the Movies sample database that should give you some pointers.",
          "link": "https://stackoverflow.com/questions/59092895/is-there-a-way-to-write-queries-in-neo4j-while-using-neo4jrestclient-and-python/59135677#59135677",
          "title": "Is there a way to write queries in neo4j while using neo4jrestclient and python?"
        }
      ],
      "owner": {
        "reputation": 13,
        "user_id": 11406975,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/2255679814492776/picture?type=large",
        "display_name": "Gytautė Barzdžiūtė",
        "link": "https://stackoverflow.com/users/11406975/gytaut%c4%97-barzd%c5%bei%c5%abt%c4%97"
      },
      "last_editor": {
        "reputation": 615939,
        "user_id": 13302,
        "user_type": "registered",
        "accept_rate": 99,
        "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG",
        "display_name": "marc_s",
        "link": "https://stackoverflow.com/users/13302/marc-s"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 59135677,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575277951,
      "creation_date": 1574957759,
      "last_edit_date": 1574971062,
      "question_id": 59092895,
      "share_link": "https://stackoverflow.com/q/59092895",
      "body_markdown": "I need to filter my data and use queries. I am using neo4jrestclient library and working with Neo4J Desktop for visualizing my data.\r\n\r\nHere is my program:\r\n```\r\n#creating node\r\n\r\nusers = db.labels.create(&quot;Worker&quot;)\r\nu1 = db.nodes.create(name=&quot;Keanu Reeves&quot;, born=1999, city=&quot;New York&quot;, experience=3)\r\n...\r\nu6 = db.nodes.create(name=&quot;Emil Eifrem&quot;, born=1978, city=&quot;New York&quot;, experience=0.5)\r\nusers.add(u1, u2, u3, u4, u5, u6)\r\n\r\ndepartments = db.labels.create(&quot;Department&quot;)\r\nd3 = db.nodes.create(name=&quot;Manufacturing&quot;, city=&quot;Kaunas&quot;)\r\nd4 = db.nodes.create(name=&quot;Management&quot;, city=&quot;New York&quot;)\r\ndepartments.add(d1, d2, d3, d4)\r\n\r\n#adding relationships\r\n\r\nu1.relationships.create(&quot;works&quot;, d4, since=2016)\r\nu2.relationships.create(&quot;works&quot;, d3, since=2018)\r\n```\r\n\r\nHow can I filter my data (for example get all workers, who work in New York?)? Maybe somehow using queries language? Please, help me.",
      "link": "https://stackoverflow.com/questions/59092895/is-there-a-way-to-write-queries-in-neo4j-while-using-neo4jrestclient-and-python",
      "title": "Is there a way to write queries in neo4j while using neo4jrestclient and python?"
    },
    {
      "tags": [
        "neo4j",
        "count",
        "page-caching"
      ],
      "owner": {
        "reputation": 73,
        "user_id": 4931230,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2bc4cadd380819a8406bbf49de8d1c44?s=128&d=identicon&r=PG&f=1",
        "display_name": "Shashwat Vinod Singhal",
        "link": "https://stackoverflow.com/users/4931230/shashwat-vinod-singhal"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 8,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574952453,
      "creation_date": 1574952453,
      "question_id": 59091405,
      "share_link": "https://stackoverflow.com/q/59091405",
      "body_markdown": "I have a database with 4.6G of data, and 3.3G of indexes, the page cache is 10G, and is currently using 7.9G.\r\n\r\nMy queries are showing millions of db hits, even after all the db is loaded in memory?\r\n\r\nDo aggregations not make use of page cache?\r\n\r\nSample profile:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q7pZ2.png",
      "link": "https://stackoverflow.com/questions/59091405/neo4j-count-aggregation-is-not-using-pagecache",
      "title": "neo4j count aggregation is not using pagecache"
    },
    {
      "tags": [
        "neo4j"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 5500,
            "user_id": 2266,
            "user_type": "registered",
            "accept_rate": 90,
            "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
            "display_name": "Chris Skardon",
            "link": "https://stackoverflow.com/users/2266/chris-skardon"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575018275,
          "post_id": 59086844,
          "comment_id": 104435671,
          "link": "https://stackoverflow.com/questions/59086844/neo-clienterror-procedure-procedurenotfound#comment104435671_59086844"
        }
      ],
      "owner": {
        "reputation": 11,
        "user_id": 12077619,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB8hBZeRRjRqOtVpgukhX5RGDE2Yoqwpr_HlGVClg=k-s128",
        "display_name": "BhuVnesh kuMar",
        "link": "https://stackoverflow.com/users/12077619/bhuvnesh-kumar"
      },
      "last_editor": {
        "reputation": 5500,
        "user_id": 2266,
        "user_type": "registered",
        "accept_rate": 90,
        "profile_image": "https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
        "display_name": "Chris Skardon",
        "link": "https://stackoverflow.com/users/2266/chris-skardon"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 13,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1575018064,
      "creation_date": 1574937411,
      "last_edit_date": 1575018064,
      "question_id": 59086844,
      "share_link": "https://stackoverflow.com/q/59086844",
      "body_markdown": "While executing algorithm I am getting this error -\r\n\r\n    There is no procedure with the name algo.shortestPath registered for this database instance. Please ensure you&#39;ve spelled the procedure name correctly and that the procedure is properly deployed.\r\n\r\nI checked for solutions for this problem almost all are suggesting to update conf file to make procedures unrestriceted. I have added these configuration -\r\n\r\n    dbms.security.procedures.unrestricted=apoc.*, algo.*\r\n    dbms.security.procedures.whitelist=apoc.*, algo.*\r\n\r\nI have also copied all jar files from lib to plugin folder where neo4j-graph-algo-3.4.17.jar is available.\r\nBut still after restarting, I am getting same error.",
      "link": "https://stackoverflow.com/questions/59086844/neo-clienterror-procedure-procedurenotfound",
      "title": "Neo.ClientError.Procedure.ProcedureNotFound"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "owner": {
        "reputation": 1289,
        "user_id": 1189332,
        "user_type": "registered",
        "accept_rate": 24,
        "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
        "display_name": "user1189332",
        "link": "https://stackoverflow.com/users/1189332/user1189332"
      },
      "last_editor": {
        "reputation": 1289,
        "user_id": 1189332,
        "user_type": "registered",
        "accept_rate": 24,
        "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
        "display_name": "user1189332",
        "link": "https://stackoverflow.com/users/1189332/user1189332"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574925651,
      "creation_date": 1574922182,
      "last_edit_date": 1574925651,
      "question_id": 59082848,
      "share_link": "https://stackoverflow.com/q/59082848",
      "body_markdown": "Problem: \r\nFind identities that have travelled together in the same flight more than 2 times.\r\n\r\nData model:\r\nIdentity: Eg &quot;John Smith&quot;\r\nEvent: The generic entity representing the flight journey as an event.\r\nFlight: The Flight\r\n\r\n\r\nAttempt 1:\r\n\r\n     MATCH (i1:Identity)-[ie1:IS_LINKED_TO]-&gt;(e1:Event)\r\n    -[ee1:HAS_FLIGHT]-&gt;(f:Flight)&lt;-[ee2:HAS_FLIGHT]\r\n    -(e2:Event)&lt;-[ie2:IS_LINKED_TO]-(i2:Identity) \r\n    WHERE i1.identityId &gt;= i2.identityId WITH i1,i2,e1,e2,ie1,ie2,ee1,ee2,f \r\n    RETURN i1,i2,e1,e2,ie1,ie2,ee1,ee2,f,count(f)\r\n\r\n\r\nWhat I see is the count per path which is of course 1. Instead I want to get the global count (eg: if there are 3 flights ,1 per path), I want to get 3 along with the path.\r\n\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59082848/neo4j-aggregation-query",
      "title": "Neo4J Aggregation Query"
    },
    {
      "tags": [
        "neo4j",
        "cypher",
        "spring-data-neo4j",
        "neo4j-ogm"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 2061,
            "user_id": 1818939,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/e3437f37c5027fb406c652ea2c25d0ce?s=128&d=identicon&r=PG",
            "display_name": "Vince",
            "link": "https://stackoverflow.com/users/1818939/vince"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574938024,
          "creation_date": 1574938024,
          "answer_id": 59087049,
          "question_id": 59081808,
          "share_link": "https://stackoverflow.com/a/59087049",
          "body_markdown": "There is no need to return a map if you just want to construct your domain objects from a query. \r\n\r\n    session.query(&quot;MATCH p=(:Event)-[:HAS_FLIGHT]-&gt;(:Flight) return nodes(p), rels(p)&quot;)\r\n    \r\nThis will return an Iterable&lt;Event&gt; of all events having one or more flights. ",
          "link": "https://stackoverflow.com/questions/59081808/neo4j-ogm-adhoc-cypher-queries/59087049#59087049",
          "title": "Neo4j OGM | Adhoc Cypher Queries"
        }
      ],
      "owner": {
        "reputation": 1289,
        "user_id": 1189332,
        "user_type": "registered",
        "accept_rate": 24,
        "profile_image": "https://www.gravatar.com/avatar/4702dd51b026f5f89a75dbcada4ae148?s=128&d=identicon&r=PG",
        "display_name": "user1189332",
        "link": "https://stackoverflow.com/users/1189332/user1189332"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 18,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574938024,
      "creation_date": 1574915648,
      "question_id": 59081808,
      "share_link": "https://stackoverflow.com/q/59081808",
      "body_markdown": "I&#39;m trying to run adhoc cyphers (where the results don&#39;t necessarily always map to the domain entity object).\r\nI&#39;m using the \r\n\r\n    session.query(cypher)\r\n\r\n API for that. \r\n\r\nNot sure what should be the output type? \r\n\r\nAn example is:\r\n\r\nI&#39;ve got Event, Flight modelled as first class entities and they are related via &quot;HAS_FLIGHT&quot;\r\n\r\nI run this Cypher Query:\r\n\r\n    session.query(&quot;MATCH (p:Event)-[hf:HAS_FLIGHT]-&gt;(f:Flight) \r\n    RETURN p,hf,f,count(p) AS totalEvents&quot;)\r\n\r\nInterestingly I only get returned an arraylist of the value counts (ie the totalEvents).\r\n\r\nHow can I get all the values mentioned in the RETURN clause in a map or something and I can build the domain objects after the retrieval.\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59081808/neo4j-ogm-adhoc-cypher-queries",
      "title": "Neo4j OGM | Adhoc Cypher Queries"
    },
    {
      "tags": [
        "neo4j",
        "graphql",
        "neo4j-graphql-js"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 468,
            "user_id": 3727550,
            "user_type": "registered",
            "accept_rate": 75,
            "profile_image": "https://www.gravatar.com/avatar/b41b3298ac50ef85c292e340d7ee964b?s=128&d=identicon&r=PG&f=1",
            "display_name": "sjc",
            "link": "https://stackoverflow.com/users/3727550/sjc"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575322931,
          "creation_date": 1575322931,
          "answer_id": 59147078,
          "question_id": 59078876,
          "share_link": "https://stackoverflow.com/a/59147078",
          "body_markdown": "Your query only returns the two EMP nodes, and doesn&#39;t return the relationship. Try the query \r\n\r\n`&quot;MATCH (a:EMP)&lt;-[r:REPORTS_TO]-(b:EMP) RETURN a, r, b&quot;`",
          "link": "https://stackoverflow.com/questions/59078876/neo4j-with-graphql-unable-to-fetch-self-reference-type/59147078#59147078",
          "title": "Neo4j with graphql: unable to fetch self reference type"
        }
      ],
      "owner": {
        "reputation": 17,
        "user_id": 7886540,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/31f7927982f5549114ead4c0268d3fd8?s=128&d=identicon&r=PG&f=1",
        "display_name": "venkat Venkata",
        "link": "https://stackoverflow.com/users/7886540/venkat-venkata"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 1,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": -1,
      "last_activity_date": 1575322931,
      "creation_date": 1574891128,
      "question_id": 59078876,
      "share_link": "https://stackoverflow.com/q/59078876",
      "body_markdown": "I have simple neo4j &amp; graphql example. Here is my typeDefs:\r\n\r\n```\r\nconst typeDefs = `\r\n        type Employee {\r\n            eid: ID!\r\n            name: String!\r\n            title: String!\r\n            email: String\r\n            reportees: [Employee] @relation(name: &quot;REPORTS_TO&quot;, direction: &quot;BOTH&quot;)\r\n        }\r\n\r\n        type Query {\r\n            getAllEmployees: [Employee] @cypher(statement: &quot;MATCH (a:EMP)&lt;-[:REPORTS_TO]-(b:EMP) RETURN a, b&quot;)\r\n            getEmployee(name: String): [Employee] @cypher(statement: &quot;MATCH (e:EMP) WHERE e.name contains $name RETURN e&quot;)\r\n        }\r\n`;\r\n```\r\n\r\nI&#39;m able to fetch all data except **reportees**, which is always empty. What am I missing here? Here is sample cypher create scripts I used for this example.\r\n\r\n```\r\nCREATE (gma:EMP {eid:&quot;1&quot;, name: “George Hill”, title:”President&quot;, email:”g.hill@test.com&quot;})\r\nCREATE (aba:EMP {eid:&quot;2&quot;, name: “Anna Syntel”, title:”Manager”, email:”Anna.s@test.com&quot;})\r\nCREATE (noa:EMP {eid:&quot;3&quot;, name: “Nagz Hello”, title:”Developer”, email:”n.hello@test.com&quot;})\r\nCREATE\r\n        (aba)-[aa:REPORTS_TO]-&gt;(gma),\r\n        (noa)-[bb:REPORTS_TO]-&gt;(aba)\r\n```",
      "link": "https://stackoverflow.com/questions/59078876/neo4j-with-graphql-unable-to-fetch-self-reference-type",
      "title": "Neo4j with graphql: unable to fetch self reference type"
    },
    {
      "tags": [
        "neo4j",
        "py2neo"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 15,
                "user_id": 12246875,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/3d8da8869816f6649a83b36815e5061b?s=128&d=identicon&r=PG&f=1",
                "display_name": "ceharep",
                "link": "https://stackoverflow.com/users/12246875/ceharep"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574922565,
              "post_id": 59078847,
              "comment_id": 104402116,
              "link": "https://stackoverflow.com/questions/59078599/matching-all-nodes-related-to-a-set-of-other-nodes-neo4j/59078847#comment104402116_59078847"
            },
            {
              "owner": {
                "reputation": 16103,
                "user_id": 2662355,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
                "display_name": "Christophe Willemsen",
                "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
              },
              "reply_to_user": {
                "reputation": 15,
                "user_id": 12246875,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/3d8da8869816f6649a83b36815e5061b?s=128&d=identicon&r=PG&f=1",
                "display_name": "ceharep",
                "link": "https://stackoverflow.com/users/12246875/ceharep"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574926840,
              "post_id": 59078847,
              "comment_id": 104403674,
              "link": "https://stackoverflow.com/questions/59078599/matching-all-nodes-related-to-a-set-of-other-nodes-neo4j/59078847#comment104403674_59078847"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "last_editor": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 5,
          "is_accepted": true,
          "score": 5,
          "last_activity_date": 1574926830,
          "last_edit_date": 1574926830,
          "creation_date": 1574890924,
          "answer_id": 59078847,
          "question_id": 59078599,
          "share_link": "https://stackoverflow.com/a/59078847",
          "body_markdown": "Yes it&#39;s possible. \r\n\r\nSome data fixtures :\r\n\r\n```\r\nCREATE (q1:Question {name: &quot;Q1&quot;})\r\nCREATE (q2:Question {name: &quot;Q2&quot;})\r\nCREATE (s1:Slot {name: &quot;Slot A&quot;})\r\nCREATE (s2:Slot {name: &quot;Slot B&quot;})\r\nCREATE (s3:Slot {name: &quot;Slot C&quot;})\r\nCREATE (q1)-[:REQUIRES]-&gt;(s1)\r\nCREATE (q1)-[:REQUIRES]-&gt;(s2)\r\nCREATE (q2)-[:REQUIRES]-&gt;(s1)\r\nCREATE (q2)-[:REQUIRES]-&gt;(s3)\r\n```\r\n\r\nFind questions related to a slots list : \r\n\r\n```\r\nMATCH p=(q:Question)-[:REQUIRES]-&gt;(slot)\r\nWHERE slot.name IN [&quot;Slot A&quot;, &quot;Slot B&quot;]\r\nRETURN p\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nThen, find questions related to a slot list, and return a boolean if the slot list contains all required slots for a question : \r\n\r\n```\r\nMATCH p=(q:Question)-[:REQUIRES]-&gt;(slot)\r\nWHERE slot.name IN [&quot;Slot A&quot;, &quot;Slot B&quot;]\r\nWITH q, collect(slot) AS slots\r\nRETURN q, ALL(x IN [(q)-[:REQUIRES]-&gt;(s) | s] WHERE x IN slots)\r\n\r\n╒═════════════╤═══════════════════════════════════════════════════════╕\r\n│&quot;q&quot;          │&quot;ALL(x IN [(q)-[:REQUIRES]-&gt;(s) | s] WHERE x IN slots)&quot;│\r\n╞═════════════╪═══════════════════════════════════════════════════════╡\r\n│{&quot;name&quot;:&quot;Q1&quot;}│true                                                   │\r\n├─────────────┼───────────────────────────────────────────────────────┤\r\n│{&quot;name&quot;:&quot;Q2&quot;}│false                                                  │\r\n└─────────────┴───────────────────────────────────────────────────────┘\r\n```\r\n\r\n A bit of explanation on that part `ALL(x IN [(q)-[:REQUIRES]-&gt;(s) | s] WHERE x IN slots)`\r\n\r\nthe [ALL][2] predicate, will check that the condition for every value in a list is true, for example `ALL (x IN [10,20,30] WHERE x &gt; 5)`\r\n\r\nthe [extract][3] shortcut syntax, you pass a list, it returns a list of the extracted values, the syntax is `extract(x IN &lt;LIST&gt; | &lt;key to extract&gt;)` for example : \r\n\r\n```\r\nextract(x IN [{name: &quot;Chris&quot;, age: 38},{name: &quot;John&quot;, age: 27}] | x.age)\r\n\r\n// equivalent to the shortcut syntax for extract, with square brackets\r\n\r\n[x IN [{name: &quot;Chris&quot;, age: 38},{name: &quot;John&quot;, age: 27}] | x.age]\r\n```\r\n\r\nWill return `[38,27]`\r\n\r\nCombining it now : \r\n\r\nFor every path, extract the Slot node\r\n\r\n```\r\n[(q)-[:REQUIRES]-&gt;(s) | s]\r\n\r\nReturns \r\n\r\n[s1, s2]\r\n```\r\n\r\nAre every of s1 and s2, in the list of the slot nodes previously collected ? \r\n\r\n```\r\nALL(x IN [(q)-[:REQUIRES]-&gt;(s) | s] WHERE x IN slots)\r\n\r\nReturn true or false\r\n```\r\n\r\n---\r\n\r\nReturn only the questions when true :\r\n\r\n```\r\nMATCH p=(q:Question)-[:REQUIRES]-&gt;(slot)\r\nWHERE slot.name IN [&quot;Slot A&quot;, &quot;Slot B&quot;]\r\nWITH q, collect(slot) AS slots\r\nWITH q WHERE ALL(x IN [(q)-[:REQUIRES]-&gt;(s) | s] WHERE x IN slots)\r\nRETURN q\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jdEJ4.png\r\n  [2]: https://neo4j.com/docs/cypher-manual/current/functions/predicate/index.html#functions-all\r\n  [3]: https://neo4j.com/docs/cypher-manual/current/functions/list/#functions-extract",
          "link": "https://stackoverflow.com/questions/59078599/matching-all-nodes-related-to-a-set-of-other-nodes-neo4j/59078847#59078847",
          "title": "Matching all nodes related to a set of other nodes - neo4j"
        }
      ],
      "owner": {
        "reputation": 15,
        "user_id": 12246875,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3d8da8869816f6649a83b36815e5061b?s=128&d=identicon&r=PG&f=1",
        "display_name": "ceharep",
        "link": "https://stackoverflow.com/users/12246875/ceharep"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 95,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59078847,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574926830,
      "creation_date": 1574889623,
      "question_id": 59078599,
      "share_link": "https://stackoverflow.com/q/59078599",
      "body_markdown": "I&#39;m just getting started with neo4j and would like some help trying to solve a problem.\r\n\r\nI have a set of `Questions` that require information (`Slots`) to answer them.\r\n\r\nThe rules of the graph (i.e. the `Slots` `required` for each `Question`) are shown below:\r\n\r\n[Graph diagram here][1]\r\n\r\n\r\nIn a scenario in which  I have a set of slots e.g. [`Slot A`, `Slot B`] I want to be able to check all `Questions` that the `Slots` are related to e.g. [`Question 1` , `Question 2`].\r\n\r\nI then want to be able to check for which of the `Questions` all `required` `Slots` are available, e.g. [`Question 1`]\r\n\r\nIs this possible, and if so how should I go about it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xk75f.png",
      "link": "https://stackoverflow.com/questions/59078599/matching-all-nodes-related-to-a-set-of-other-nodes-neo4j",
      "title": "Matching all nodes related to a set of other nodes - neo4j"
    },
    {
      "tags": [
        "neo4j",
        "merge",
        "nodes",
        "graph-databases"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 933,
                "user_id": 12179584,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/LEA69.png?s=128&g=1",
                "display_name": "Anna",
                "link": "https://stackoverflow.com/users/12179584/anna"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575003313,
              "post_id": 59098521,
              "comment_id": 104430796,
              "link": "https://stackoverflow.com/questions/59075974/neo4j-merge-nodes-by-relationship/59098521#comment104430796_59098521"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 1,
            "user_id": 12451790,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/517b2a50658904ba844bbbd68d45a32e?s=128&d=identicon&r=PG",
            "display_name": "toz",
            "link": "https://stackoverflow.com/users/12451790/toz"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574999012,
          "creation_date": 1574999012,
          "answer_id": 59098521,
          "question_id": 59075974,
          "share_link": "https://stackoverflow.com/a/59098521",
          "body_markdown": "How about using constraints unique?\r\n\r\nI also faced same problems with MERGE.\r\n\r\nexample)\r\n\r\nCREATE CONSTRAINT ON ( book:Book) ASSERT book.isbn IS UNIQUE",
          "link": "https://stackoverflow.com/questions/59075974/neo4j-merge-nodes-by-relationship/59098521#59098521",
          "title": "Neo4j merge nodes by relationship"
        }
      ],
      "owner": {
        "reputation": 21,
        "user_id": 12447490,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2c9713f11687db337a6a2ac4893896c2?s=128&d=identicon&r=PG&f=1",
        "display_name": "Lillel",
        "link": "https://stackoverflow.com/users/12447490/lillel"
      },
      "last_editor": {
        "reputation": 21,
        "user_id": 12447490,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2c9713f11687db337a6a2ac4893896c2?s=128&d=identicon&r=PG&f=1",
        "display_name": "Lillel",
        "link": "https://stackoverflow.com/users/12447490/lillel"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 30,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 2,
      "answer_count": 1,
      "score": 2,
      "last_activity_date": 1575103907,
      "creation_date": 1574877410,
      "last_edit_date": 1575103907,
      "question_id": 59075974,
      "share_link": "https://stackoverflow.com/q/59075974",
      "body_markdown": "I have big dataset of persons data and found a lot of duplicates by an algorithm.\r\nI marked these duplicates in Neo4j with a relationship.\r\nExample:\r\n(p:Person)-[:similar]-&gt;(d:Person)\r\n\r\nFor testing purpose I created virtual nodes by combining all nodes marked with the similar-relationship. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CALL algo.unionFind.stream(&#39;Person&#39;, &#39;similar&#39;, {})\r\n    YIELD nodeId, setId\r\n    WITH setId AS idd, collect(algo.getNodeById(nodeId)) AS nodis\r\n    WHERE size(nodis) &gt; 1\r\n    CALL apoc.nodes.collapse(nodis,{properties:&#39;combine&#39;}) YIELD from, rel\r\n    RETURN idd, from, rel\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere I found the problem, that only two nodes were compared and stored in the result data.\r\nExample:\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\nID: 5, Peter Smith\r\nID: 4635, Peter Smit\r\n\r\nID: 4635, Peter Smit\r\nID: 765, Peter Smith\r\n\r\nID: 5, Peter Smith\r\nID: 765, Peter Smith\r\n&lt;!-- end snippet --&gt;\r\n\r\nI want to refactor the graph and merge the duplicates (a forrest) into one node. But only one node is merged. How can I merge all forrests, that exist due to the relationship &#39;similar&#39;?\r\n\r\n##UPDATE:\r\nI found a semi solution. All similar persons were merged by the following code. All properties were combined as a list. Seems fine to me, except, that the Ids are in a list now, too - but this isn&#39;t the topic of the question.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CALL algo.unionFind.stream(&#39;Person&#39;, &#39;similar&#39;, {})\r\n    YIELD nodeId,setId\r\n    WITH setId AS idd, collect(algo.getNodeById(nodeId)) AS nodis\r\n    CALL apoc.refactor.mergeNodes(nodis, {properties:&#39;combine&#39;, mergeRels: true}) YIELD node\r\n    RETURN node\r\n\r\n&lt;!-- end snippet --&gt;\r\n",
      "link": "https://stackoverflow.com/questions/59075974/neo4j-merge-nodes-by-relationship",
      "title": "Neo4j merge nodes by relationship"
    },
    {
      "tags": [
        "neo4j",
        "docker-compose"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575456338,
          "creation_date": 1575456338,
          "answer_id": 59174153,
          "question_id": 59075211,
          "share_link": "https://stackoverflow.com/a/59174153",
          "body_markdown": "You may find the following [article][1] helpful - it describes how to do exactly what you&#39;re trying to do\r\n\r\n\r\n  [1]: https://medium.com/neo4j/flights-search-application-with-neo4j-dockerizing-part-1-bcb861dc0c83",
          "link": "https://stackoverflow.com/questions/59075211/problems-loading-dump-file-into-neo4j-docker-compose/59174153#59174153",
          "title": "Problems loading dump file into Neo4J Docker Compose"
        }
      ],
      "owner": {
        "reputation": 75,
        "user_id": 8963648,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/bc301fbdd3aa6443d15d5c2640269f58?s=128&d=identicon&r=PG&f=1",
        "display_name": "Devildude4427",
        "link": "https://stackoverflow.com/users/8963648/devildude4427"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575456338,
      "creation_date": 1574874342,
      "question_id": 59075211,
      "share_link": "https://stackoverflow.com/q/59075211",
      "body_markdown": "I&#39;m trying to make a docker-compose file that starts a Neo4J database and loads a dump file in for immediate use. I dislike installing database systems locally when they are usually just as easy to toss in a docker file, and then are easier to handle and wipe out when needed. However, I just can&#39;t seem to get this working. When running instructions I&#39;ve found online, the docker container just fails to start, without any sort of error message.\r\n\r\nDocker-Compose.yml\r\n```\r\nversion: &#39;3.7&#39;\r\n\r\nservices:\r\n  neo4j:\r\n    container_name: &#39;neo4j&#39;\r\n    image: neo4j:latest\r\n    environment:\r\n      - NEO4J_AUTH=neo4j/password\r\n      - EXTENSION_SCRIPT=/neo4j-data/neo4j-init.sh\r\n    ports:\r\n      - &quot;7474:7474&quot;\r\n      - &quot;7687:7687&quot;\r\n    volumes: \r\n      - ./neo4j-data:/data\r\n\r\n```\r\n\r\nneo4j-init.sh:\r\n```\r\n#!/bin/bash\r\nset -euo pipefail\r\nIFS=$&#39;\\n\\t&#39;\r\n\r\n# do not run init script at each container strat but only at the first start\r\nif [ ! -f /tmp/neo4j-import-done.flag ]; then\r\n    /var/lib/neo4j/bin/neo4j-admin neo4j-admin load --from=/data/data.dump --database=graph.db --force\r\n    touch /tmp/neo4j-import-done.flag\r\nelse\r\n    echo &quot;The import has already been made.&quot;\r\nfi\r\n```\r\n\r\nThis was built entirely from [here](https://stackoverflow.com/questions/45166636/create-neo4j-databse-from-backup-inside-neo4j-docker), and I&#39;ve followed those instructions exactly, as far as I can tell.",
      "link": "https://stackoverflow.com/questions/59075211/problems-loading-dump-file-into-neo4j-docker-compose",
      "title": "Problems loading dump file into Neo4J Docker Compose"
    },
    {
      "tags": [
        "neo4j",
        "apache-kafka",
        "neo4j-apoc"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 241,
            "user_id": 3239668,
            "user_type": "registered",
            "accept_rate": 58,
            "profile_image": "https://www.gravatar.com/avatar/be5df142192ec651d9523952fb1bc23d?s=128&d=identicon&r=PG&f=1",
            "display_name": "Tianbing Leng",
            "link": "https://stackoverflow.com/users/3239668/tianbing-leng"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1575390010,
          "creation_date": 1575390010,
          "answer_id": 59161292,
          "question_id": 59074451,
          "share_link": "https://stackoverflow.com/a/59161292",
          "body_markdown": "Ok, it is a bug...\r\n\r\nhttps://community.neo4j.com/t/neo4j-apoc-periodic-repeat-doesnt-work-with-streams-publish/12313/9\r\n\r\nAnd the neo4j will have a fix in the next release.",
          "link": "https://stackoverflow.com/questions/59074451/neo4j-apoc-periodic-repeat-doesnt-work-with-streams-publish/59161292#59161292",
          "title": "Neo4j apoc.periodic.repeat doesn&#39;t work with streams.publish"
        }
      ],
      "owner": {
        "reputation": 241,
        "user_id": 3239668,
        "user_type": "registered",
        "accept_rate": 58,
        "profile_image": "https://www.gravatar.com/avatar/be5df142192ec651d9523952fb1bc23d?s=128&d=identicon&r=PG&f=1",
        "display_name": "Tianbing Leng",
        "link": "https://stackoverflow.com/users/3239668/tianbing-leng"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 13,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 59161292,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575390010,
      "creation_date": 1574871643,
      "question_id": 59074451,
      "share_link": "https://stackoverflow.com/q/59074451",
      "body_markdown": "Does anyone ever used Neo4j apoc.periodic.repeat function to publish message to kafka?\r\nHere is what I have now:\r\n\r\nI have a working query to send message to my kafka topic:\r\n\r\n    CALL streams.publish(&quot;my-neo4j-topic&quot;, &quot;Hello World from Neo4j!&quot;)\r\n\r\nHowever, when I used apoc repeat function:\r\n\r\n    CALL apoc.periodic.repeat(&#39;kafka-only&#39;,\r\n        &#39;CALL streams.publish(&quot;my-neo4j-topic&quot;, &quot;Hello World from Neo4j!&quot;)&#39;, \r\n    5)\r\n\r\nNothing happens..\r\n\r\nI have checked the log/debug log and can&#39;t get any hint. Can anyone help me?\r\n\r\nThis is my configuration:\r\n\r\n    # Add this for Streams Config\r\n    kafka.zookeeper.connect=localhost:2181\r\n    kafka.bootstrap.servers=localhost:9092\r\n    streams.procedures.enabled=true\r\n    streams.source.enabled=true\r\n    streams.source.schema.polling.interval=10000",
      "link": "https://stackoverflow.com/questions/59074451/neo4j-apoc-periodic-repeat-doesnt-work-with-streams-publish",
      "title": "Neo4j apoc.periodic.repeat doesn&#39;t work with streams.publish"
    },
    {
      "tags": [
        "neo4j",
        "graph-databases",
        "arangodb",
        "amazon-neptune"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 123,
            "user_id": 2689973,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/KOtay.jpg?s=128&g=1",
            "display_name": "djhallx",
            "link": "https://stackoverflow.com/users/2689973/djhallx"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1574865725,
          "post_id": 59071408,
          "comment_id": 104383135,
          "link": "https://stackoverflow.com/questions/59071408/can-graph-database-query-nodes-that-a-given-node-has-no-relationship-with#comment104383135_59071408"
        },
        {
          "owner": {
            "reputation": 357,
            "user_id": 2742983,
            "user_type": "registered",
            "accept_rate": 50,
            "profile_image": "https://www.gravatar.com/avatar/d9bb47ebd5178ab059a74d3f4f77b096?s=128&d=identicon&r=PG&f=1",
            "display_name": "czphilip",
            "link": "https://stackoverflow.com/users/2742983/czphilip"
          },
          "reply_to_user": {
            "reputation": 123,
            "user_id": 2689973,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/KOtay.jpg?s=128&g=1",
            "display_name": "djhallx",
            "link": "https://stackoverflow.com/users/2689973/djhallx"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574867847,
          "post_id": 59071408,
          "comment_id": 104384376,
          "link": "https://stackoverflow.com/questions/59071408/can-graph-database-query-nodes-that-a-given-node-has-no-relationship-with#comment104384376_59071408"
        },
        {
          "owner": {
            "reputation": 123,
            "user_id": 2689973,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/KOtay.jpg?s=128&g=1",
            "display_name": "djhallx",
            "link": "https://stackoverflow.com/users/2689973/djhallx"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574869943,
          "post_id": 59071408,
          "comment_id": 104385494,
          "link": "https://stackoverflow.com/questions/59071408/can-graph-database-query-nodes-that-a-given-node-has-no-relationship-with#comment104385494_59071408"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1574890466,
          "creation_date": 1574890466,
          "answer_id": 59078745,
          "question_id": 59071408,
          "share_link": "https://stackoverflow.com/a/59078745",
          "body_markdown": "This is definitely possible, here is a query example : \r\n\r\n```\r\nMATCH (me:Profile {name: &quot;Chris&quot;})\r\nMATCH (other:Profile) WHERE NOT (other)-[:LIKES]-&gt;(me)\r\n```\r\n\r\nAs stated in the comments of your original question, on a large dataset it _might_ not scale well, that said it is pretty uncommon that you would use only one criteria for matching, for example, the list of possible profiles to match from can be grouped by : \r\n\r\n* geolocation\r\n* profiles in depth 2 ( who is liking me, then find who other people they like, do those people like me ? )\r\n* shared interests\r\n* age group\r\n* skin color\r\n* ... ",
          "link": "https://stackoverflow.com/questions/59071408/can-graph-database-query-nodes-that-a-given-node-has-no-relationship-with/59078745#59078745",
          "title": "Can graph database query &quot;nodes that a given node has no relationship with&quot;?"
        }
      ],
      "owner": {
        "reputation": 357,
        "user_id": 2742983,
        "user_type": "registered",
        "accept_rate": 50,
        "profile_image": "https://www.gravatar.com/avatar/d9bb47ebd5178ab059a74d3f4f77b096?s=128&d=identicon&r=PG&f=1",
        "display_name": "czphilip",
        "link": "https://stackoverflow.com/users/2742983/czphilip"
      },
      "last_editor": {
        "reputation": 357,
        "user_id": 2742983,
        "user_type": "registered",
        "accept_rate": 50,
        "profile_image": "https://www.gravatar.com/avatar/d9bb47ebd5178ab059a74d3f4f77b096?s=128&d=identicon&r=PG&f=1",
        "display_name": "czphilip",
        "link": "https://stackoverflow.com/users/2742983/czphilip"
      },
      "comment_count": 3,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 44,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59078745,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574890466,
      "creation_date": 1574861545,
      "last_edit_date": 1574869534,
      "question_id": 59071408,
      "share_link": "https://stackoverflow.com/q/59071408",
      "body_markdown": "I am working on a dating app where users can &quot;like&quot; or &quot;dislike&quot; other users and get matched.\r\nAs you can imagine the most important query of the app would be:\r\n`Give me a stack of nearby user profiles that I have NOT liked/disliked before`.\r\n\r\nI tried to work on this with a document database (Firestore) and figured it&#39;s simply not suitable for such kind of application and hence landed in the graph database world which is new and fascinating to me.\r\n\r\nI understand that by nature a graph database retrieves data by tracing through the relationships and make relationships first-class citizens. My question now is that what if the nodes that I am trying to get are those with **no relationship from the given node**? What would the query look like? Can anyone provide an example query?\r\n\r\n**Edit:**\r\n- added `nearby` criteria to the query statement",
      "link": "https://stackoverflow.com/questions/59071408/can-graph-database-query-nodes-that-a-given-node-has-no-relationship-with",
      "title": "Can graph database query &quot;nodes that a given node has no relationship with&quot;?"
    },
    {
      "tags": [
        "neo4j"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574861322,
          "post_id": 59068787,
          "comment_id": 104380483,
          "link": "https://stackoverflow.com/questions/59068787/neo4j-if-else-in-the-absence-of-apoc-covering-the-return-statement-fails-synta#comment104380483_59068787"
        }
      ],
      "owner": {
        "reputation": 1273,
        "user_id": 3782911,
        "user_type": "registered",
        "accept_rate": 58,
        "profile_image": "https://www.gravatar.com/avatar/0e028bac777b7a1b9fdcfd294062497c?s=128&d=identicon&r=PG&f=1",
        "display_name": "David Boshton",
        "link": "https://stackoverflow.com/users/3782911/david-boshton"
      },
      "last_editor": {
        "reputation": 1273,
        "user_id": 3782911,
        "user_type": "registered",
        "accept_rate": 58,
        "profile_image": "https://www.gravatar.com/avatar/0e028bac777b7a1b9fdcfd294062497c?s=128&d=identicon&r=PG&f=1",
        "display_name": "David Boshton",
        "link": "https://stackoverflow.com/users/3782911/david-boshton"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 11,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574854890,
      "creation_date": 1574852807,
      "last_edit_date": 1574854890,
      "question_id": 59068787,
      "share_link": "https://stackoverflow.com/q/59068787",
      "body_markdown": "I have the following query:\r\n\r\n    MATCH p=((u:TYPEX)-[:RELQ]-&gt;(j:TYPEA)-[:RELZ]-&gt;(d)&lt;-[:RELOTHERZ]-(r:TYPEY)) \r\n    WITH p, d,r \r\n    FOREACH ( ignoreMe in CASE WHEN count(p)%6==0 AND count(p)&gt;0 THEN [1] ELSE [] END | RETURN r\r\n\r\nHowever I get a syntax error, which is mostly obscured in the browser caused by the FOREACH statement. \r\n\r\nTHe point of the query is to count the number of connections made, from u to d, and if that divides 6 then we output r. The correct solution is to install the APOC&#39;s ( I think ) but I don&#39;t have access to the database and the admin&#39;s away so we just have to get on with it. \r\n\r\nSo, clear questions:\r\nCan I do this? \r\nWhat needs to change in the syntax to get this done?",
      "link": "https://stackoverflow.com/questions/59068787/neo4j-if-else-in-the-absence-of-apoc-covering-the-return-statement-fails-synta",
      "title": "Neo4j if-else (in the absence of APOC) covering the return statement fails syntax"
    },
    {
      "tags": [
        "neo4j"
      ],
      "owner": {
        "reputation": 1170,
        "user_id": 1080145,
        "user_type": "registered",
        "accept_rate": 35,
        "profile_image": "https://www.gravatar.com/avatar/66cb150e1ba359b39db0e607c02cf3ca?s=128&d=identicon&r=PG",
        "display_name": "Kalyan",
        "link": "https://stackoverflow.com/users/1080145/kalyan"
      },
      "last_editor": {
        "reputation": 1010,
        "user_id": 5061176,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-YmTSK2EsCNo/AAAAAAAAAAI/AAAAAAAAESE/pg2-gJJ3L9U/photo.jpg?sz=128",
        "display_name": "Mahesh Waghmare",
        "link": "https://stackoverflow.com/users/5061176/mahesh-waghmare"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 14,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574838409,
      "creation_date": 1574838130,
      "last_edit_date": 1574838409,
      "question_id": 59064725,
      "share_link": "https://stackoverflow.com/q/59064725",
      "body_markdown": " Hello  I am new in `neo4j`. In my project, I have a significant amount of data(8 million). I want to delete a specific relationship. what I did so far now is \r\n\r\n    Call apoc.periodic.iterate(&quot;Match ()-[r:relation]-&gt;() return r&quot;, &quot;delete r&quot;,{batchSize:100000});\r\n\r\nIt worked well . \r\nwhat I need to know is that &quot;Is there any possibility of that **deleted relations or Nodes**   written in hidden or temp file in `graphb` for recovery purpose&quot;? if so how could I delete  or remove it . ",
      "link": "https://stackoverflow.com/questions/59064725/complete-deletion-of-node-and-relationship-or-only-node-a-or-only-relationship-i",
      "title": "Complete deletion of node and relationship Or Only node a or Only relationship in neo4j"
    },
    {
      "tags": [
        "caching",
        "memory-management",
        "neo4j"
      ],
      "owner": {
        "reputation": 73,
        "user_id": 4931230,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2bc4cadd380819a8406bbf49de8d1c44?s=128&d=identicon&r=PG&f=1",
        "display_name": "Shashwat Vinod Singhal",
        "link": "https://stackoverflow.com/users/4931230/shashwat-vinod-singhal"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 33,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 0,
      "score": 1,
      "last_activity_date": 1574835277,
      "creation_date": 1574835277,
      "question_id": 59064110,
      "share_link": "https://stackoverflow.com/q/59064110",
      "body_markdown": "**tldr:** Big neo4j dataset, trying to load into page cache. Only a part of the db being loaded. Queries with count very slow. Sysinfo and memrec showing different db data volumes. **How to load the entire graph into memory, and reduce db hit counts?** \r\n\r\nI have a 25G 3.5.12 Enterprise Neo4j Database, running on a 52G server. Currently I have set the page cache to be 28G, and heap size to be 12G in the conf file. I want to load the entire dataset into cache for fast querying. \r\n\r\n**The problem:**\r\n\r\n**1.** Even after warming up with `apoc.warmup.run(true, true, true)`, my queries are still hitting the database millions of times. I have also tried the basic `MATCH (n)-[r]-(m) RETURN count(r), count(n.name)` etc., but the same problem persists.\r\n\r\nHere is the post apoc warmup result:\r\n\r\n[![Post Apoc Warmup Result][1]][1]\r\n\r\nThis is a sample profile query:\r\n\r\n[![Profile for a basic fetch query][2]][2]\r\n\r\n**2.**  Another very hard to understand thing is that memrec and sysinfo seem to be showing different results.\r\n\r\nMemrec says I have 7.7G data volume, and indexes, while sysinfo and du say I have 25G. \r\n\r\nsysinfo:\r\n\r\n[![Sysinfo][3]][3]\r\n\r\nmemrec:\r\n\r\n[![Memrec][4]][4]\r\n\r\n`du -ach`:\r\n[![enter image description here][5]][5]\r\n\r\n\r\n\r\nExactly as the numbers indicated by memrec, the system is only using approx. 8G + 12G(Heap) from neo4j : \r\n\r\n[![htop][6]][6]\r\n\r\n**May someone please help me understand what I am doing wrong here? How can I get all the graph nodes and relationships in the page cache?** \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GPiHL.png\r\n  [2]: https://i.stack.imgur.com/xSh7Q.png\r\n  [3]: https://i.stack.imgur.com/vBnGL.png\r\n  [4]: https://i.stack.imgur.com/3VfjP.png\r\n  [5]: https://i.stack.imgur.com/tXLOX.png\r\n  [6]: https://i.stack.imgur.com/za0bg.png",
      "link": "https://stackoverflow.com/questions/59064110/neo4j-entire-graph-not-being-loading-into-pagecache",
      "title": "Neo4j entire graph not being loading into pagecache"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 13,
                "user_id": 12441312,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/ec37b8372cc185c4884c74892f7aa824?s=128&d=identicon&r=PG&f=1",
                "display_name": "niroa",
                "link": "https://stackoverflow.com/users/12441312/niroa"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1575063226,
              "post_id": 59093919,
              "comment_id": 104453478,
              "link": "https://stackoverflow.com/questions/59060176/neo4j-cypher-query-find-all-children-excluding-specific-path/59093919#comment104453478_59093919"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 1748,
            "user_id": 677173,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name": "Pablissimo",
            "link": "https://stackoverflow.com/users/677173/pablissimo"
          },
          "last_editor": {
            "reputation": 1748,
            "user_id": 677173,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name": "Pablissimo",
            "link": "https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1574962670,
          "last_edit_date": 1574962670,
          "creation_date": 1574962252,
          "answer_id": 59093919,
          "question_id": 59060176,
          "share_link": "https://stackoverflow.com/a/59093919",
          "body_markdown": "Welcome to StackOverflow! Yes, you can do this by specifying the label the last node in the path must have - let&#39;s walk through it.\r\n\r\nFirst, let&#39;s create that sample graph - I&#39;ve invented some plausible relationship names:\r\n\r\n```\r\nMERGE (cus1: Customer { id: 1 })\r\nMERGE (acc1: Account { id: 1 })\r\nMERGE (acc2: Account { id: 2 })\r\nMERGE (con1: Contract { id: 1 })\r\nMERGE (con2: Contract { id: 2 })\r\nMERGE (bui1: Building { id: 1 })\r\nMERGE (bui2: Building { id: 2 })\r\nMERGE (sp1: ServicePoint { id: 1 })\r\nMERGE (sp2: ServicePoint { id: 2 })\r\nMERGE (b1: Bill { id: 1 })\r\nMERGE (b2: Bill { id: 2 })\r\nMERGE (b3: Bill { id: 3 })\r\nMERGE (b4: Bill { id: 4 })\r\nMERGE (cus1)-[:HOLDS]-&gt;(acc1)\r\nMERGE (cus1)-[:HOLDS]-&gt;(acc2)\r\nMERGE (acc1)-[:CONTAINS]-&gt;(con1)\r\nMERGE (acc2)-[:CONTAINS]-&gt;(con2)\r\nMERGE (bui1)-[:COVERED_BY]-&gt;(con1)\r\nMERGE (bui2)-[:COVERED_BY]-&gt;(con2)\r\nMERGE (sp1)-[:BELONGS_TO]-&gt;(con1)\r\nMERGE (sp2)-[:BELONGS_TO]-&gt;(con2)\r\nMERGE (b1)-[:RELATES_TO]-&gt;(sp1)\r\nMERGE (b2)-[:RELATES_TO]-&gt;(sp1)\r\nMERGE (b3)-[:RELATES_TO]-&gt;(sp2)\r\nMERGE (b4)-[:RELATES_TO]-&gt;(sp2)\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow let&#39;s say we&#39;re starting at a Bill - Bill 2:\r\n\r\n```\r\nMATCH path=(b: Bill { id: 2 })-[*]-(c: Customer)\r\nRETURN path\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWe&#39;ve asked for all paths of any length that start at Bill 2 and end with any Customer node. Neo won&#39;t return the branch containing Account 1 because it isn&#39;t part of any path between Bill 2 and Customer 1. However, we have also not returned Bill 1 for the same reason, even though it&#39;s connected to the account we end up at.\r\n\r\nIf you want the whole subgraph for the matching account, you can do it in two hops - work your way back up to the customer and the account, then work back down to all nodes connected to the account:\r\n\r\n```\r\nMATCH (b: Bill { id: 2 })-[*]-(a: Account)-[]-(c: Customer)\r\nMATCH path=(c)-[]-&gt;(a)-[*]-()\r\nRETURN path\r\n```\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YkvzA.png\r\n  [2]: https://i.stack.imgur.com/ekhAV.png\r\n  [3]: https://i.stack.imgur.com/ihjoY.png",
          "link": "https://stackoverflow.com/questions/59060176/neo4j-cypher-query-find-all-children-excluding-specific-path/59093919#59093919",
          "title": "neo4j cypher query find all children excluding specific path"
        }
      ],
      "owner": {
        "reputation": 13,
        "user_id": 12441312,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ec37b8372cc185c4884c74892f7aa824?s=128&d=identicon&r=PG&f=1",
        "display_name": "niroa",
        "link": "https://stackoverflow.com/users/12441312/niroa"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 29,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59093919,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574962670,
      "creation_date": 1574806590,
      "question_id": 59060176,
      "share_link": "https://stackoverflow.com/q/59060176",
      "body_markdown": "For a graph like this sample\r\n\r\n[Graph Sample][1]\r\n\r\nIf we know a starting point on one of the child nodes under a specific account, how can we traverse all related nodes regardless of direction up to the Customer node, but not traverse back down to another account, so basically always stop at the Customer (using Cypher in Neo4j)\r\n\r\nI currently have a query like this, but i dont know how to make it stop after getting to the customer node, but still keep traversing the links of any nodes below\r\n\r\n`MATCH (p:Customer{key:&#39;Customer:1011&#39;})-[*8]-(connected) RETURN distinct(connected.key)`\r\n\r\nBasically i want to have a generic query that can take any label/key that uniquely identifies a starting node below the Customer node, and traverse all children excluding paths that go to other accounts\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NaXF8.png",
      "link": "https://stackoverflow.com/questions/59060176/neo4j-cypher-query-find-all-children-excluding-specific-path",
      "title": "neo4j cypher query find all children excluding specific path"
    },
    {
      "tags": [
        "sql-server",
        "jdbc",
        "neo4j",
        "db2",
        "linked-server"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 5734,
            "user_id": 8290634,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/d23c338d78a579b717f1cb6e9f16fb1b?s=128&d=identicon&r=PG&f=1",
            "display_name": "mao",
            "link": "https://stackoverflow.com/users/8290634/mao"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574844948,
          "post_id": 59058268,
          "comment_id": 104371214,
          "link": "https://stackoverflow.com/questions/59058268/connecting-to-a-microsoft-sql-linked-server-db2-using-jdbc#comment104371214_59058268"
        },
        {
          "owner": {
            "reputation": 20238,
            "user_id": 4137916,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG",
            "display_name": "Jeroen Mostert",
            "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574862806,
          "post_id": 59058268,
          "comment_id": 104381338,
          "link": "https://stackoverflow.com/questions/59058268/connecting-to-a-microsoft-sql-linked-server-db2-using-jdbc#comment104381338_59058268"
        },
        {
          "owner": {
            "reputation": 144,
            "user_id": 7875515,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/8uwCi.jpg?s=128&g=1",
            "display_name": "Fillard Millmore",
            "link": "https://stackoverflow.com/users/7875515/fillard-millmore"
          },
          "reply_to_user": {
            "reputation": 5734,
            "user_id": 8290634,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/d23c338d78a579b717f1cb6e9f16fb1b?s=128&d=identicon&r=PG&f=1",
            "display_name": "mao",
            "link": "https://stackoverflow.com/users/8290634/mao"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574867321,
          "post_id": 59058268,
          "comment_id": 104384094,
          "link": "https://stackoverflow.com/questions/59058268/connecting-to-a-microsoft-sql-linked-server-db2-using-jdbc#comment104384094_59058268"
        },
        {
          "owner": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575457105,
          "post_id": 59058268,
          "comment_id": 104570700,
          "link": "https://stackoverflow.com/questions/59058268/connecting-to-a-microsoft-sql-linked-server-db2-using-jdbc#comment104570700_59058268"
        }
      ],
      "owner": {
        "reputation": 144,
        "user_id": 7875515,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/8uwCi.jpg?s=128&g=1",
        "display_name": "Fillard Millmore",
        "link": "https://stackoverflow.com/users/7875515/fillard-millmore"
      },
      "comment_count": 4,
      "delete_vote_count": 0,
      "close_vote_count": 1,
      "is_answered": false,
      "view_count": 43,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 0,
      "score": 1,
      "last_activity_date": 1574797133,
      "creation_date": 1574797133,
      "question_id": 59058268,
      "share_link": "https://stackoverflow.com/q/59058268",
      "body_markdown": "I have a Windows 10 machine with a local installation of Microsoft SQL Server (Express). Using Microsoft SQL Server Management Studio, I have created a linked server which is using an OLE DB connection to a Db2 database which is running on an IBM i machine. \r\n\r\nI am trying to use an ETL tool (specifically a Neo4j ETL tool) to connect to the linked server. This ETL tool is running on my Windows 10 machine - I can successfully get it to connect to the locally-hosted SQL Server databases but I have yet to find a way to get it to connect to the linked server through SQL Server. Is it possible to establish a connection to a Microsoft SQL Linked Server using a JDBC connection? It would seem to me that if it is possible, there would have to be some form of intercommunication between JDBC and OLE DB. \r\n\r\nAlso - because it is likely someone will ask - I am not simply connecting to the Db2 database directly from the ETL tool because the ETL tool doesn&#39;t seem to work properly with a Db2 database hosted on an IBM i. My thought was, perhaps I could cheat the system a bit by targeting the ETL against an SQL server but more specifically to a linked server that the SQL server is connected to. ",
      "link": "https://stackoverflow.com/questions/59058268/connecting-to-a-microsoft-sql-linked-server-db2-using-jdbc",
      "title": "Connecting to a Microsoft SQL Linked Server (DB2) using JDBC?"
    },
    {
      "tags": [
        "java",
        "spring-boot",
        "neo4j",
        "spring-data-neo4j"
      ],
      "owner": {
        "reputation": 1,
        "user_id": 8856815,
        "user_type": "registered",
        "profile_image": "https://lh6.googleusercontent.com/-ODIGneDVfrQ/AAAAAAAAAAI/AAAAAAAAAj0/70Y8RA9Bs2o/photo.jpg?sz=128",
        "display_name": "Matias Walker",
        "link": "https://stackoverflow.com/users/8856815/matias-walker"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574788637,
      "creation_date": 1574788637,
      "question_id": 59056200,
      "share_link": "https://stackoverflow.com/q/59056200",
      "body_markdown": "I&#39;m new in the neo4j world so bear with me.\r\nRight now I&#39;m having an issue understanding how spring-boot-starter-data-neo4j is handling my custom queries. Let me explain the situation:\r\n\r\nI&#39;m working on a rule engine prototype, so far I&#39;m only trying to connect and make simple queries to the database and return those on a REST service.\r\nI&#39;m working with rules, rules can be composite or simple. Composite rules can have other rules inside them to run (being simple or other composite rules). I have the following classes and made the neo4j repo accordingly\r\n\r\n    @Dataabstract public class BaseRuleDTO {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n    private String description;\r\n    }\r\n\r\n    @NodeEntity(label = &quot;CompositeRule&quot;)\r\n    public class CompositeRuleDTO extends BaseRuleDTO {\r\n    private String type;\r\n    @Relationship(type = &quot;HAS&quot;)\r\n    private List&lt;SingleRuleDTO&gt; has = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @NodeEntity(label = &quot;SimpleRule&quot;)\r\n    public class SingleRuleDTO extends BaseRuleDTO {\r\n    @JsonBackReference\r\n    @Relationship(type = &quot;HAS&quot;, direction = Relationship.INCOMING)\r\n    private List&lt;CompositeRuleDTO&gt; compositeRules;\r\n    @Relationship(type = &quot;WHEN&quot;)\r\n    private ConditionDTO condition;\r\n    @Relationship(type = &quot;THEN&quot;)\r\n    private List&lt;ActionDTO&gt; actions;\r\n    }\r\n\r\n    public interface RulesDAO extends Neo4jRepository&lt;BaseRuleDTO, Long&gt;\r\n\r\nAnd the graphs designed accordingly. All composite and Simple rules nodes also have a &quot;Rule&quot; tag so I can search for them equally.\r\n[Graphs][1]\r\n\r\nThe thing is, I was trying to fetch all rules and their related elements, but only &quot;starter&quot; rules, that is, rules that are not linked to others, for that I made this query (and some other variations):\r\n\r\n    MATCH s=(a:rule)-[*..]-&gt;() //all rules and elements\r\n    where not (a)&lt;-[:HAS]-() // that don&#39;t have an incoming has relationship\r\n    RETURN distinct (a)-[*1..]-&gt;() //return all the elements\r\n\r\nThat works wonders on the neo4j browser but when executed on code with the library I always get 3 rules back, the composite(with the singles inside) and the 2 singles(separately). \r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 182,\r\n            &quot;name&quot;: &quot;DogRules&quot;,\r\n            &quot;description&quot;: &quot;2as2d&quot;,\r\n            &quot;priority&quot;: 0,\r\n            &quot;type&quot;: &quot;ActivationRuleGroup&quot;,\r\n            &quot;has&quot;: [\r\n                {\r\n                    &quot;id&quot;: 180,\r\n                    &quot;name&quot;: &quot;cantalk&quot;,\r\n                    &quot;description&quot;: &quot;asd&quot;,\r\n                    &quot;priority&quot;: 0,\r\n                    &quot;condition&quot;: {\r\n                        &quot;id&quot;: 184,\r\n                        &quot;rules&quot;: null,\r\n                        &quot;condition&quot;: &quot;object.canTalk == true&quot;\r\n                    },\r\n                    &quot;actions&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 186,\r\n                            &quot;rules&quot;: null,\r\n                            &quot;action&quot;: &quot;object.name = \\&quot;Talking dog\\&quot;&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    &quot;id&quot;: 181,\r\n                    &quot;name&quot;: &quot;canttalk&quot;,\r\n                    &quot;description&quot;: &quot;2asd&quot;,\r\n                    &quot;priority&quot;: 0,\r\n                    &quot;condition&quot;: {\r\n                        &quot;id&quot;: 183,\r\n                        &quot;rules&quot;: null,\r\n                        &quot;condition&quot;: &quot;object.canTalk == false&quot;\r\n                    },\r\n                    &quot;actions&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 185,\r\n                            &quot;rules&quot;: null,\r\n                            &quot;action&quot;: &quot;object.name = \\&quot;Dog\\&quot;&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: 180,\r\n            &quot;name&quot;: &quot;cantalk&quot;,\r\n            &quot;description&quot;: &quot;asd&quot;,\r\n            &quot;priority&quot;: 0,\r\n            &quot;condition&quot;: {\r\n                &quot;id&quot;: 184,\r\n                &quot;rules&quot;: null,\r\n                &quot;condition&quot;: &quot;object.canTalk == true&quot;\r\n            },\r\n            &quot;actions&quot;: [\r\n                {\r\n                    &quot;id&quot;: 186,\r\n                    &quot;rules&quot;: null,\r\n                    &quot;action&quot;: &quot;object.name = \\&quot;Talking dog\\&quot;&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: 181,\r\n            &quot;name&quot;: &quot;canttalk&quot;,\r\n            &quot;description&quot;: &quot;2asd&quot;,\r\n            &quot;priority&quot;: 0,\r\n            &quot;condition&quot;: {\r\n                &quot;id&quot;: 183,\r\n                &quot;rules&quot;: null,\r\n                &quot;condition&quot;: &quot;object.canTalk == false&quot;\r\n            },\r\n            &quot;actions&quot;: [\r\n                {\r\n                    &quot;id&quot;: 185,\r\n                    &quot;rules&quot;: null,\r\n                    &quot;action&quot;: &quot;object.name = \\&quot;Dog\\&quot;&quot;\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\nWhenever I include the relationship &quot;HAS&quot;, I get the 3 rules back instead of just the composite, no matter what.\r\n\r\nAny idea on why? I&#39;ve checked the code and understand it&#39;s trying to return all rule elements that it finds separately. But I think if I set a query with a filter it should honor that and return just what I need?\r\n\r\nThanks in advance\r\n\r\n  [1]: https://i.stack.imgur.com/0LvUb.png\r\n",
      "link": "https://stackoverflow.com/questions/59056200/question-regarding-inheritance-and-neo4j",
      "title": "Question regarding &quot;inheritance&quot; and neo4j"
    },
    {
      "tags": [
        "python",
        "json",
        "reactjs",
        "flask",
        "neo4j"
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12438816,
        "user_type": "registered",
        "profile_image": "https://lh6.googleusercontent.com/-mPO7jQeOkUw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4VejHBOKFkdHJcEmxN6MmQesA3Q/photo.jpg?sz=128",
        "display_name": "Lars",
        "link": "https://stackoverflow.com/users/12438816/lars"
      },
      "last_editor": {
        "reputation": 1,
        "user_id": 12438816,
        "user_type": "registered",
        "profile_image": "https://lh6.googleusercontent.com/-mPO7jQeOkUw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4VejHBOKFkdHJcEmxN6MmQesA3Q/photo.jpg?sz=128",
        "display_name": "Lars",
        "link": "https://stackoverflow.com/users/12438816/lars"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 19,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "closed_date": 1574783174,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574783398,
      "creation_date": 1574782958,
      "last_edit_date": 1574783398,
      "question_id": 59054508,
      "share_link": "https://stackoverflow.com/q/59054508",
      "body_markdown": "I&#39;m very new to React and Flask.\r\n\r\nI want to pass data (json) from flask to react and then e.g. display company names from the json (I get the data from Neo4J).\r\n\r\n\r\nSo this is the flask code (to get the json from the database):\r\n  \r\n     def search(company_name):\r\n            namelistdf = graph.run(&quot;MATCH (c:Company) WHERE c.company_name = $company_name RETURN c.company_id, c.company_name, c.address_city, c.address_country&quot;,company_name=company_name).to_data_frame()\r\n            \r\n            namelistjson = namelistdf.to_json(orient=&quot;index&quot;,date_unit=&quot;s&quot;,default_handler=str)\r\n            return namelistjson\r\n\r\n\r\nThis is app.route in flask:\r\n\r\n      @app.route(&quot;/company&quot;)\r\n      def result():\r\n                return flask.render_template(&quot;index.html&quot;, company = search(company_name))\r\n\r\n\r\nAnd this is the react code:\r\n\r\n    class Display extends Component {\r\n    \r\n      render() {\r\n        const jsonString = JSON.parse(window.company);\r\n        return (\r\n    \r\n          &lt;div className=&quot;display&quot;&gt;\r\n\r\n            &lt;p&gt; Name: {window.company} &lt;/p&gt;    //this would display the entire string I passed from flask to react.\r\n    \r\n            &lt;p&gt;Name: {jsonString.c.company_name} &lt;/p&gt;  //I only want to display the company_name but this throws a syntax Error:  &quot;SyntaxError: Unexpected end of JSON input&quot;\r\n       \r\n          &lt;/div&gt;\r\n        )\r\n      }\r\n    }\r\n    \r\n    export default Display\r\n\r\n\r\nAnyone an idea how I can get access to any json attribute and not only to the entire json?  Or is there another way to pass the json file from flask to react so that I can work with the JSON File in React?",
      "link": "https://stackoverflow.com/questions/59054508/how-to-pass-a-json-from-flask-to-react-and-then-get-selected-attributes-out-of-t",
      "closed_reason": "duplicate",
      "title": "How to pass a json from flask to react and then get selected attributes out of this json"
    },
    {
      "tags": [
        "python",
        "neo4j",
        "py2neo"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 15,
            "user_id": 12246875,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/3d8da8869816f6649a83b36815e5061b?s=128&d=identicon&r=PG&f=1",
            "display_name": "ceharep",
            "link": "https://stackoverflow.com/users/12246875/ceharep"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1574871888,
          "creation_date": 1574871888,
          "answer_id": 59074522,
          "question_id": 59054145,
          "share_link": "https://stackoverflow.com/a/59074522",
          "body_markdown": "Found [answer here](https://stackoverflow.com/a/52734369) \r\n\r\n`result = db.run(query).data()` instead of `result = db.evaluate(query)`\r\n\r\nThis returns a dictionary of matching nodes",
          "link": "https://stackoverflow.com/questions/59054145/using-py2neo-to-get-nodes-with-second-order-connections/59074522#59074522",
          "title": "Using py2neo to get nodes with second order connections?"
        }
      ],
      "owner": {
        "reputation": 15,
        "user_id": 12246875,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3d8da8869816f6649a83b36815e5061b?s=128&d=identicon&r=PG&f=1",
        "display_name": "ceharep",
        "link": "https://stackoverflow.com/users/12246875/ceharep"
      },
      "last_editor": {
        "reputation": 15,
        "user_id": 12246875,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3d8da8869816f6649a83b36815e5061b?s=128&d=identicon&r=PG&f=1",
        "display_name": "ceharep",
        "link": "https://stackoverflow.com/users/12246875/ceharep"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 30,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 59074522,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574871888,
      "creation_date": 1574781894,
      "last_edit_date": 1574864907,
      "question_id": 59054145,
      "share_link": "https://stackoverflow.com/q/59054145",
      "body_markdown": "How can [py2neo `RelationshipMatcher`](https://py2neo.org/v4/matching.html#py2neo.matching.RelationshipMatcher) or similar be used to return all nodes with a second order connection to an original node?\r\n\r\nI can use the following Cypher query:\r\n\r\n\r\n    MATCH (u)-[:has]-()-[:validates]-(result)\r\n    WHERE u.UserName = &quot;Dave&quot; \r\n    RETURN result\r\n\r\nWhich with the below graph would give me routes A, B and C\r\n\r\n---\r\n[Graph image][1]\r\n\r\nHowever, using `db.evaluate(query` (as below) with the same query only returns the first matching node (i.e. `Route A`)\r\n\r\n```python\r\nfrom py2neo import Graph, Node, Relationship, NodeMatcher, RelationshipMatcher\r\n\r\ndef get_routes(username):\r\n    query = &quot;MATCH (u)-[:has]-()-[:validates]-(result) WHERE u.UserName = &#39;&quot;&#39;{}&#39;&quot;&#39; RETURN result&quot;.format(username)\r\n    result = db.evaluate(query)\r\n\r\ndb = Graph(&quot;bolt://X.X.X.X:7687&quot;, username = &quot;neo4j&quot;, password = &quot;password&quot;)\r\nget_routes(&quot;Dave&quot;)\r\n```\r\n\r\n\r\n\r\nSomething like below would return the first order nodes connected to my user (i.e. `Condition1`, `Condition2`).\r\n\r\nHow can I amend this code to deliver the matching 2nd order nodes?\r\n\r\n```python\r\nu = db.nodes.match(&quot;User&quot;, UserName=username).first()\r\nmatcher = RelationshipMatcher(db)\r\nnodes = matcher.match((u, None), &quot;has&quot;)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N0LaY.png",
      "link": "https://stackoverflow.com/questions/59054145/using-py2neo-to-get-nodes-with-second-order-connections",
      "title": "Using py2neo to get nodes with second order connections?"
    },
    {
      "tags": [
        "import",
        "neo4j",
        "cypher",
        "bigdata",
        "neo4j-apoc"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 93,
                "user_id": 10623578,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/3895b6967fe45b3726923c00041487f3?s=128&d=identicon&r=PG&f=1",
                "display_name": "raf",
                "link": "https://stackoverflow.com/users/10623578/raf"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574854432,
              "post_id": 59057262,
              "comment_id": 104376609,
              "link": "https://stackoverflow.com/questions/59053086/neo4j-how-load-two-billions-of-records-from-a-csv/59057262#comment104376609_59057262"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 703,
            "user_id": 3952697,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5b9381fc68822495267b10ec0cae2573?s=128&d=identicon&r=PG&f=1",
            "display_name": "Dave Fauth",
            "link": "https://stackoverflow.com/users/3952697/dave-fauth"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1574792704,
          "creation_date": 1574792704,
          "answer_id": 59057262,
          "question_id": 59053086,
          "share_link": "https://stackoverflow.com/a/59057262",
          "body_markdown": "If this is a one-time load or an initial load, you should use Neo4j-Import.\r\n2M is a large commit. Ensure you have a large HEAP size to handle that. ",
          "link": "https://stackoverflow.com/questions/59053086/neo4j-how-load-two-billions-of-records-from-a-csv/59057262#59057262",
          "title": "Neo4J: How load two billions of records from a csv?"
        }
      ],
      "owner": {
        "reputation": 93,
        "user_id": 10623578,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3895b6967fe45b3726923c00041487f3?s=128&d=identicon&r=PG&f=1",
        "display_name": "raf",
        "link": "https://stackoverflow.com/users/10623578/raf"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 29,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574792704,
      "creation_date": 1574778317,
      "question_id": 59053086,
      "share_link": "https://stackoverflow.com/q/59053086",
      "body_markdown": "I&#39;m trying to import data from csv with 2 billions of records into a Neo4J, now I&#39;m using the following query (in my real query I have 40 properties and 5 type of nodes):\r\n\r\n    call apoc.periodic.commit(&quot;LOAD CSV with headers from &#39;file:///person_job.csv&#39; as \r\n    row fieldterminator &#39;|&#39; WITH row as a \r\n    WHERE NOT a.id IS NULL\r\n    MERGE (b:Person{id:a.id})  \r\n    MERGE (c:Job{type:a.type})\r\n    MERGE (b)&lt;-[:RELATED_TO]-(c)&quot;,{limit:2000000});\r\n\r\nI created index on id and on type but now this query needs five days to finish.\r\nDo you have any idea how to improve the efficiency of this query?",
      "link": "https://stackoverflow.com/questions/59053086/neo4j-how-load-two-billions-of-records-from-a-csv",
      "title": "Neo4J: How load two billions of records from a csv?"
    },
    {
      "tags": [
        "neo4j",
        "neo4j-apoc"
      ],
      "owner": {
        "reputation": 267,
        "user_id": 5152718,
        "user_type": "registered",
        "accept_rate": 0,
        "profile_image": "https://lh4.googleusercontent.com/-hmmQeDx5aGc/AAAAAAAAAAI/AAAAAAAAAYs/B7UM8FxXRqk/photo.jpg?sz=128",
        "display_name": "Awais Mushtaq",
        "link": "https://stackoverflow.com/users/5152718/awais-mushtaq"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 8,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574768039,
      "creation_date": 1574768039,
      "question_id": 59050042,
      "share_link": "https://stackoverflow.com/q/59050042",
      "body_markdown": "I am trying to find average of all nodes that are merged and update it to merged(new) node.I would appricitate if someone can suggest me best appraoch.\r\n&gt;     MATCH (n1:RoadPoint)-[r1:ROAD_SEGMENT]-(n2:RoadPoint)\r\n&gt;     WITH n1, COUNT(DISTINCT n2) AS c\r\n&gt;     WHERE c = 2 \r\n&gt;     MATCH (n1)-[r1:ROAD_SEGMENT]-(n2)\r\n&gt;     WITH collect(n2) as nodes\r\n&gt;     CALL apoc.refactor.mergeNodes(nodes, {properties: {lat:&#39;overwrite&#39;, lon:&#39;overwrite&#39;, osmid:&#39;overwrite&#39;}}) YIELD node\r\n&gt;     return node",
      "link": "https://stackoverflow.com/questions/59050042/how-i-can-update-the-lat-latitude-and-longitude-on-merged-node-in-neo4j-apoc-mer",
      "title": "How I can update the lat latitude and longitude on merged node in Neo4j Apoc mergeNodes?"
    },
    {
      "tags": [
        "neo4j",
        "where-clause",
        "sql-like"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 11,
                "user_id": 12436354,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/2b4246ee7353bd2f08c74f91776d501e?s=128&d=identicon&r=PG&f=1",
                "display_name": "Tigou",
                "link": "https://stackoverflow.com/users/12436354/tigou"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574851777,
              "post_id": 59051454,
              "comment_id": 104375111,
              "link": "https://stackoverflow.com/questions/59048109/neo4j-query-with-match-where-doesnt-work/59051454#comment104375111_59051454"
            },
            {
              "owner": {
                "reputation": 8944,
                "user_id": 4187346,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
                "display_name": "Dave Bennett",
                "link": "https://stackoverflow.com/users/4187346/dave-bennett"
              },
              "reply_to_user": {
                "reputation": 11,
                "user_id": 12436354,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/2b4246ee7353bd2f08c74f91776d501e?s=128&d=identicon&r=PG&f=1",
                "display_name": "Tigou",
                "link": "https://stackoverflow.com/users/12436354/tigou"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574866059,
              "post_id": 59051454,
              "comment_id": 104383321,
              "link": "https://stackoverflow.com/questions/59048109/neo4j-query-with-match-where-doesnt-work/59051454#comment104383321_59051454"
            },
            {
              "owner": {
                "reputation": 11,
                "user_id": 12436354,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/2b4246ee7353bd2f08c74f91776d501e?s=128&d=identicon&r=PG&f=1",
                "display_name": "Tigou",
                "link": "https://stackoverflow.com/users/12436354/tigou"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574937184,
              "post_id": 59051454,
              "comment_id": 104408931,
              "link": "https://stackoverflow.com/questions/59048109/neo4j-query-with-match-where-doesnt-work/59051454#comment104408931_59051454"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "last_editor": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 3,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574866021,
          "last_edit_date": 1574866021,
          "creation_date": 1574772865,
          "answer_id": 59051454,
          "question_id": 59048109,
          "share_link": "https://stackoverflow.com/a/59051454",
          "body_markdown": "Updated with what the op the actually wanted\r\n\r\n\r\n    // match all of the name on a particular voie\r\n    MATCH (v:voie)--(:adr)--(n:name)\r\n    WHERE (v.Name) = &#39;RUE DE GLAIRE&#39;\r\n\r\n    // return voie and the collection of names\r\n    RETURN v, collect(n) as names\r\n\r\n\r\n**Old Answer**\r\n\r\nIt is just a mismatch between how you loaded your data and then how you are asking for it afterwards. Labels and Attributes are case sensitive in Neo4j.\r\n\r\nYou loaded all of your data with lower case labels (cp, commune, voi, addr, name) and you made the identifying attribute propercase `Name`.\r\n\r\nAnd in your query you actually look for the label `:name` rather than `:voie`\r\n\r\nIf you change your query to look like this...\r\n\r\n    // match &quot;voie&quot; nodes identified by &quot;n&quot;\r\n    MATCH (n:voie)\r\n\r\n    // where the &quot;Name&quot; is &quot;RUE DE GLAIRE&quot; \r\n    WHERE (n.Name) = &#39;RUE DE GLAIRE&#39;\r\n\r\n    // return just the name\r\n    RETURN n.Name \r\n\r\nTo make it more equivalent to your SQL query you could write it like this...\r\n\r\n    MATCH (n:voie)\r\n    WHERE (n.Name) CONTAINS &#39;RUE DE GLAIRE&#39;\r\n    RETURN n.Name\r\n\r\n",
          "link": "https://stackoverflow.com/questions/59048109/neo4j-query-with-match-where-doesnt-work/59051454#59051454",
          "title": "NEO4J query with MATCH, WHERE, doesn&#39;t work"
        }
      ],
      "owner": {
        "reputation": 11,
        "user_id": 12436354,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2b4246ee7353bd2f08c74f91776d501e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Tigou",
        "link": "https://stackoverflow.com/users/12436354/tigou"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 27,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574866021,
      "creation_date": 1574761971,
      "question_id": 59048109,
      "share_link": "https://stackoverflow.com/q/59048109",
      "body_markdown": "I want to do a request, it doesn&#39;t work:\r\n\r\nhere is the code (in NEO4J sandbox, the csv file is in google sheets, publicly accessible):\r\n\r\n\r\n```\r\nLOAD CSV WITH HEADERS FROM &#39;https://docs.google.com/spreadsheets/d/17UhQ3m2dE3wS4IsBjgv0ozcW_zH2rSBs2ZUdqeT4cQw/export?format=csv&amp;id=17UhQ3m2dE3wS4IsBjgv0ozcW_zH2rSBs2ZUdqeT4cQw&amp;gid=726094387&#39; AS line\r\n\r\nMERGE (cp:cp {Name:line.cp})\r\nMERGE (commune:commune {Name:line.commune})\r\nMERGE (voie:voie {Name:line.rao_libelle_voie})\r\nMERGE (adr:adr {Name:line.adr_lib_ap_ocr_postal_0})\r\nMERGE (name:name {Name:line.adr_l1_name})\r\n\r\nMERGE (cp) -[:TO {dist:line.count} ]-&gt; (commune)\r\nMERGE (commune) -[:TO {dist:line.count} ]-&gt; (voie)\r\nMERGE (voie) -[:TO {dist:line.count} ]-&gt; (adr)\r\nMERGE (adr) -[:TO {dist:line.count} ]-&gt; (name)\r\n\r\n```\r\nHere my request ( I want the name of the inhabitants (adr_l1_name, variable :name) of a street in (rao_libelle_voie, variable: voie );\r\n\r\nHere is the SQL request (from an other source):\r\n\r\n```\r\nSELECT `adr_l1_name` \r\n  FROM `database`\r\n  WHERE ` rao_libelle_voie ` LIKE &#39;%RUE DE GLAIRE%&#39;\r\n```\r\n  The result is working;\r\n  \r\n  In NEO4J sandbox, i make this request:\r\n\r\n```\r\nMATCH (n:name)\r\nWHERE (n:voie) = &#39;RUE DE GLAIRE&#39;\r\nRETURN (n:name)\r\n```\r\nThere is no error message, but no results appear;\r\n",
      "link": "https://stackoverflow.com/questions/59048109/neo4j-query-with-match-where-doesnt-work",
      "title": "NEO4J query with MATCH, WHERE, doesn&#39;t work"
    },
    {
      "tags": [
        "neo4j",
        "graphql",
        "apollo-server",
        "neo4j-graphql-js"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 17,
            "user_id": 7886540,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/31f7927982f5549114ead4c0268d3fd8?s=128&d=identicon&r=PG&f=1",
            "display_name": "venkat Venkata",
            "link": "https://stackoverflow.com/users/7886540/venkat-venkata"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1575084505,
          "creation_date": 1575084505,
          "answer_id": 59112929,
          "question_id": 59041476,
          "share_link": "https://stackoverflow.com/a/59112929",
          "body_markdown": "This issue is resolved - I had type as Employee and node as EMP. Changing type to EMP did the trick.",
          "link": "https://stackoverflow.com/questions/59041476/neo4j-graphql-self-reference-type-is-empty/59112929#59112929",
          "title": "Neo4j-graphql self reference type is empty"
        }
      ],
      "owner": {
        "reputation": 17,
        "user_id": 7886540,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/31f7927982f5549114ead4c0268d3fd8?s=128&d=identicon&r=PG&f=1",
        "display_name": "venkat Venkata",
        "link": "https://stackoverflow.com/users/7886540/venkat-venkata"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 17,
      "favorite_count": 1,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1575084505,
      "creation_date": 1574723690,
      "question_id": 59041476,
      "share_link": "https://stackoverflow.com/q/59041476",
      "body_markdown": "Trying neo4j with graphql using apollo and neo4j-graphql-js. Here is my typeDefs:\r\n\r\n```\r\nconst typeDefs = `\r\n        type Employee {\r\n            eid: ID!\r\n            name: String!\r\n            title: String!\r\n            email: String\r\n            reportees: [Employee] @relation(name: &quot;REPORTS_TO&quot;, direction: &quot;IN&quot;)\r\n        }\r\n\r\n        type Query {\r\n            getAllEmployees: [Employee] @cypher(statement: &quot;MATCH (n) RETURN n&quot;)\r\n            getEmployee(name: String): [Employee] @cypher(statement: &quot;MATCH (e:EMP) WHERE e.name contains $name RETURN e&quot;)\r\n        }\r\n`;\r\n```\r\n\r\nI always get reportees as empty. Any suggestions on what I&#39;m missing?\r\n",
      "link": "https://stackoverflow.com/questions/59041476/neo4j-graphql-self-reference-type-is-empty",
      "title": "Neo4j-graphql self reference type is empty"
    },
    {
      "tags": [
        "python",
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 29,
                "user_id": 12321291,
                "user_type": "registered",
                "profile_image": "https://lh5.googleusercontent.com/-u1VWsaFr_Zw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdgw8xHmp6ZMpDGWIUEZU2GSBTsFw/photo.jpg?sz=128",
                "display_name": "banji",
                "link": "https://stackoverflow.com/users/12321291/banji"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574762337,
              "post_id": 59039823,
              "comment_id": 104337133,
              "link": "https://stackoverflow.com/questions/59035245/py2neo-database-clienterror-semanticerror-cannot-merge-node-using-null-propert/59039823#comment104337133_59039823"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574716485,
          "last_edit_date": 1574716485,
          "creation_date": 1574714648,
          "answer_id": 59039823,
          "question_id": 59035245,
          "share_link": "https://stackoverflow.com/a/59039823",
          "body_markdown": "The most efficient (and simplest) approach would be to simply modify your Python code to avoid making the neo4j query if any of the [parameter](https://neo4j.com/docs/cypher-manual/current/syntax/parameters/) values would be `null`.",
          "link": "https://stackoverflow.com/questions/59035245/py2neo-database-clienterror-semanticerror-cannot-merge-node-using-null-propert/59039823#59039823",
          "title": "py2neo.database.ClientError: SemanticError: Cannot merge node using null property value for Country"
        }
      ],
      "owner": {
        "reputation": 29,
        "user_id": 12321291,
        "user_type": "registered",
        "profile_image": "https://lh5.googleusercontent.com/-u1VWsaFr_Zw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdgw8xHmp6ZMpDGWIUEZU2GSBTsFw/photo.jpg?sz=128",
        "display_name": "banji",
        "link": "https://stackoverflow.com/users/12321291/banji"
      },
      "last_editor": {
        "reputation": 46884,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 29,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574716485,
      "creation_date": 1574695994,
      "last_edit_date": 1574714311,
      "question_id": 59035245,
      "share_link": "https://stackoverflow.com/q/59035245",
      "body_markdown": "I am trying to merge the query below to an existing database in Neo4j. I already have a neo4j graph created using the following parameters, which are working fine. This was created using neo4j application.\r\n\r\n    Name, Entity, Web_Site, Title, Other-names, Active, up, down (8 properties)\r\n\r\nI am trying to merge the above-created graph with the query below using python. I am adding extra properties with the below query to the already existing database. When I run the query below it gives me this error:\r\n\r\n    py2neo.database.ClientError: SemanticError: Cannot merge node using null property value for Country.\r\n\r\nHow do I make it skip every row or column with null values using the python query?\r\n\r\n    query = &quot;&quot;&quot;\r\n               merge(name:name {name: {a},name:{b},Title:{c}, \r\n                     status:{d},number:{e},Code:{f},Country:{g},Locality:{h},Address:{i}})\r\n                        \r\n                    &quot;&quot;&quot;\r\n        batch.run(query,{&quot;a&quot;: name, &quot;b&quot;: Type, &quot;c&quot;:Title, &quot;d&quot;: status, &quot;e&quot;:number, &quot;f&quot;:Code,\r\n                        &quot;g&quot;: Country,&quot;h&quot;: Locality,&quot;i&quot;:Address})\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59035245/py2neo-database-clienterror-semanticerror-cannot-merge-node-using-null-propert",
      "title": "py2neo.database.ClientError: SemanticError: Cannot merge node using null property value for Country"
    },
    {
      "tags": [
        "neo4j",
        "neo4j-apoc"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 2,
          "creation_date": 1574710408,
          "post_id": 59026926,
          "comment_id": 104320578,
          "link": "https://stackoverflow.com/questions/59026926/how-to-serialize-nodes-depth-first#comment104320578_59026926"
        },
        {
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1574732582,
          "post_id": 59026926,
          "comment_id": 104327281,
          "link": "https://stackoverflow.com/questions/59026926/how-to-serialize-nodes-depth-first#comment104327281_59026926"
        },
        {
          "owner": {
            "reputation": 1290,
            "user_id": 1146473,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/798f66c6c7e53703e2a30ff911b0e884?s=128&d=identicon&r=PG",
            "display_name": "ekampp",
            "link": "https://stackoverflow.com/users/1146473/ekampp"
          },
          "reply_to_user": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574748908,
          "post_id": 59026926,
          "comment_id": 104331156,
          "link": "https://stackoverflow.com/questions/59026926/how-to-serialize-nodes-depth-first#comment104331156_59026926"
        },
        {
          "owner": {
            "reputation": 1290,
            "user_id": 1146473,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/798f66c6c7e53703e2a30ff911b0e884?s=128&d=identicon&r=PG",
            "display_name": "ekampp",
            "link": "https://stackoverflow.com/users/1146473/ekampp"
          },
          "reply_to_user": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574749169,
          "post_id": 59026926,
          "comment_id": 104331231,
          "link": "https://stackoverflow.com/questions/59026926/how-to-serialize-nodes-depth-first#comment104331231_59026926"
        },
        {
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1574755575,
          "post_id": 59026926,
          "comment_id": 104333661,
          "link": "https://stackoverflow.com/questions/59026926/how-to-serialize-nodes-depth-first#comment104333661_59026926"
        },
        {
          "owner": {
            "reputation": 1290,
            "user_id": 1146473,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/798f66c6c7e53703e2a30ff911b0e884?s=128&d=identicon&r=PG",
            "display_name": "ekampp",
            "link": "https://stackoverflow.com/users/1146473/ekampp"
          },
          "reply_to_user": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574756088,
          "post_id": 59026926,
          "comment_id": 104333899,
          "link": "https://stackoverflow.com/questions/59026926/how-to-serialize-nodes-depth-first#comment104333899_59026926"
        }
      ],
      "owner": {
        "reputation": 1290,
        "user_id": 1146473,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/798f66c6c7e53703e2a30ff911b0e884?s=128&d=identicon&r=PG",
        "display_name": "ekampp",
        "link": "https://stackoverflow.com/users/1146473/ekampp"
      },
      "last_editor": {
        "reputation": 1290,
        "user_id": 1146473,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/798f66c6c7e53703e2a30ff911b0e884?s=128&d=identicon&r=PG",
        "display_name": "ekampp",
        "link": "https://stackoverflow.com/users/1146473/ekampp"
      },
      "comment_count": 6,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574756109,
      "creation_date": 1574666522,
      "last_edit_date": 1574756109,
      "question_id": 59026926,
      "share_link": "https://stackoverflow.com/q/59026926",
      "body_markdown": "I&#39;m learning Neo4J.\r\n\r\nI understand how to make depth-first searches for nodes, but in my case, I want to serialize all nodes, but traverse one branch completely, then move to the next branch, and so on.\r\n\r\nGiven these nodes:\r\n\r\n```\r\nN1 { order: 1 }\r\n  N2 { order: 1 }\r\n    N4 { order: 1 }\r\n      N5 { order: 1 }\r\n      N6 { order: 2 }\r\n  N3 { order: 2 }\r\n    N7 { order: 1 }\r\n```\r\n\r\nThe relationship between the nodes is a directed one named `part_of`. E.i. `N2-[part_of]-&gt;N1`.\r\n\r\nI would like the list to be serialized in this order: `N1 N2 N4 N5 N6 N3 N7`. \r\n\r\nWhat&#39;s the most efficient way of doing this? \r\n\r\nThanks in advance. \r\n\r\n// E",
      "link": "https://stackoverflow.com/questions/59026926/how-to-serialize-nodes-depth-first",
      "title": "How to serialize nodes depth-first?"
    },
    {
      "tags": [
        "neo4j"
      ],
      "owner": {
        "reputation": 388,
        "user_id": 4179409,
        "user_type": "registered",
        "accept_rate": 82,
        "profile_image": "https://lh6.googleusercontent.com/-dqbWIfyYc_w/AAAAAAAAAAI/AAAAAAAAAYo/NspfP4xr1gU/photo.jpg?sz=128",
        "display_name": "explorer",
        "link": "https://stackoverflow.com/users/4179409/explorer"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 16,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574639412,
      "creation_date": 1574639412,
      "question_id": 59023561,
      "share_link": "https://stackoverflow.com/q/59023561",
      "body_markdown": "Is there a way to automatically create the graph(without the need to write MERGE etc. logic in Cypher) from standalone json or json fetched via API, just like neo4j-doc-manager does while connected with Mongo:\r\n\r\nrefer\r\nhttps://neo4j.com/developer/neo4j-doc-manager/\r\n2.2.2. Upsert",
      "link": "https://stackoverflow.com/questions/59023561/load-api-data-to-neo4j-where-graph-creation-is-automatic-as-done-by-neo4j-doc-ma",
      "title": "Load API data to Neo4j where graph creation is automatic as done by neo4j-doc-manager"
    },
    {
      "tags": [
        "java",
        "spring",
        "spring-boot",
        "neo4j",
        "repository"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 66,
            "user_id": 8138720,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/tcdjS.png?s=128&g=1",
            "display_name": "olir",
            "link": "https://stackoverflow.com/users/8138720/olir"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574636534,
          "creation_date": 1574636534,
          "answer_id": 59023284,
          "question_id": 59020099,
          "share_link": "https://stackoverflow.com/a/59023284",
          "body_markdown": "I used the neo4j java driver in my spring boot as described at [Using Neo4j from Java][1]\r\n\r\n  [1]: https://neo4j.com/developer/java/\r\n\r\nThis is maybe not what neo4j offers first, but i feel it is simple. You can also use it without transactions.",
          "link": "https://stackoverflow.com/questions/59020099/execution-of-neo4j-cypher-query-from-spring-boot/59023284#59023284",
          "title": "Execution of neo4j cypher query from spring boot"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 4442440,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/1788220930/picture?type=large",
        "display_name": "Justin Babu",
        "link": "https://stackoverflow.com/users/4442440/justin-babu"
      },
      "last_editor": {
        "reputation": 602,
        "user_id": 7585327,
        "user_type": "registered",
        "profile_image": "https://i.stack.imgur.com/qw5Yh.jpg?s=128&g=1",
        "display_name": "MHJ",
        "link": "https://stackoverflow.com/users/7585327/mhj"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574636534,
      "creation_date": 1574614337,
      "last_edit_date": 1574615797,
      "question_id": 59020099,
      "share_link": "https://stackoverflow.com/q/59020099",
      "body_markdown": "Hi neo4j/spring boot masters\r\n\r\nI am new to spring boot and I am trying to execute a cypher query without the `@Query` annotation.\r\n\r\nI can see that my requirement is possible with `entityManage.createQuery()` in spring repository (javax)\r\n\r\nBut the adaptor for **neo4j** doesn&#39;t seem to have an entity Manager. \r\n\r\nAny help is greatly appreciated. ",
      "link": "https://stackoverflow.com/questions/59020099/execution-of-neo4j-cypher-query-from-spring-boot",
      "title": "Execution of neo4j cypher query from spring boot"
    },
    {
      "tags": [
        "neo4j",
        "neo4j-apoc"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 1,
            "user_id": 11387641,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ec47c9173f2704944589c1ec5955128a?s=128&d=identicon&r=PG&f=1",
            "display_name": "DogChocolate",
            "link": "https://stackoverflow.com/users/11387641/dogchocolate"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574606564,
          "post_id": 59017723,
          "comment_id": 104283625,
          "link": "https://stackoverflow.com/questions/59017723/java-lang-arrayindexoutofboundsexception-1-when-calling-algo-trianglecount#comment104283625_59017723"
        },
        {
          "owner": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575457332,
          "post_id": 59017723,
          "comment_id": 104570818,
          "link": "https://stackoverflow.com/questions/59017723/java-lang-arrayindexoutofboundsexception-1-when-calling-algo-trianglecount#comment104570818_59017723"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 11387641,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/ec47c9173f2704944589c1ec5955128a?s=128&d=identicon&r=PG&f=1",
        "display_name": "DogChocolate",
        "link": "https://stackoverflow.com/users/11387641/dogchocolate"
      },
      "comment_count": 2,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 28,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574599121,
      "creation_date": 1574599121,
      "question_id": 59017723,
      "share_link": "https://stackoverflow.com/q/59017723",
      "body_markdown": "I am trying to follow Mark and Amy&#39;s Medium post about link prediction with NEO4J, [Link Prediction with NEO4J][1]\r\n\r\nWorking great until I need to run the triangle detection algorithm:\r\n```\r\nCALL algo.triangleCount(&#39;Author&#39;, &#39;CO_AUTHOR_EARLY&#39;, { \r\nwrite:true,\r\nwriteProperty:&#39;trianglesTrain&#39;, \r\nclusteringCoefficientProperty:&#39;coefficientTrain&#39;})\r\n```\r\n\r\nI get the following error:\r\n```\r\n`ERROR` Neo.ClientError.Procedure.ProcedureCallFailed\r\n\r\nFailed to invoke procedure `algo.triangleCount`: Caused by: java.lang.ArrayIndexOutOfBoundsException: -1\r\n```\r\n\r\nAs far as I can tell I have run everything else correctly (getting the same results in the python part etc.)\r\n\r\nI was running Neo4j (enterprise) 3.5.11 when I first got the error, upgraded to 3.5.12 - still have the issue. I have the Apoc and Graph Algo plugins installed\r\n\r\n\r\n  [1]: https://towardsdatascience.com/link-prediction-with-neo4j-part-2-predicting-co-authors-using-scikit-learn-78b42356b44c",
      "link": "https://stackoverflow.com/questions/59017723/java-lang-arrayindexoutofboundsexception-1-when-calling-algo-trianglecount",
      "title": "java.lang.ArrayIndexOutOfBoundsException: -1 when calling algo.trianglecount"
    },
    {
      "tags": [
        "database",
        "neo4j",
        "cypher",
        "graph-theory",
        "cypher-3.1"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 1748,
            "user_id": 677173,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name": "Pablissimo",
            "link": "https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574670249,
          "creation_date": 1574670249,
          "answer_id": 59027654,
          "question_id": 59016529,
          "share_link": "https://stackoverflow.com/a/59027654",
          "body_markdown": "One way to do this is by using `LOAD CSV` - normally you&#39;d use it to load data into the graph, but you don&#39;t _have_ to. Given a graph:\r\n\r\n```\r\nMERGE (:Person { name: &#39;Geoff&#39; })\r\nMERGE (:Person { name: &#39;Timothy&#39; })\r\nMERGE (:Person { name: &#39;Peter&#39; })\r\n```\r\n\r\nAnd a CSV file dropped into your database&#39;s import directory:\r\n\r\n```\r\nName,Phone\r\nTimothy,07700900100\r\nPeter,07700900101\r\n```\r\n\r\nYou could load all the names you&#39;re interested in searching for into a list, then look them up using a standard `IN` clause:\r\n\r\n```\r\nLOAD CSV WITH HEADERS FROM &#39;file:///names.csv&#39; AS line\r\nWITH collect(line.Name) AS names\r\nMATCH (p: Person) WHERE p.name IN names\r\nRETURN p\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote we&#39;ve excluded Geoff because he wasn&#39;t in the CSV.\r\n\r\nAn alternative is to try matching each row of the incoming CSV at a time, which makes it easier to filter on multiple properties:\r\n\r\n```\r\nLOAD CSV WITH HEADERS FROM &#39;file:///names.csv&#39; AS line\r\nMATCH (p: Person) WHERE p.name = line.Name AND p.phone = line.Phone\r\nRETURN p\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/4NuNI.png",
          "link": "https://stackoverflow.com/questions/59016529/how-to-find-nodes-in-a-neo4j-database-based-on-a-large-list-of-names/59027654#59027654",
          "title": "How to find nodes in a neo4j database based on a large list of names"
        }
      ],
      "owner": {
        "reputation": 11,
        "user_id": 10899873,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2dacc349edcfa1dd4a1fbeb06288a9ad?s=128&d=identicon&r=PG&f=1",
        "display_name": "Sol",
        "link": "https://stackoverflow.com/users/10899873/sol"
      },
      "last_editor": {
        "reputation": 11,
        "user_id": 10899873,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2dacc349edcfa1dd4a1fbeb06288a9ad?s=128&d=identicon&r=PG&f=1",
        "display_name": "Sol",
        "link": "https://stackoverflow.com/users/10899873/sol"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 37,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574670249,
      "creation_date": 1574589826,
      "last_edit_date": 1574598647,
      "question_id": 59016529,
      "share_link": "https://stackoverflow.com/q/59016529",
      "body_markdown": "So I work with a neo4j database and I would like to find certain people in this database. People are stored as nodes and have certain properties and relationships to other nodes. Now I have a list (xlsm/csv file) of people I want to find. This list contains about 8000 names as well as other properties I could use for the query. \r\n\r\nI manage to search for nodes by using individual names from the list, for example:\r\n```\r\nMATCH (n)\r\n\r\nWHERE n.name = &#39;Peter&#39;\r\n\r\nRETURN n.name, n.age\r\n```\r\nI also understand that I can see if a property appears in a list of strings:\r\n```\r\nMATCH (a)\r\n\r\nWHERE a.name IN [&#39;Peter&#39;, &#39;Timothy&#39;]\r\n\r\nRETURN a.name, a.age\r\n```\r\nHowever, I cannot create a query by manually entering the thousands of names in the list. So what is the most efficient way to filter by the people I want to find?",
      "link": "https://stackoverflow.com/questions/59016529/how-to-find-nodes-in-a-neo4j-database-based-on-a-large-list-of-names",
      "title": "How to find nodes in a neo4j database based on a large list of names"
    },
    {
      "tags": [
        "kubernetes",
        "neo4j"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 366,
            "user_id": 11633487,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-KKVb-9IutOk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9Ozg4g9187cktBRDNJ2fHAoiiSw/mo/photo.jpg?sz=128",
            "display_name": "Ernesto U",
            "link": "https://stackoverflow.com/users/11633487/ernesto-u"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574867089,
          "creation_date": 1574867089,
          "answer_id": 59073086,
          "question_id": 59011921,
          "share_link": "https://stackoverflow.com/a/59073086",
          "body_markdown": "Here is a step by step guide to [configure ExternalDNS][1]\r\n\r\n**1.Create a DNS zone which will contain the managed DNS records.**\r\n\r\n    $ gcloud dns managed-zones create &quot;external-dns-test-gcp-zalan-do&quot; \\\r\n        --dns-name &quot;external-dns-test.gcp.zalan.do.&quot; \\\r\n        --description &quot;Automatically managed zone by kubernetes.io/external-dns&quot;\r\n\r\n**2.Make a note of the nameservers that were assigned to your new zone**\r\n\r\n    $ gcloud dns record-sets list \\\r\n        --zone &quot;external-dns-test-gcp-zalan-do&quot; \\\r\n        --name &quot;external-dns-test.gcp.zalan.do.&quot; \\\r\n        --type NS\r\n    NAME                             TYPE  TTL    DATA\r\n    external-dns-test.gcp.zalan.do.  NS    21600  ns-cloud-e1.googledomains.com.,ns-cloud-e2.googledomains.com.,ns-cloud-e3.googledomains.com.,ns-cloud-e4.googledomains.com.\r\n\r\nTell the parent zone where to find the DNS records for this zone by adding the corresponding NS records there. Assuming the parent zone is &quot;gcp-zalan-do&quot; and the domain is &quot;gcp.zalan.do&quot; and that it&#39;s also hosted at Google we would do the following.\r\n\r\nIn this case it&#39;s ns-cloud-{e1-e4}.googledomains.com. but your&#39;s could slightly differ, e.g. {a1-a4}, {b1-b4} etc.\r\n\r\nTell the parent zone where to find the DNS records for this zone by adding the corresponding NS records there. Assuming the parent zone is &quot;gcp-zalan-do&quot; and the domain is &quot;gcp.zalan.do&quot; and that it&#39;s also hosted at Google we would do the following.\r\n\r\n    $ gcloud dns record-sets transaction start --zone &quot;gcp-zalan-do&quot;\r\n    $ gcloud dns record-sets transaction add ns-cloud-e{1..4}.googledomains.com. \\\r\n        --name &quot;external-dns-test.gcp.zalan.do.&quot; --ttl 300 --type NS --zone &quot;gcp-zalan-do&quot;\r\n    $ gcloud dns record-sets transaction execute --zone &quot;gcp-zalan-do&quot;\r\n\r\n**3.Deploy ExternalDNS**\r\n\r\nBecause of the way Container Engine checks permissions when you create a Role or ClusterRole, you must first create a RoleBinding that grants you all of the permissions included in the role you want to create.\r\n\r\nkubectl create clusterrolebinding your-user-cluster-admin-binding --clusterrole=cluster-admin --user=your.google.cloud.email@example.org\r\n\r\nThen apply one of the following manifests file to deploy ExternalDNS.\r\n\r\n[Manifest (for clusters without RBAC enabled)][2]\r\n\r\n[Manifest (for clusters with RBAC enabled)][3]\r\n\r\nUse `--dry-run` if you want to be extra careful on the first run. Note, that you will not see any records created when you are running in dry-run mode. You can, however, inspect the logs and watch what would have been done.\r\n\r\nYou can verify if it works following [these instructions][4]\r\n\r\n\r\n  [1]: https://github.com/kubernetes-sigs/external-dns/blob/master/docs/tutorials/gke.md\r\n  [2]: https://github.com/kubernetes-sigs/external-dns/blob/master/docs/tutorials/gke.md#manifest-for-clusters-without-rbac-enabled\r\n  [3]: https://github.com/kubernetes-sigs/external-dns/blob/master/docs/tutorials/gke.md#manifest-for-clusters-with-rbac-enabled\r\n  [4]: https://github.com/kubernetes-sigs/external-dns/blob/master/docs/tutorials/gke.md#verify-externaldns-works",
          "link": "https://stackoverflow.com/questions/59011921/exposing-leader-node-on-neo4j-causal-cluster-on-gke/59073086#59073086",
          "title": "Exposing leader node on Neo4j Causal Cluster on GKE"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12422119,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/1e2be741384b572225315f2b947a33a6?s=128&d=identicon&r=PG&f=1",
        "display_name": "Andy",
        "link": "https://stackoverflow.com/users/12422119/andy"
      },
      "last_editor": {
        "reputation": 366,
        "user_id": 11633487,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-KKVb-9IutOk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9Ozg4g9187cktBRDNJ2fHAoiiSw/mo/photo.jpg?sz=128",
        "display_name": "Ernesto U",
        "link": "https://stackoverflow.com/users/11633487/ernesto-u"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 29,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574878839,
      "creation_date": 1574540744,
      "last_edit_date": 1574878839,
      "question_id": 59011921,
      "share_link": "https://stackoverflow.com/q/59011921",
      "body_markdown": "Per the limitations noted in the [user guide][1], some configuration is required to make bolt+routing accessible outside of the cluster.  I created the following configuration to allow an application on the internal network to access the nodes inside the cluster:\r\n\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: mygraph-neo4j-access\r\n  labels:\r\n    statefulset.kubernetes.io/pod-name: mygraph-neo4j-core-0\r\n  annotations:\r\n    cloud.google.com/load-balancer-type: &quot;Internal&quot;\r\nspec:\r\n  type: LoadBalancer\r\n  externalTrafficPolicy: Local\r\n  loadBalancerIP: 10.0.0.0\r\n  ports:\r\n    - name: http\r\n      port: 7474\r\n      targetPort: 7474\r\n    - name: https\r\n      port: 7473\r\n      targetPort: 7473\r\n    - name: bolt\r\n      port: 7687\r\n      targetPort: 7687\r\n  selector:\r\n    statefulset.kubernetes.io/pod-name: mygraph-neo4j-core-0\r\n```\r\n\r\nThis seems to work without issue, except if the node crashes and another node is assigned as the leader node.  In this case, the writes now point to a follower node and the write fails.\r\n\r\nAs a newcomer to GKE, I was wondering if there is a different label/selector that can be used to identify the leader node outside of the specific node name and if there isn&#39;t, what other methods could be used to identify the leader.\r\n\r\nThe documentation recommends assigning an externally valid DNS name to each node, but I&#39;m unclear how to do this and/or if this would actually solve the issue of identifying the leader node.\r\n\r\n  [1]: https://github.com/neo-technology/neo4j-google-k8s-marketplace/blob/3.5/user-guide/USER-GUIDE.md#limitations",
      "link": "https://stackoverflow.com/questions/59011921/exposing-leader-node-on-neo4j-causal-cluster-on-gke",
      "title": "Exposing leader node on Neo4j Causal Cluster on GKE"
    },
    {
      "tags": [
        "python-3.x",
        "dataframe",
        "join",
        "neo4j",
        "relationship"
      ],
      "owner": {
        "reputation": 161,
        "user_id": 1573594,
        "user_type": "registered",
        "accept_rate": 43,
        "profile_image": "https://www.gravatar.com/avatar/f809ab171962d176d3feb276e136a645?s=128&d=identicon&r=PG",
        "display_name": "Galileo",
        "link": "https://stackoverflow.com/users/1573594/galileo"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 10,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574529974,
      "creation_date": 1574529974,
      "question_id": 59010291,
      "share_link": "https://stackoverflow.com/q/59010291",
      "body_markdown": "I have multiple Dataframes in Python where the primary key in one DF is the secondary key in the other one. I would like to build a graph from these DF while optimising the join operation. Right now I am reading the whole Dataframes in Neo4j and then creating relationships between nodes. But it takes too long even with Indexing. Is there a better way to transform these DF into a Graph while constructing the relationships on the fly? Here is a snapshot of the data:\r\n\r\n[![DF1][1]][1]\r\n\r\n\r\n[![DF2][2]][2]\r\n\r\n\r\n[![DF3][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RtjKt.png\r\n  [2]: https://i.stack.imgur.com/5AAM8.png\r\n  [3]: https://i.stack.imgur.com/rCHVf.png",
      "link": "https://stackoverflow.com/questions/59010291/how-to-create-a-graph-from-multiple-python-dataframes-in-neo4j",
      "title": "How to create a graph from multiple Python Dataframes in Neo4j"
    },
    {
      "tags": [
        "javascript",
        "node.js",
        "neo4j",
        "promise"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 171,
                "user_id": 2853908,
                "user_type": "registered",
                "accept_rate": 50,
                "profile_image": "https://i.stack.imgur.com/gAeOh.jpg?s=128&g=1",
                "display_name": "Ashish",
                "link": "https://stackoverflow.com/users/2853908/ashish"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574539956,
              "post_id": 59010297,
              "comment_id": 104271292,
              "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs/59010297#comment104271292_59010297"
            },
            {
              "owner": {
                "reputation": 1489,
                "user_id": 6082280,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/G1OBp.jpg?s=128&g=1",
                "display_name": "ambianBeing",
                "link": "https://stackoverflow.com/users/6082280/ambianbeing"
              },
              "reply_to_user": {
                "reputation": 171,
                "user_id": 2853908,
                "user_type": "registered",
                "accept_rate": 50,
                "profile_image": "https://i.stack.imgur.com/gAeOh.jpg?s=128&g=1",
                "display_name": "Ashish",
                "link": "https://stackoverflow.com/users/2853908/ashish"
              },
              "edited": false,
              "score": 1,
              "creation_date": 1574541354,
              "post_id": 59010297,
              "comment_id": 104271642,
              "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs/59010297#comment104271642_59010297"
            },
            {
              "owner": {
                "reputation": 171,
                "user_id": 2853908,
                "user_type": "registered",
                "accept_rate": 50,
                "profile_image": "https://i.stack.imgur.com/gAeOh.jpg?s=128&g=1",
                "display_name": "Ashish",
                "link": "https://stackoverflow.com/users/2853908/ashish"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574542687,
              "post_id": 59010297,
              "comment_id": 104271992,
              "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs/59010297#comment104271992_59010297"
            },
            {
              "owner": {
                "reputation": 171,
                "user_id": 2853908,
                "user_type": "registered",
                "accept_rate": 50,
                "profile_image": "https://i.stack.imgur.com/gAeOh.jpg?s=128&g=1",
                "display_name": "Ashish",
                "link": "https://stackoverflow.com/users/2853908/ashish"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574542820,
              "post_id": 59010297,
              "comment_id": 104272024,
              "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs/59010297#comment104272024_59010297"
            },
            {
              "owner": {
                "reputation": 1489,
                "user_id": 6082280,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/G1OBp.jpg?s=128&g=1",
                "display_name": "ambianBeing",
                "link": "https://stackoverflow.com/users/6082280/ambianbeing"
              },
              "reply_to_user": {
                "reputation": 171,
                "user_id": 2853908,
                "user_type": "registered",
                "accept_rate": 50,
                "profile_image": "https://i.stack.imgur.com/gAeOh.jpg?s=128&g=1",
                "display_name": "Ashish",
                "link": "https://stackoverflow.com/users/2853908/ashish"
              },
              "edited": false,
              "score": 1,
              "creation_date": 1574593578,
              "post_id": 59010297,
              "comment_id": 104280430,
              "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs/59010297#comment104280430_59010297"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 1489,
            "user_id": 6082280,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/G1OBp.jpg?s=128&g=1",
            "display_name": "ambianBeing",
            "link": "https://stackoverflow.com/users/6082280/ambianbeing"
          },
          "comment_count": 5,
          "down_vote_count": 0,
          "up_vote_count": 2,
          "is_accepted": false,
          "score": 2,
          "last_activity_date": 1574530009,
          "creation_date": 1574530009,
          "answer_id": 59010297,
          "question_id": 59006994,
          "share_link": "https://stackoverflow.com/a/59010297",
          "body_markdown": "You aren&#39;t really returning a promise from `get4fomDb` (As the promise is handled there itself with `then/catch`).\r\n\r\n If this **`session.run(&#39;Match(n) return n&#39;);`** is a `promise` simply return it from `get4fomDb` and use `try/catch` and `await` in `contoller()`. Which makes the code more readable as well.\r\n\r\nAlso mixing patterns of `async/await` or `promise.then().catch()` is not really recommended, stick to one.\r\n\r\n    function get4fomDb() {\r\n      return session.run(&quot;Match(n) return n&quot;);\r\n    }\r\n    \r\n    async function controller() {\r\n      try {\r\n        let result = await get4fomDb();\r\n        console.log(&quot;Promise results::&quot;, result);\r\n      } catch (error) {\r\n        console.error(&quot;Error from db promise::&quot;, error);\r\n      } finally {\r\n        session.close();\r\n        driver.close();\r\n      }\r\n    }\r\n    \r\n    controller();",
          "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs/59010297#59010297",
          "title": "Result from database with promise is not returned properly in nodeJS"
        },
        {
          "tags": [],
          "owner": {
            "reputation": 171,
            "user_id": 2853908,
            "user_type": "registered",
            "accept_rate": 50,
            "profile_image": "https://i.stack.imgur.com/gAeOh.jpg?s=128&g=1",
            "display_name": "Ashish",
            "link": "https://stackoverflow.com/users/2853908/ashish"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1575338193,
          "creation_date": 1575338193,
          "answer_id": 59149156,
          "question_id": 59006994,
          "share_link": "https://stackoverflow.com/a/59149156",
          "body_markdown": "I Was able to close the Session Successfully in the same file :\r\n\r\nHere is the code of the Modal:\r\n```\r\nexports.registerNew = (input) =&gt; {\r\n\r\n\r\n    let query = &quot;CREATE n Return (n)&quot;;\r\n    \r\n\r\n    var session = driver.session();\r\n    return session.run(query).then(result =&gt; {\r\n        session.close()\r\n        driver.close()\r\n        return result\r\n    })\r\n}\r\n```",
          "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs/59149156#59149156",
          "title": "Result from database with promise is not returned properly in nodeJS"
        }
      ],
      "owner": {
        "reputation": 171,
        "user_id": 2853908,
        "user_type": "registered",
        "accept_rate": 50,
        "profile_image": "https://i.stack.imgur.com/gAeOh.jpg?s=128&g=1",
        "display_name": "Ashish",
        "link": "https://stackoverflow.com/users/2853908/ashish"
      },
      "last_editor": {
        "reputation": 8418,
        "user_id": 748546,
        "user_type": "registered",
        "accept_rate": 89,
        "profile_image": "https://www.gravatar.com/avatar/b242a1b528e98e1f2b059c9a39a94b5f?s=128&d=identicon&r=PG",
        "display_name": "Abishek",
        "link": "https://stackoverflow.com/users/748546/abishek"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 57,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 59149156,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1575338193,
      "creation_date": 1574507465,
      "last_edit_date": 1574531672,
      "question_id": 59006994,
      "share_link": "https://stackoverflow.com/q/59006994",
      "body_markdown": "I am trying to get the data from Db &quot;neo4j&quot;\r\n\r\nI have created a controller and a model.\r\nController calls the model and the model fetches the data from the DB.\r\n\r\nController is an async function which is awaiting for model function to give the data.\r\n\r\nModel is a promise which fetches the data from DB.\r\n\r\nResult in Model is correct, But result in controller is undefined. Please help.\r\n\r\n```js\r\n    var neo4j = require(&quot;neo4j-driver&quot;).v1;\r\n    \r\n    var driver = neo4j.driver(\r\n      &quot;bolt://localhost:7687&quot;,\r\n      neo4j.auth.basic(&quot;neo4j&quot;, &quot;password&quot;)\r\n    );\r\n    var session = driver.session();\r\n    \r\n    function get4fomDb() {\r\n      try {\r\n        resultPromise = session.run(&quot;Match(n) return n&quot;);\r\n        resultPromise.then(result =&gt; {\r\n          session.close();\r\n          driver.close();\r\n          console.log(&quot;MODEL RESULT : &quot;, result);\r\n          return result;\r\n        });\r\n        resultPromise.catch(function(err) {\r\n          console.log(&quot;===========ERROR in DB=====================&quot;);\r\n          console.log(&quot;ERROR : &quot;, err);\r\n          console.log(&quot;=========================================&quot;);\r\n          return err;\r\n        });\r\n      } catch (err) {\r\n        console.log(&quot;Error : &quot;, err);\r\n        return &quot;ERROR in CATCh&quot;;\r\n        // res.send(&quot;404 : Page not found &quot;)\r\n      } finally {\r\n      }\r\n    }\r\n    \r\n    async function controller() {\r\n      let result = await get4fomDb();\r\n      console.log(&quot;CONTROLLER RESULT : &quot;, result);\r\n    }\r\n    \r\n    controller();\r\n\r\n```\r\n\r\n**OUTPUT :**\r\n\r\n```bash\r\n[nodemon] starting `node .\\app.js`\r\nCONTROLLER RESULT :  undefined\r\nMODEL RESULT :  { records:\r\n   [ Record {\r\n       keys: [Array],\r\n       length: 1,\r\n       _fields: [Array],\r\n       _fieldLookup: [Object] },\r\n     Record {\r\n       keys: [Array],\r\n       length: 1,\r\n       _fields: [Array],\r\n       _fieldLookup: [Object] } ],\r\n  summary:\r\n   ResultSummary {\r\n     statement: { text: &#39;Match(n) return n&#39;, parameters: {} },\r\n     statementType: &#39;r&#39;,\r\n     counters: StatementStatistics { _stats: [Object] },\r\n     updateStatistics: StatementStatistics { _stats: [Object] },\r\n     plan: false,\r\n     profile: false,\r\n     notifications: [],\r\n     server:\r\n      ServerInfo { address: &#39;localhost:7687&#39;, version: &#39;Neo4j/3.5.12&#39; },\r\n     resultConsumedAfter: Integer { low: 0, high: 0 },\r\n     resultAvailableAfter: Integer { low: 0, high: 0 } } }\r\n```\r\n\r\n",
      "link": "https://stackoverflow.com/questions/59006994/result-from-database-with-promise-is-not-returned-properly-in-nodejs",
      "title": "Result from database with promise is not returned properly in nodeJS"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 41839,
                "user_id": 271357,
                "user_type": "registered",
                "accept_rate": 83,
                "profile_image": "https://www.gravatar.com/avatar/a75f1dc2860a12e7c7370f452bd0049a?s=128&d=identicon&r=PG",
                "display_name": "dacwe",
                "link": "https://stackoverflow.com/users/271357/dacwe"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574609988,
              "post_id": 59012311,
              "comment_id": 104284610,
              "link": "https://stackoverflow.com/questions/59006818/efficiently-getting-relationship-histogram-for-a-set-of-nodes/59012311#comment104284610_59012311"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 4,
          "is_accepted": true,
          "score": 4,
          "last_activity_date": 1574543570,
          "creation_date": 1574543570,
          "answer_id": 59012311,
          "question_id": 59006818,
          "share_link": "https://stackoverflow.com/a/59012311",
          "body_markdown": "There is no need for parallel queries, just the need to understand Cypher efficiency and how to use statistics.\r\n\r\nBit of background : \r\n\r\nUsing `count`, will execute an `expandAll`, which is as expensive as the number of relationships a node has\r\n\r\n```\r\nPROFILE\r\nMATCH (n) WHERE id(n) = 21\r\nMATCH (n)-[r]-(x)\r\nRETURN n, type(r), count(*)\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nUsing `size` and a relationship type, uses internally `getDegree` which is a statistic a node has locally, and thus is very efficient\r\n\r\n```\r\nPROFILE\r\nMATCH (n) WHERE id(n) = 0\r\nRETURN n, size((n)-[:SEARCH_RESULT]-())\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMorale of the story, for using `size` you need to know the relationship types a labeled node can have. So, you need to know the schema of the database ( in general you will want that, it makes things easily predictable and building dynamically efficient queries becomes a joy).\r\n\r\nBut let&#39;s assume you don&#39;t know the schema, you can use [APOC][3] cypher procedures, allowing you to build dynamic queries.\r\n\r\nThe flow is : \r\n\r\n1. Get all the relationship types from the database ( fast )\r\n2. Get the nodes from id list ( fast )\r\n3. Build dynamic queries using `size` ( fast )\r\n\r\n```\r\nCALL db.relationshipTypes() YIELD relationshipType\r\nWITH collect(relationshipType) AS types\r\nMATCH (n) WHERE id(n) IN [21, 0]\r\nUNWIND types AS type\r\nCALL apoc.cypher.run(&quot;RETURN size((n)-[:`&quot; + type + &quot;`]-()) AS count&quot;, {n: n})\r\nYIELD value\r\nRETURN id(n), type, value.count\r\n```\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOnit.png\r\n  [2]: https://i.stack.imgur.com/OK5q3.png\r\n  [3]: http://neo4j-contrib.github.io/neo4j-apoc-procedures/3.5/cypher-execution/running-cypher/\r\n  [4]: https://i.stack.imgur.com/QL3pv.png",
          "link": "https://stackoverflow.com/questions/59006818/efficiently-getting-relationship-histogram-for-a-set-of-nodes/59012311#59012311",
          "title": "Efficiently getting relationship histogram for a set of nodes"
        }
      ],
      "owner": {
        "reputation": 41839,
        "user_id": 271357,
        "user_type": "registered",
        "accept_rate": 83,
        "profile_image": "https://www.gravatar.com/avatar/a75f1dc2860a12e7c7370f452bd0049a?s=128&d=identicon&r=PG",
        "display_name": "dacwe",
        "link": "https://stackoverflow.com/users/271357/dacwe"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 83,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 2,
      "accepted_answer_id": 59012311,
      "answer_count": 1,
      "score": 2,
      "last_activity_date": 1574543570,
      "creation_date": 1574506337,
      "question_id": 59006818,
      "share_link": "https://stackoverflow.com/q/59006818",
      "body_markdown": "**Background**\r\n\r\nI want to create a histogram of the relationships starting from a set of nodes.\r\nInput is a set of node ids, for example `set = [ id_0, id_1, id_2, id_3, ... id_n ]`.\r\nThe output is a the relationship type histogram for each node (e.g. `Map&lt;Long, Map&lt;String, Long&gt;&gt;`):\r\n\r\n    id_0:\r\n    - ACTED_IN: 14\r\n    - DIRECTED: 1\r\n\r\n    id_1:\r\n    - DIRECTED: 12\r\n    - WROTE: 5\r\n    - ACTED_IN: 2\r\n\r\n    id_2:\r\n    ...\r\n\r\nThe current cypher query I&#39;ve written is:\r\n\r\n    MATCH (n)-[r]-()\r\n    WHERE id(n) IN [ id_0, id_1, id_2, id_3, ... id_n ] # set\r\n    RETURN id(n) as id, type(r) as type, count(r) as count\r\n\r\nIt returns the pair of `[ id, type ]` count like:\r\n\r\n    id   |  rel type  | count\r\n    id0  |  ACTED_IN  |    14\r\n    id0  |  DIRECTED  |     1\r\n    id1  |  DIRECTED  |    12\r\n    id1  |  WROTE     |     5\r\n    id1  |  ACTED_IN  |     2\r\n    ...\r\n\r\nThe result is collected using java and merged to the first structure (e.g. `Map&lt;Long, Map&lt;String, Long&gt;&gt;`).\r\n\r\n**Problem**\r\n\r\nGetting the relationship histogram on smaller graphs is fast but can be very slow on bigger datasets. For example if I want to create the histogram where the `set`-size is about 100 ids/nodes and each of those nodes have around 1000 relationships the cypher query took about 5 minutes to execute.\r\n\r\n1. Is there more efficient way to collect the histogram for a set of nodes?\r\n2. Could this query be parallelized? (With java code or using `UNION`?)\r\n3. Is something wrong with how I set up my neo4j database, should these queries be this slow?\r\n",
      "link": "https://stackoverflow.com/questions/59006818/efficiently-getting-relationship-histogram-for-a-set-of-nodes",
      "title": "Efficiently getting relationship histogram for a set of nodes"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 9,
            "user_id": 12401510,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/2a14f950eb1b42ed58ab0b30e409b37b?s=128&d=identicon&r=PG&f=1",
            "display_name": "54ba",
            "link": "https://stackoverflow.com/users/12401510/54ba"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574513761,
          "creation_date": 1574513761,
          "answer_id": 59007850,
          "question_id": 59006390,
          "share_link": "https://stackoverflow.com/a/59007850",
          "body_markdown": "so i had to use `SIZE` because it&#39;s a list but i don&#39;t know why it&#39;s a list, if anyone could explain",
          "link": "https://stackoverflow.com/questions/59006390/getting-incorrect-count-when-counting-a-collection/59007850#59007850",
          "title": "getting incorrect count when counting a collection"
        },
        {
          "comments": [
            {
              "owner": {
                "reputation": 9,
                "user_id": 12401510,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/2a14f950eb1b42ed58ab0b30e409b37b?s=128&d=identicon&r=PG&f=1",
                "display_name": "54ba",
                "link": "https://stackoverflow.com/users/12401510/54ba"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574883579,
              "post_id": 59042630,
              "comment_id": 104391885,
              "link": "https://stackoverflow.com/questions/59006390/getting-incorrect-count-when-counting-a-collection/59042630#comment104391885_59042630"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": true,
          "score": 0,
          "last_activity_date": 1574734230,
          "last_edit_date": 1574734230,
          "creation_date": 1574733528,
          "answer_id": 59042630,
          "question_id": 59006390,
          "share_link": "https://stackoverflow.com/a/59042630",
          "body_markdown": "First of all, this query should be a more efficient way to get the common genres for every relevant user pair (assuming the user nodes have a `User` label):\r\n\r\n    MATCH\r\n      (user:User {displayName:&#39;Mahmoud&#39;})-[:LIKES]-&gt;(:ARTIST)-[:PLAYS]-&gt;(genre),\r\n      (other:User)-[:LIKES]-(:ARTIST)-[:PLAYS]-&gt;(genre)\r\n    WITH user, other, COLLECT(DISTINCT genre) AS common_genres\r\n    RETURN user, other, common_genres, SIZE(common_genres) AS genre_count\r\n\r\nWhen a `WITH` or `RETURN` clause uses an [aggregating function](https://neo4j.com/docs/developer-manual/current/cypher/functions/aggregating/) (like `COUNT`), the non-aggregating terms in the same clause are used as &quot;grouping keys&quot;. So `RETURN x, COUNT(x)` is equivalent to asking &quot;for each distinct x, how many x&#39;s are there&quot;? Obviously, the answer will always be 1 (unless `x` is `null`).\r\n\r\n`SIZE` is not an aggregating function, so it returned what you expected.",
          "link": "https://stackoverflow.com/questions/59006390/getting-incorrect-count-when-counting-a-collection/59042630#59042630",
          "title": "getting incorrect count when counting a collection"
        }
      ],
      "owner": {
        "reputation": 9,
        "user_id": 12401510,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2a14f950eb1b42ed58ab0b30e409b37b?s=128&d=identicon&r=PG&f=1",
        "display_name": "54ba",
        "link": "https://stackoverflow.com/users/12401510/54ba"
      },
      "last_editor": {
        "reputation": 46884,
        "user_id": 974731,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name": "cybersam",
        "link": "https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 24,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 59042630,
      "answer_count": 2,
      "score": 0,
      "last_activity_date": 1574734230,
      "creation_date": 1574502749,
      "last_edit_date": 1574734058,
      "question_id": 59006390,
      "share_link": "https://stackoverflow.com/q/59006390",
      "body_markdown": "this is my query \r\n\r\n    match ( user{displayName:&#39;Mahmoud&#39;})-[:LIKES]-&gt;(artists:ARTIST)-[:PLAYS]-&gt;(genres) with \r\n    user,collect(distinct genres) as user_genres\r\n    match(users)-[:LIKES]-(artists:ARTIST)-[:PLAYS]-&gt;(common_genres) where common_genres in user_genres\r\n    with user,users,collect( distinct common_genres) as coll_common_genres\r\n    return user,users,coll_common_genres, count(coll_common_genres)\r\n\r\nwhen counting the collection which in result coll_common_genres is 6 entries the common_genres_count gives me 1 and sometimes 4 what is the problem\r\n[image of output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D2nkb.png",
      "link": "https://stackoverflow.com/questions/59006390/getting-incorrect-count-when-counting-a-collection",
      "title": "getting incorrect count when counting a collection"
    },
    {
      "tags": [
        "neo4j",
        "apache-kafka"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 3733,
                "user_id": 2626491,
                "user_type": "registered",
                "accept_rate": 77,
                "profile_image": "https://i.stack.imgur.com/UUSae.jpg?s=128&g=1",
                "display_name": "Alex Woolford",
                "link": "https://stackoverflow.com/users/2626491/alex-woolford"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574650566,
              "post_id": 59016559,
              "comment_id": 104294108,
              "link": "https://stackoverflow.com/questions/59005675/how-to-add-labels-when-ingesting-data-into-neo4j-from-kafka-with-neo4j-streams/59016559#comment104294108_59016559"
            },
            {
              "owner": {
                "reputation": 3733,
                "user_id": 2626491,
                "user_type": "registered",
                "accept_rate": 77,
                "profile_image": "https://i.stack.imgur.com/UUSae.jpg?s=128&g=1",
                "display_name": "Alex Woolford",
                "link": "https://stackoverflow.com/users/2626491/alex-woolford"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574705546,
              "post_id": 59016559,
              "comment_id": 104318395,
              "link": "https://stackoverflow.com/questions/59005675/how-to-add-labels-when-ingesting-data-into-neo4j-from-kafka-with-neo4j-streams/59016559#comment104318395_59016559"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 16103,
            "user_id": 2662355,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name": "Christophe Willemsen",
            "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count": 2,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1574590176,
          "creation_date": 1574590176,
          "answer_id": 59016559,
          "question_id": 59005675,
          "share_link": "https://stackoverflow.com/a/59016559",
          "body_markdown": "Labels cannot be set from a variable, or you will have to use [APOC][1] .\r\n\r\nI suggest to read the Neo4j naming rules and recommendations : https://neo4j.com/docs/cypher-manual/current/syntax/naming/\r\n\r\nSecondly, can you describe why you would like to set the IP as a label ? This doesn&#39;t make a lot of sense to be honest.\r\n\r\n\r\n  [1]: https://neo4j.com/docs/labs/apoc/current/graph-updates/data-creation/",
          "link": "https://stackoverflow.com/questions/59005675/how-to-add-labels-when-ingesting-data-into-neo4j-from-kafka-with-neo4j-streams/59016559#59016559",
          "title": "how to add labels when ingesting data into neo4j from Kafka with neo4j-streams?"
        }
      ],
      "owner": {
        "reputation": 3733,
        "user_id": 2626491,
        "user_type": "registered",
        "accept_rate": 77,
        "profile_image": "https://i.stack.imgur.com/UUSae.jpg?s=128&g=1",
        "display_name": "Alex Woolford",
        "link": "https://stackoverflow.com/users/2626491/alex-woolford"
      },
      "last_editor": {
        "reputation": 3733,
        "user_id": 2626491,
        "user_type": "registered",
        "accept_rate": 77,
        "profile_image": "https://i.stack.imgur.com/UUSae.jpg?s=128&g=1",
        "display_name": "Alex Woolford",
        "link": "https://stackoverflow.com/users/2626491/alex-woolford"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 20,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574590176,
      "creation_date": 1574496082,
      "last_edit_date": 1574496977,
      "question_id": 59005675,
      "share_link": "https://stackoverflow.com/q/59005675",
      "body_markdown": "I have a stream of Kafka messages that look like this:\r\n\r\n    {\r\n      &quot;ts&quot;: 1574487125808,\r\n      &quot;uid&quot;: &quot;Cxxzpx3A12ai2Ckn4f&quot;,\r\n      &quot;id_orig_h&quot;: &quot;10.0.1.19&quot;,\r\n      &quot;id_orig_p&quot;: 53312,\r\n      &quot;id_resp_h&quot;: &quot;10.0.1.16&quot;,\r\n      &quot;id_resp_p&quot;: 8080,\r\n      &quot;proto&quot;: &quot;tcp&quot;,\r\n      &quot;service&quot;: &quot;http&quot;,\r\n      &quot;duration&quot;: 9.636139154434204,\r\n      &quot;orig_bytes&quot;: 760,\r\n      &quot;resp_bytes&quot;: 220,\r\n      &quot;conn_state&quot;: &quot;SF&quot;,\r\n      &quot;local_orig&quot;: true,\r\n      &quot;local_resp&quot;: true,\r\n      &quot;missed_bytes&quot;: 0,\r\n      &quot;history&quot;: &quot;ShADadfF&quot;,\r\n      &quot;orig_pkts&quot;: 6,\r\n      &quot;orig_ip_bytes&quot;: 1080,\r\n      &quot;resp_pkts&quot;: 5,\r\n      &quot;resp_ip_bytes&quot;: 488\r\n    }\r\n\r\nI&#39;m using the [neo4j-streams][1] (v.3.5.4) consumer to build a graph of the messages. Neo4j version is v.3.5.12. I added this to `neo4j.conf`:\r\n\r\n    streams.sink.enabled=true \r\n    streams.sink.topic.cypher.conn=MERGE (origin:Origin {id: event.id_orig_h}) MERGE (response:Response {id: event.id_resp_h}) MERGE (origin)-[:CONNECTED_TO]-&gt;(response) \r\n\r\n\r\n... and it builds the graph. Great!\r\n\r\n\r\nI&#39;d like to add the ip address labels to the nodes, and am struggling to get that bit working. I&#39;ve tried adding `SET` commands, e.g.\r\n\r\n    streams.sink.topic.cypher.conn=MERGE (origin:Origin {id: event.id_orig_h}) SET origin:event.id_orig_h MERGE (response:Response {id: event.id_resp_h}) SET response:event.id_resp_h MERGE (origin)-[:CONNECTED_TO]-&gt;(response) \r\n\r\n\r\nWhich resulted in the following error:\r\n\r\n    ErrorData(originalTopic=conn, timestamp=1574493915864, partition=0, offset=617872, exception=org.neo4j.graphdb.QueryExecutionException: Invalid input &#39;.&#39;: expected an identifier character, whitespace, NodeLabel, a property map, a relationship pattern, &#39;,&#39;, FROM GRAPH, CONSTRUCT, LOAD CSV, START, MATCH, UNWIND, MERGE, CREATE UNIQUE, CREATE, SET, DELETE, REMOVE, FOREACH, WITH, CALL, RETURN, UNION, &#39;;&#39; or end of input (line 1, column 86 (offset: 85))\r\n    &quot;UNWIND {events} AS event MERGE (origin:Origin {id: event.id_orig_h}) SET origin:event.id_orig_h MERGE (response:Response {id: event.id_resp_h}) SET response:event.id_resp_h MERGE (origin)-[:CONNECTED_TO]-&gt;(response) &quot;\r\n                                                                                          ^, key=null, value={&quot;ts&quot;:1574493904862,&quot;uid&quot;:&quot;C04y9u1KAZfAIHVVu&quot;,&quot;id_orig_h&quot;:&quot;10.0.1.61&quot;,&quot;id_orig_p&quot;:53790,&quot;id_resp_h&quot;:&quot;10.0.1.1&quot;,&quot;id_resp_p&quot;:53,&quot;proto&quot;:&quot;udp&quot;,&quot;service&quot;:&quot;dns&quot;,&quot;duration&quot;:0.0001399517059326172,&quot;orig_bytes, executingClass=class streams.kafka.KafkaAutoCommitEventConsumer)\r\n            at streams.service.errors.KafkaErrorService.report(KafkaErrorService.kt:37)\r\n            at streams.kafka.KafkaAutoCommitEventConsumer.executeAction(KafkaAutoCommitEventConsumer.kt:95)\r\n            at streams.kafka.KafkaAutoCommitEventConsumer.readSimple(KafkaAutoCommitEventConsumer.kt:85)\r\n            at streams.kafka.KafkaAutoCommitEventConsumer.read(KafkaAutoCommitEventConsumer.kt:132)\r\n            at streams.kafka.KafkaEventSink$createJob$1.invokeSuspend(KafkaEventSink.kt:95)\r\n            at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:32)\r\n            at kotlinx.coroutines.DispatchedTask$DefaultImpls.run(Dispatched.kt:235)\r\n            at kotlinx.coroutines.AbstractContinuation.run(AbstractContinuation.kt:19)\r\n            at kotlinx.coroutines.scheduling.Task.run(Tasks.kt:94)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:586)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\r\n            at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:732)\r\n\r\n\r\nIt looks like I&#39;ve butchered the `SET` command. I&#39;ve tried various permutations in the `SET` section, e.g. no `event` prefix, escaping the period after `event`, and removing the `event.` entirely.\r\n\r\nCan you see what I&#39;m doing wrong?\r\n\r\n\r\n  [1]: https://neo4j.com/docs/labs/neo4j-streams/3.5/consumer/",
      "link": "https://stackoverflow.com/questions/59005675/how-to-add-labels-when-ingesting-data-into-neo4j-from-kafka-with-neo4j-streams",
      "title": "how to add labels when ingesting data into neo4j from Kafka with neo4j-streams?"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 1061,
                "user_id": 448967,
                "user_type": "registered",
                "accept_rate": 25,
                "profile_image": "https://www.gravatar.com/avatar/79b84e97fab1f1e001a0f9e22a1ae326?s=128&d=identicon&r=PG",
                "display_name": "Adgezaza",
                "link": "https://stackoverflow.com/users/448967/adgezaza"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574459439,
              "post_id": 59001790,
              "comment_id": 104254716,
              "link": "https://stackoverflow.com/questions/59000726/neo4j-match-then-merge-statement-with-a-relationship-not-creating-new-nodes/59001790#comment104254716_59001790"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 22983,
            "user_id": 92359,
            "user_type": "registered",
            "accept_rate": 94,
            "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
            "display_name": "InverseFalcon",
            "link": "https://stackoverflow.com/users/92359/inversefalcon"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1574456967,
          "creation_date": 1574456967,
          "answer_id": 59001790,
          "question_id": 59000726,
          "share_link": "https://stackoverflow.com/a/59001790",
          "body_markdown": "Looks like the :Identity node you&#39;re trying to match to doesn&#39;t exist in the graph.\r\n\r\nFrom your query, you&#39;re looking for an identity node with id:&#39;4a028061-8dde-4f64-80c9-ae048e3f81fc&#39;, but in the graph image you supplied, if we assume the cut off caption is the id of the identity node, we can tell it starts with:&#39;44b7&#39;\r\n\r\nNow it could be that the node you&#39;re trying to match on does exist, but doesn&#39;t have any outgoing :ATTR relationship (that would explain why it wouldn&#39;t be returned by your query), but that&#39;s unconfirmed. Does a node with id:&#39;4a028061-8dde-4f64-80c9-ae048e3f81fc&#39; exist in your graph? You haven&#39;t shown us that, and if no such node exists then the match would fail, and then there are no rows left for the remaining MERGEs to execute upon.",
          "link": "https://stackoverflow.com/questions/59000726/neo4j-match-then-merge-statement-with-a-relationship-not-creating-new-nodes/59001790#59001790",
          "title": "Neo4j - Match then merge statement with a relationship not creating new nodes"
        }
      ],
      "owner": {
        "reputation": 1061,
        "user_id": 448967,
        "user_type": "registered",
        "accept_rate": 25,
        "profile_image": "https://www.gravatar.com/avatar/79b84e97fab1f1e001a0f9e22a1ae326?s=128&d=identicon&r=PG",
        "display_name": "Adgezaza",
        "link": "https://stackoverflow.com/users/448967/adgezaza"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 24,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 59001790,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574456967,
      "creation_date": 1574451527,
      "question_id": 59000726,
      "share_link": "https://stackoverflow.com/q/59000726",
      "body_markdown": "When I try to add new nodes with labels (`Phone`, `Name`)  that don&#39;t exist yet with a relationship to an existing node the nodes and relationships are not being created.\r\n\r\nThis is the before and after state with one existing relationship:\r\n\r\n`MATCH (n:Identity)-[a:ATTR]-&gt;(attr) RETURN *`\r\n\r\n[![graph][1]][1]\r\n\r\nAnd this is the mutation query:\r\n\r\n```\r\nMATCH (n:Identity {id:&#39;4a028061-8dde-4f64-80c9-ae048e3f81fc&#39;})\r\nMERGE (n)-[na:ATTR]-&gt;(name:Name {val: &#39;John Smith&#39;})\r\nMERGE (n)-[pa:ATTR]-&gt;(p:Phone {val:2326410083})\r\nRETURN *\r\n```\r\n\r\nI know this question is similar to https://stackoverflow.com/questions/53557715/neo4j-merge-statement-not-creating-new-nodes-with-a-relationship but, in my case, I am using filters on the nodes. What&#39;s am I missing?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xp8hb.png",
      "link": "https://stackoverflow.com/questions/59000726/neo4j-match-then-merge-statement-with-a-relationship-not-creating-new-nodes",
      "title": "Neo4j - Match then merge statement with a relationship not creating new nodes"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 22983,
            "user_id": 92359,
            "user_type": "registered",
            "accept_rate": 94,
            "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
            "display_name": "InverseFalcon",
            "link": "https://stackoverflow.com/users/92359/inversefalcon"
          },
          "edited": false,
          "score": 2,
          "creation_date": 1574444941,
          "post_id": 58998216,
          "comment_id": 104248991,
          "link": "https://stackoverflow.com/questions/58998216/neo4j-cypher-filtering-path-variables#comment104248991_58998216"
        },
        {
          "owner": {
            "reputation": 1748,
            "user_id": 677173,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name": "Pablissimo",
            "link": "https://stackoverflow.com/users/677173/pablissimo"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574848504,
          "post_id": 58998216,
          "comment_id": 104373152,
          "link": "https://stackoverflow.com/questions/58998216/neo4j-cypher-filtering-path-variables#comment104373152_58998216"
        },
        {
          "owner": {
            "reputation": 175,
            "user_id": 1500698,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/79efeab7b448b8acf28411a68d7774e7?s=128&d=identicon&r=PG",
            "display_name": "Yuval",
            "link": "https://stackoverflow.com/users/1500698/yuval"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575383022,
          "post_id": 58998216,
          "comment_id": 104542623,
          "link": "https://stackoverflow.com/questions/58998216/neo4j-cypher-filtering-path-variables#comment104542623_58998216"
        }
      ],
      "owner": {
        "reputation": 175,
        "user_id": 1500698,
        "user_type": "registered",
        "accept_rate": 100,
        "profile_image": "https://www.gravatar.com/avatar/79efeab7b448b8acf28411a68d7774e7?s=128&d=identicon&r=PG",
        "display_name": "Yuval",
        "link": "https://stackoverflow.com/users/1500698/yuval"
      },
      "last_editor": {
        "reputation": 22983,
        "user_id": 92359,
        "user_type": "registered",
        "accept_rate": 94,
        "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
        "display_name": "InverseFalcon",
        "link": "https://stackoverflow.com/users/92359/inversefalcon"
      },
      "comment_count": 3,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 36,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574444874,
      "creation_date": 1574440101,
      "last_edit_date": 1574444874,
      "question_id": 58998216,
      "share_link": "https://stackoverflow.com/q/58998216",
      "body_markdown": "The following query returns a path, the goal is to filter the results by the date on the `acted_in` relationship:\r\n\r\n```\r\nMATCH path = ((n:actor)-[t:acted_in]-&gt;(g:movie)-[k:won_award]-&gt;(i:award)) \r\nWHERE n.actor_name=&quot;John&quot; AND g.movie=&quot;Some Movie&quot; AND i.award=&quot;Best Movie&quot;\r\nAND &#39;2019-11-22T13:12:51+00:00&#39; &lt;= t.date &lt;= &#39;2019-11-22T14:13:53+00:00&#39; and &#39;2019-11-22T13:12:51+00:00&#39; &lt;= k.date &lt;= &#39;2019-11-22T14:13:53+00:00&#39; \r\nRETURN nodes(path), relationships(path)\r\n```\r\n\r\nBut it seems that the filtering by date has no effect when returning a path variable - it returns **ALL** the paths between the two nodes.\r\n\r\nIs there a way to do this? ",
      "link": "https://stackoverflow.com/questions/58998216/neo4j-cypher-filtering-path-variables",
      "title": "NEO4J Cypher - filtering path variables"
    },
    {
      "tags": [
        "shell",
        "graph",
        "neo4j",
        "jar",
        "cypher"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 1886,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574433156,
          "post_id": 58995955,
          "comment_id": 104242965,
          "link": "https://stackoverflow.com/questions/58995955/neo4j-i-try-to-load-data-with-a-query-into-a-jar-but-the-command-periodic-comm#comment104242965_58995955"
        },
        {
          "owner": {
            "reputation": 93,
            "user_id": 10623578,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/3895b6967fe45b3726923c00041487f3?s=128&d=identicon&r=PG&f=1",
            "display_name": "raf",
            "link": "https://stackoverflow.com/users/10623578/raf"
          },
          "reply_to_user": {
            "reputation": 1886,
            "user_id": 6692895,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name": "Tomaž Bratanič",
            "link": "https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574434136,
          "post_id": 58995955,
          "comment_id": 104243510,
          "link": "https://stackoverflow.com/questions/58995955/neo4j-i-try-to-load-data-with-a-query-into-a-jar-but-the-command-periodic-comm#comment104243510_58995955"
        },
        {
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574472057,
          "post_id": 58995955,
          "comment_id": 104257489,
          "link": "https://stackoverflow.com/questions/58995955/neo4j-i-try-to-load-data-with-a-query-into-a-jar-but-the-command-periodic-comm#comment104257489_58995955"
        }
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 703,
            "user_id": 3952697,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5b9381fc68822495267b10ec0cae2573?s=128&d=identicon&r=PG&f=1",
            "display_name": "Dave Fauth",
            "link": "https://stackoverflow.com/users/3952697/dave-fauth"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1574516965,
          "creation_date": 1574516965,
          "answer_id": 59008329,
          "question_id": 58995955,
          "share_link": "https://stackoverflow.com/a/59008329",
          "body_markdown": "I believe that the USING PERIODIC COMMIT is adding another transaction which the jar file will not like. You can look at an example like: https://maxdemarzi.com/2017/12/13/stored-procedure-to-import-data/ for some ideas.",
          "link": "https://stackoverflow.com/questions/58995955/neo4j-i-try-to-load-data-with-a-query-into-a-jar-but-the-command-periodic-comm/59008329#59008329",
          "title": "Neo4J: I try to load data with a query into a jar but the command &#39;periodic commit&#39; doesn&#39;t work, how could I do to load data with a periodic commit?"
        }
      ],
      "owner": {
        "reputation": 93,
        "user_id": 10623578,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3895b6967fe45b3726923c00041487f3?s=128&d=identicon&r=PG&f=1",
        "display_name": "raf",
        "link": "https://stackoverflow.com/users/10623578/raf"
      },
      "comment_count": 3,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 26,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 59008329,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574516965,
      "creation_date": 1574431769,
      "question_id": 58995955,
      "share_link": "https://stackoverflow.com/q/58995955",
      "body_markdown": "I try to load data from a csv with a query into a jar but the &#39;periodic commit&#39; doesn&#39;t work:\r\n\r\n    USING PERIODIC COMMIT 1000 LOAD CSV with headers from &#39;file:///file_name.csv&#39; as row fieldterminator \r\n    &#39;|&#39; WITH row\r\n    MERGE .....\r\n\r\nThis query works from shell, doesn&#39;t work only in a jar.\r\n\r\nFor it to work in a jar, I need to delete the command: USING PERIODIC COMMIT 1000.\r\n\r\nDoes anyone have any ideas for uploading data from a CSV with a periodic commit?",
      "link": "https://stackoverflow.com/questions/58995955/neo4j-i-try-to-load-data-with-a-query-into-a-jar-but-the-command-periodic-comm",
      "title": "Neo4J: I try to load data with a query into a jar but the command &#39;periodic commit&#39; doesn&#39;t work, how could I do to load data with a periodic commit?"
    },
    {
      "tags": [
        "ruby",
        "database",
        "security",
        "ssl",
        "neo4j"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 171,
            "user_id": 8473090,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5223239b07ed6d2973303de7534e8e1f?s=128&d=identicon&r=PG&f=1",
            "display_name": "Lju",
            "link": "https://stackoverflow.com/users/8473090/lju"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1575457646,
          "post_id": 58993742,
          "comment_id": 104570978,
          "link": "https://stackoverflow.com/questions/58993742/connecting-to-neo4j-from-ruby#comment104570978_58993742"
        }
      ],
      "owner": {
        "reputation": 127,
        "user_id": 2054509,
        "user_type": "registered",
        "accept_rate": 80,
        "profile_image": "https://www.gravatar.com/avatar/368eb7b173d289c96cd5b030111c9a67?s=128&d=identicon&r=PG",
        "display_name": "Alper Mermer",
        "link": "https://stackoverflow.com/users/2054509/alper-mermer"
      },
      "comment_count": 1,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 36,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "bounty_amount": 50,
      "bounty_closes_date": 1575970212,
      "answer_count": 0,
      "score": 1,
      "last_activity_date": 1575365412,
      "creation_date": 1574423596,
      "question_id": 58993742,
      "share_link": "https://stackoverflow.com/q/58993742",
      "body_markdown": "Currently I&#39;m having problems connecting to a local neo4j instance with Ruby. I have the mac version of neo4j desktop running. My ruby version is 2.6.5 and gem versions:\r\nneo4j (9.6.0)\r\nneo4j-core (9.0.0)\r\n\r\nHere is the code that I use;\r\n\r\n```require &#39;neo4j/core/cypher_session/adaptors/http&#39;\r\n\r\nuser = &#39;neo4j&#39;\r\npass = &#39;asdf1234&#39;\r\nurl = &quot;https://localhost:7473&quot;\r\noptions = {user: user, pass: pass}\r\n\r\nneo4j_adaptor = Neo4j::Core::CypherSession::Adaptors::HTTP.new(url, options)\r\nneo4j_session = Neo4j::Core::CypherSession.new(neo4j_adaptor)\r\nresult = neo4j_session.query(&quot;MATCH (n:blah) RETURN count(n)&quot;)\r\n```\r\n\r\nThe error I get is:\r\n```\r\nNeo4j::Core::CypherSession::ConnectionFailedError: Faraday::ConnectionFailed: SSL peer certificate or SSH remote key was not OK\r\n```\r\nWhen I add the no ssl option like this, the error is the same\r\n```\r\noptions = {ssl: false, user: user, pass: pass}\r\n```\r\nWhen I switch to bolt like this:\r\n```\r\nrequire &#39;neo4j/core/cypher_session/adaptors/bolt&#39;\r\n\r\nuser = &#39;neo4j&#39;\r\npass = &#39;asdf1234&#39;\r\nurl = &quot;bolt://localhost:7687&quot;\r\n\r\noptions = {user: user, pass: pass}\r\n\r\nneo4j_adaptor = Neo4j::Core::CypherSession::Adaptors::Bolt.new(url, options)\r\nneo4j_session = Neo4j::Core::CypherSession.new(neo4j_adaptor)\r\nresult = neo4j_session.query(&quot;MATCH (n:blah) RETURN count(n)&quot;)\r\n```\r\nThe error becomes:\r\n```\r\nNet::TCPClient::ConnectionFailure: #connect Failed to connect to any of localhost:7687 after 0 retries. Net::TCPClient::ConnectionFailure: #connect SSL handshake failure with &#39;localhost[127.0.0.1]:7687&#39;: OpenSSL::SSL::SSLError: SSL_connect returned=1 errno=0 state=error: certificate verify failed (self signed certificate)\r\n```\r\nWhen I switch the ssl false on \r\n```\r\noptions = {ssl: false, user: user, pass: pass}\r\n```\r\nThe error changes\r\n```\r\nRuntimeError: Init did not complete successfully\r\n\r\nNeo.ClientError.Security.Unauthorized\r\nThe client is unauthorized due to authentication failure.\r\n```\r\nMy graph settings are set to default with only these options being enabled:\r\n```\r\ndbms.memory.heap.initial_size=512m\r\ndbms.memory.heap.max_size=1G\r\ndbms.memory.pagecache.size=512m\r\ndbms.connector.bolt.enabled=true\r\ndbms.connector.http.enabled=true\r\ndbms.jvm.additional=-XX:+UseG1GC\r\ndbms.jvm.additional=-XX:-OmitStackTraceInFastThrow\r\ndbms.jvm.additional=-XX:+AlwaysPreTouch\r\ndbms.jvm.additional=-XX:+UnlockExperimentalVMOptions\r\ndbms.jvm.additional=-XX:+TrustFinalNonStaticFields\r\ndbms.jvm.additional=-XX:+DisableExplicitGC\r\ndbms.jvm.additional=-Djdk.tls.ephemeralDHKeySize=2048\r\ndbms.jvm.additional=-Djdk.tls.rejectClientInitiatedRenegotiation=true\r\ndbms.windows_service_name=neo4j\r\ndbms.jvm.additional=-Dunsupported.dbms.udc.source=desktop\r\n```\r\nAny ideas please?",
      "link": "https://stackoverflow.com/questions/58993742/connecting-to-neo4j-from-ruby",
      "title": "Connecting to neo4j from ruby"
    },
    {
      "tags": [
        "neo4j",
        "cluster-computing"
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 22983,
                "user_id": 92359,
                "user_type": "registered",
                "accept_rate": 94,
                "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
                "display_name": "InverseFalcon",
                "link": "https://stackoverflow.com/users/92359/inversefalcon"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574448000,
              "post_id": 58999418,
              "comment_id": 104250322,
              "link": "https://stackoverflow.com/questions/58987243/why-ha-cluster-have-been-deprecated-in-neo4j-4-0/58999418#comment104250322_58999418"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 22983,
            "user_id": 92359,
            "user_type": "registered",
            "accept_rate": 94,
            "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
            "display_name": "InverseFalcon",
            "link": "https://stackoverflow.com/users/92359/inversefalcon"
          },
          "last_editor": {
            "reputation": 22983,
            "user_id": 92359,
            "user_type": "registered",
            "accept_rate": 94,
            "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
            "display_name": "InverseFalcon",
            "link": "https://stackoverflow.com/users/92359/inversefalcon"
          },
          "comment_count": 1,
          "down_vote_count": 0,
          "up_vote_count": 0,
          "is_accepted": false,
          "score": 0,
          "last_activity_date": 1574447890,
          "last_edit_date": 1574447890,
          "creation_date": 1574445251,
          "answer_id": 58999418,
          "question_id": 58987243,
          "share_link": "https://stackoverflow.com/a/58999418",
          "body_markdown": "Answering as a Neo4j employee.\r\n\r\nPerhaps this is a better fit for asking on the [Neo4j community forums](https://community.neo4j.com/), but HA clustering has been deprecated for some time, and no new features or development has been happening there for awhile, so with the 4.0 major release we are following through on the already-established deprecation and removing it.\r\n\r\n[Causal clustering](https://neo4j.com/docs/operations-manual/current/clustering/introduction/) has been the recommended Neo4j clustering approach for several years now, and is more robust than HA (for example, avoiding split-brain issues that can occur in HA, which results in branched data).",
          "link": "https://stackoverflow.com/questions/58987243/why-ha-cluster-have-been-deprecated-in-neo4j-4-0/58999418#58999418",
          "title": "Why HA cluster have been deprecated in Neo4j 4.0?"
        }
      ],
      "owner": {
        "reputation": 1,
        "user_id": 10004865,
        "user_type": "registered",
        "profile_image": "https://lh6.googleusercontent.com/-LfjUhsSqLPI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq01Ir6pSqNWOGYabSpc8qX_h-xvCw/mo/photo.jpg?sz=128",
        "display_name": "tao fang",
        "link": "https://stackoverflow.com/users/10004865/tao-fang"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 4,
      "is_answered": false,
      "view_count": 22,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574447890,
      "creation_date": 1574394775,
      "question_id": 58987243,
      "share_link": "https://stackoverflow.com/q/58987243",
      "body_markdown": "HA cluster have been deprecated in Neo4j 4.0,why do this change?",
      "link": "https://stackoverflow.com/questions/58987243/why-ha-cluster-have-been-deprecated-in-neo4j-4-0",
      "title": "Why HA cluster have been deprecated in Neo4j 4.0?"
    },
    {
      "tags": [
        "neo4j"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 22983,
            "user_id": 92359,
            "user_type": "registered",
            "accept_rate": 94,
            "profile_image": "https://www.gravatar.com/avatar/664d3d4c50c731d90a32db5f9e01b4b9?s=128&d=identicon&r=PG",
            "display_name": "InverseFalcon",
            "link": "https://stackoverflow.com/users/92359/inversefalcon"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1574378609,
          "creation_date": 1574378609,
          "answer_id": 58985239,
          "question_id": 58985155,
          "share_link": "https://stackoverflow.com/a/58985239",
          "body_markdown": "If you&#39;re using a pattern like `(parent)-[:CHILD]-&gt;(child)` then the top nodes are nodes that don&#39;t have incoming :CHILD relationships:\r\n\r\n    MATCH (top) // though you should use labels if possible)\r\n    WHERE NOT ()-[:CHILD]-&gt;(top)\r\n    ...\r\n\r\nAnd if you&#39;re using a relationship in the opposite direction (`(parent)&lt;-[:PARENT]-(child)`) then it will be a similar query, just apply the relationship in the other direction:\r\n\r\n    MATCH (top) // though you should use labels if possible)\r\n    WHERE NOT (top)-[:PARENT]-&gt;()\r\n    ...\r\n\r\nSince your predicates is only based on the relationship type and direction (notice we don&#39;t need to know anything about the node at the other end of the pattern) the planner can use a degree check on relationships on the node by type/direction, which is more efficient than having to expand the relationships found.\r\n",
          "link": "https://stackoverflow.com/questions/58985155/how-to-search-for-nodes-that-dont-have-parents-in-neo4j/58985239#58985239",
          "title": "How to search for nodes that don&#39;t have parents in neo4j?"
        }
      ],
      "owner": {
        "reputation": 1273,
        "user_id": 3782911,
        "user_type": "registered",
        "accept_rate": 58,
        "profile_image": "https://www.gravatar.com/avatar/0e028bac777b7a1b9fdcfd294062497c?s=128&d=identicon&r=PG&f=1",
        "display_name": "David Boshton",
        "link": "https://stackoverflow.com/users/3782911/david-boshton"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 17,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "accepted_answer_id": 58985239,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574378609,
      "creation_date": 1574378100,
      "question_id": 58985155,
      "share_link": "https://stackoverflow.com/q/58985155",
      "body_markdown": "Very simply, I want the nodes at the top, and I have lots of disjoint subgraphs in my graph and I want the nodes at the top of those subgraphs, i.e. without any parents.\r\n\r\nTried a number of things but can&#39;t get a handle on what to do. Negative queries seems non-trivial.",
      "link": "https://stackoverflow.com/questions/58985155/how-to-search-for-nodes-that-dont-have-parents-in-neo4j",
      "title": "How to search for nodes that don&#39;t have parents in neo4j?"
    },
    {
      "tags": [
        "neo4j",
        "cypher",
        "spring-data-neo4j"
      ],
      "comments": [
        {
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "edited": false,
          "score": 1,
          "creation_date": 1574370973,
          "post_id": 58983422,
          "comment_id": 104220277,
          "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format#comment104220277_58983422"
        },
        {
          "owner": {
            "reputation": 847,
            "user_id": 1723127,
            "user_type": "registered",
            "accept_rate": 68,
            "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
            "display_name": "aGO",
            "link": "https://stackoverflow.com/users/1723127/ago"
          },
          "reply_to_user": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574374674,
          "post_id": 58983422,
          "comment_id": 104221722,
          "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format#comment104221722_58983422"
        },
        {
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574383500,
          "post_id": 58983422,
          "comment_id": 104224067,
          "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format#comment104224067_58983422"
        },
        {
          "owner": {
            "reputation": 847,
            "user_id": 1723127,
            "user_type": "registered",
            "accept_rate": 68,
            "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
            "display_name": "aGO",
            "link": "https://stackoverflow.com/users/1723127/ago"
          },
          "reply_to_user": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "edited": false,
          "score": 0,
          "creation_date": 1574415423,
          "post_id": 58983422,
          "comment_id": 104233552,
          "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format#comment104233552_58983422"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "owner": {
                "reputation": 847,
                "user_id": 1723127,
                "user_type": "registered",
                "accept_rate": 68,
                "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
                "display_name": "aGO",
                "link": "https://stackoverflow.com/users/1723127/ago"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574375066,
              "post_id": 58984617,
              "comment_id": 104221842,
              "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format/58984617#comment104221842_58984617"
            },
            {
              "owner": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user": {
                "reputation": 847,
                "user_id": 1723127,
                "user_type": "registered",
                "accept_rate": 68,
                "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
                "display_name": "aGO",
                "link": "https://stackoverflow.com/users/1723127/ago"
              },
              "edited": false,
              "score": 1,
              "creation_date": 1574383616,
              "post_id": 58984617,
              "comment_id": 104224098,
              "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format/58984617#comment104224098_58984617"
            },
            {
              "owner": {
                "reputation": 847,
                "user_id": 1723127,
                "user_type": "registered",
                "accept_rate": 68,
                "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
                "display_name": "aGO",
                "link": "https://stackoverflow.com/users/1723127/ago"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574415592,
              "post_id": 58984617,
              "comment_id": 104233658,
              "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format/58984617#comment104233658_58984617"
            },
            {
              "owner": {
                "reputation": 46884,
                "user_id": 974731,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name": "cybersam",
                "link": "https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user": {
                "reputation": 847,
                "user_id": 1723127,
                "user_type": "registered",
                "accept_rate": 68,
                "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
                "display_name": "aGO",
                "link": "https://stackoverflow.com/users/1723127/ago"
              },
              "edited": false,
              "score": 0,
              "creation_date": 1574458128,
              "post_id": 58984617,
              "comment_id": 104254296,
              "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format/58984617#comment104254296_58984617"
            }
          ],
          "tags": [],
          "owner": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor": {
            "reputation": 46884,
            "user_id": 974731,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name": "cybersam",
            "link": "https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count": 4,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": false,
          "score": 1,
          "last_activity_date": 1574458108,
          "last_edit_date": 1574458108,
          "creation_date": 1574374831,
          "answer_id": 58984617,
          "question_id": 58983422,
          "share_link": "https://stackoverflow.com/a/58984617",
          "body_markdown": "Try using the [apoc.temporal.format](https://neo4j.com/docs/labs/apoc/current/temporal/temporal-conversions/#temporal-conversions) function, specifying the [iso_instant](https://neo4j.com/docs/ogm-manual/current/reference/#reference:type-conversion:built-in) type conversion.\r\n\r\nFor example:\r\n\r\n    RETURN apoc.temporal.format(datetime(&quot;2019-11-21T22:04:19.13Z&quot;), &#39;iso_instant&#39;);\r\n\r\nwill return:\r\n\r\n    &quot;2019-11-21T22:04:19.130Z&quot;\r\n\r\n[UPDATE]\r\n\r\n*Since the `TOSTRING()` function is not documented to return any particular ISO 8601 string format for a `datetime`, one should not depend on it returning a specific format -- or even returning the same string for the same `datetime` across versions.*\r\n\r\nHowever, if you want a non-APOC approach that works with recent versions of neo4j (like, 3.5.12, on which this was tested), here is an example of one way to modify the current `TOSTRING()` output string to always have a 3-digit millisecond value:\r\n\r\n    // Generate a string.\r\n    // You can play with the number of digits after &quot;.&quot;, and\r\n    // even eliminate the &quot;.&quot; and any following digits.\r\n    WITH TOSTRING(datetime(&quot;2019-11-21T22:04:10.1Z&quot;)) AS d\r\n\r\n    // Always return a 3-digit millisecond time in result\r\n    WITH d, LENGTH(d) AS lth\r\n    RETURN d, CASE WHEN lth &lt; 24\r\n      THEN SUBSTRING(d, 0, lth-1) + SUBSTRING(&#39;.000Z&#39;, lth - 20)\r\n      ELSE d END AS result",
          "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format/58984617#58984617",
          "title": "Datetime and iso format"
        }
      ],
      "owner": {
        "reputation": 847,
        "user_id": 1723127,
        "user_type": "registered",
        "accept_rate": 68,
        "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
        "display_name": "aGO",
        "link": "https://stackoverflow.com/users/1723127/ago"
      },
      "last_editor": {
        "reputation": 847,
        "user_id": 1723127,
        "user_type": "registered",
        "accept_rate": 68,
        "profile_image": "https://i.stack.imgur.com/CHKEU.png?s=128&g=1",
        "display_name": "aGO",
        "link": "https://stackoverflow.com/users/1723127/ago"
      },
      "comment_count": 4,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 35,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 1,
      "score": 0,
      "last_activity_date": 1574458108,
      "creation_date": 1574368951,
      "last_edit_date": 1574374590,
      "question_id": 58983422,
      "share_link": "https://stackoverflow.com/q/58983422",
      "body_markdown": "sometimes toString(datetime()) return the milliseconds without the leading zeros to reach the length of 3 (yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX). Is it a bug or normal behavior?\r\n\r\nFor example:\r\n\r\n - 2019-11-21T15:59:22.**53**Z -&gt; it should be 2019-11-21T15:59:22.**053**Z\r\n - 2019-11-21T15:59:21.**216**Z -&gt; OK\r\n - 2019-11-21T15:30:09.**042**Z -&gt; OK\r\n\r\nThis behavior causes an issue when I try to convert the string into a date.\r\n\r\nThank you\r\n\r\n",
      "link": "https://stackoverflow.com/questions/58983422/datetime-and-iso-format",
      "title": "Datetime and iso format"
    },
    {
      "tags": [
        "neo4j",
        "cypher"
      ],
      "answers": [
        {
          "tags": [],
          "owner": {
            "reputation": 8944,
            "user_id": 4187346,
            "user_type": "registered",
            "profile_image": "https://i.stack.imgur.com/uSe1J.png?s=128&g=1",
            "display_name": "Dave Bennett",
            "link": "https://stackoverflow.com/users/4187346/dave-bennett"
          },
          "comment_count": 0,
          "down_vote_count": 0,
          "up_vote_count": 1,
          "is_accepted": true,
          "score": 1,
          "last_activity_date": 1574373203,
          "creation_date": 1574373203,
          "answer_id": 58984323,
          "question_id": 58982814,
          "share_link": "https://stackoverflow.com/a/58984323",
          "body_markdown": "Does something like this get it done for you?\r\n\r\n    MATCH (n {{ID:&quot;{id}&quot;}})\r\n    CALL apoc.path.expand(n, &quot;&lt;&quot;, &quot;&gt;A,&gt;B,&gt;C&quot;, 1, 10) yield path as p\r\n    RETURN labels(last(nodes(p)))[0] AS label, count(distinct nodes(p)[-1])",
          "link": "https://stackoverflow.com/questions/58982814/combine-several-apoc-path-expand-calls-into-one/58984323#58984323",
          "title": "combine several apoc.path.expand calls into one"
        }
      ],
      "owner": {
        "reputation": 675,
        "user_id": 2899630,
        "user_type": "registered",
        "accept_rate": 38,
        "profile_image": "https://www.gravatar.com/avatar/dc74a8620c94bda1cb18ab6e2331259e?s=128&d=identicon&r=PG&f=1",
        "display_name": "Alex L",
        "link": "https://stackoverflow.com/users/2899630/alex-l"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": true,
      "view_count": 25,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 1,
      "accepted_answer_id": 58984323,
      "answer_count": 1,
      "score": 1,
      "last_activity_date": 1574373203,
      "creation_date": 1574366209,
      "question_id": 58982814,
      "share_link": "https://stackoverflow.com/q/58982814",
      "body_markdown": "I have a several cypher calls that returns the count of the nodes from a specific type (`A`, `B` or `C`) that are connect to my node \r\n\r\n\r\n    MATCH (n {{ID:&quot;{id}&quot;}})\r\n            call apoc.path.expand(n, &quot;&lt;&quot;, &quot;&gt;A&quot;, 1, 10) yield path as p\r\n            return count(distinct nodes(p)[-1])\r\n    MATCH (n {{ID:&quot;{id}&quot;}})\r\n            call apoc.path.expand(n, &quot;&lt;&quot;, &quot;&gt;B&quot;, 1, 10) yield path as p\r\n            return count(distinct nodes(p)[-1])\r\n    MATCH (n {{ID:&quot;{id}&quot;}})\r\n            call apoc.path.expand(n, &quot;&lt;&quot;, &quot;&gt;C&quot;, 1, 10) yield path as p\r\n            return count(distinct nodes(p)[-1])\r\n\r\nMaking these calls 3 time is wasteful, and I wonder if I can combine them into one, but still get the distinct count for all three\r\n",
      "link": "https://stackoverflow.com/questions/58982814/combine-several-apoc-path-expand-calls-into-one",
      "title": "combine several apoc.path.expand calls into one"
    },
    {
      "tags": [
        "xml",
        "neo4j"
      ],
      "owner": {
        "reputation": 1,
        "user_id": 12380851,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/f91806e9dc15c2c4ca11c2211b92cdbc?s=128&d=identicon&r=PG&f=1",
        "display_name": "collgis",
        "link": "https://stackoverflow.com/users/12380851/collgis"
      },
      "last_editor": {
        "reputation": 1,
        "user_id": 12380851,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/f91806e9dc15c2c4ca11c2211b92cdbc?s=128&d=identicon&r=PG&f=1",
        "display_name": "collgis",
        "link": "https://stackoverflow.com/users/12380851/collgis"
      },
      "comment_count": 0,
      "delete_vote_count": 0,
      "close_vote_count": 0,
      "is_answered": false,
      "view_count": 44,
      "favorite_count": 0,
      "down_vote_count": 0,
      "up_vote_count": 0,
      "answer_count": 0,
      "score": 0,
      "last_activity_date": 1574426642,
      "creation_date": 1574349869,
      "last_edit_date": 1574426642,
      "question_id": 58978291,
      "share_link": "https://stackoverflow.com/q/58978291",
      "body_markdown": "I am working on a project with the goal of improving the import of XML data into neo4j. Let say my XML file is the `&lt; book.xml &gt;` provided by Microsoft. based on the `&lt;book.xml file&gt;` I have to generate two Graphs and comprare their queries reponse times.\r\nthe first graph should be created using `&lt;apoc.xml.import(&quot;...&quot;)&gt;` (no transformation of the xml file before create,
